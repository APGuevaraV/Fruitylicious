(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a});var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(u){if(n)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=Object(r.e)(o.value,2),a=u[1],c=this.normalizeInstanceIdentifier(u[0]);try{var l=this.getOrInitializeService(c);a.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"h",function(){return a}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,u)}a((r=r.apply(t,e||[])).next())})}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new a(t,this.project,this.concurrent))}}class a extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),u=n("2fFW"),a=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let u=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(u=Object.create(e),Object(r.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=u.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}__tryOrSetError(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),u=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),u=n("mCNh"),a=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(u.add(s?s.call(u,this.source):this.source||a.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),a.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:Object(u.b)(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.5","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),u=n("I55L"),a=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function u(...t){let e=Number.POSITIVE_INFINITY,n=null,u=t[t.length-1];return Object(i.a)(u)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof u&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),u=n("Ylt2"),a=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[a.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return sn}),n.d(e,"b",function(){return Yu}),n.d(e,"c",function(){return Ku}),n.d(e,"d",function(){return zu}),n.d(e,"e",function(){return Bu}),n.d(e,"f",function(){return za}),n.d(e,"g",function(){return Pa}),n.d(e,"h",function(){return Zs}),n.d(e,"i",function(){return ua}),n.d(e,"j",function(){return Is}),n.d(e,"k",function(){return Xu}),n.d(e,"l",function(){return xs}),n.d(e,"m",function(){return br}),n.d(e,"n",function(){return Su}),n.d(e,"o",function(){return Xi}),n.d(e,"p",function(){return gn}),n.d(e,"q",function(){return on}),n.d(e,"r",function(){return vo}),n.d(e,"s",function(){return Ks}),n.d(e,"t",function(){return Gs}),n.d(e,"u",function(){return Qu}),n.d(e,"v",function(){return au}),n.d(e,"w",function(){return Ra}),n.d(e,"x",function(){return uu}),n.d(e,"y",function(){return xa}),n.d(e,"z",function(){return la}),n.d(e,"A",function(){return vn}),n.d(e,"B",function(){return Ju}),n.d(e,"C",function(){return Wu}),n.d(e,"D",function(){return js}),n.d(e,"E",function(){return As}),n.d(e,"F",function(){return Er}),n.d(e,"G",function(){return Ns}),n.d(e,"H",function(){return pr}),n.d(e,"I",function(){return mn}),n.d(e,"J",function(){return Ma}),n.d(e,"K",function(){return ru}),n.d(e,"L",function(){return ya}),n.d(e,"M",function(){return un}),n.d(e,"N",function(){return Ds}),n.d(e,"O",function(){return Ps}),n.d(e,"P",function(){return lu}),n.d(e,"Q",function(){return M}),n.d(e,"R",function(){return Aa}),n.d(e,"S",function(){return Sa}),n.d(e,"T",function(){return w}),n.d(e,"U",function(){return Ca}),n.d(e,"V",function(){return qa}),n.d(e,"W",function(){return wa}),n.d(e,"X",function(){return Zu}),n.d(e,"Y",function(){return eo}),n.d(e,"Z",function(){return ls}),n.d(e,"ab",function(){return fr}),n.d(e,"bb",function(){return Jn}),n.d(e,"cb",function(){return Mn}),n.d(e,"db",function(){return Fn}),n.d(e,"eb",function(){return Bn}),n.d(e,"fb",function(){return Hn}),n.d(e,"gb",function(){return qn}),n.d(e,"hb",function(){return zn}),n.d(e,"ib",function(){return ss}),n.d(e,"jb",function(){return Fa}),n.d(e,"kb",function(){return us}),n.d(e,"lb",function(){return as}),n.d(e,"mb",function(){return Un}),n.d(e,"nb",function(){return z}),n.d(e,"ob",function(){return Co}),n.d(e,"pb",function(){return Uo}),n.d(e,"qb",function(){return Mo}),n.d(e,"rb",function(){return os}),n.d(e,"sb",function(){return kt}),n.d(e,"tb",function(){return y}),n.d(e,"ub",function(){return Vn}),n.d(e,"vb",function(){return mo}),n.d(e,"wb",function(){return Ct}),n.d(e,"xb",function(){return _s}),n.d(e,"yb",function(){return oi}),n.d(e,"zb",function(){return xo}),n.d(e,"Ab",function(){return $o}),n.d(e,"Bb",function(){return Uu}),n.d(e,"Cb",function(){return tt}),n.d(e,"Db",function(){return ut}),n.d(e,"Eb",function(){return E}),n.d(e,"Fb",function(){return I}),n.d(e,"Gb",function(){return it}),n.d(e,"Hb",function(){return at}),n.d(e,"Ib",function(){return ko}),n.d(e,"Jb",function(){return Lo}),n.d(e,"Kb",function(){return Ro}),n.d(e,"Lb",function(){return Do}),n.d(e,"Mb",function(){return Vo}),n.d(e,"Nb",function(){return tn}),n.d(e,"Ob",function(){return es}),n.d(e,"Pb",function(){return xn}),n.d(e,"Qb",function(){return en}),n.d(e,"Rb",function(){return Hu}),n.d(e,"Sb",function(){return Fo}),n.d(e,"Tb",function(){return Fu}),n.d(e,"Ub",function(){return zo}),n.d(e,"Vb",function(){return No}),n.d(e,"Wb",function(){return Cu}),n.d(e,"Xb",function(){return Mu}),n.d(e,"Yb",function(){return jo}),n.d(e,"Zb",function(){return Jt}),n.d(e,"ac",function(){return gr}),n.d(e,"bc",function(){return ot}),n.d(e,"cc",function(){return Ao}),n.d(e,"dc",function(){return Qo}),n.d(e,"ec",function(){return Xo}),n.d(e,"fc",function(){return ts});var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),u=n("7o/Q");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends u.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return a()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){for(let e in t)if(t[e]===g)return e;throw Error("Could not find renamed property on target object.")}function v(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function m(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const b=g({__forward_ref__:g});function w(t){return t.__forward_ref__=w,t.toString=function(){return y(this())},t}function _(t){return O(t)?t():t}function O(t){return"function"==typeof t&&t.hasOwnProperty(b)&&t.__forward_ref__===w}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function I(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function C(t){return S(t,x)||S(t,j)}function S(t,e){return t.hasOwnProperty(e)?t[e]:null}function T(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(k))?t[A]:null}const x=g({"\u0275prov":g}),A=g({"\u0275inj":g}),j=g({ngInjectableDef:g}),k=g({ngInjectorDef:g});var N=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let P;function D(t){const e=P;return P=t,e}function R(t,e,n){const r=C(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&N.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${y(t)}]`)}function L(t){return{toString:t}.toString()}var V=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const U="undefined"!=typeof globalThis&&globalThis,F="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,z=U||H||F||q,B={},K=[],G=g({"\u0275cmp":g}),$=g({"\u0275dir":g}),W=g({"\u0275pipe":g}),J=g({"\u0275mod":g}),Y=g({"\u0275loc":g}),Z=g({"\u0275fac":g}),Q=g({__NG_ELEMENT_ID__:g});let X=0;function tt(t){return L(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===V.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||K,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||K,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=X++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[W]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||K,declarations:t.declarations||K,imports:t.imports||K,exports:t.exports||K,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&L(()=>{rt[t.id]=t.type}),e}function ot(t,e){return L(()=>{const n=lt(t,!0);n.declarations=e.declarations||K,n.imports=e.imports||K,n.exports=e.exports||K})}function st(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const ut=tt;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[G]||null}function lt(t,e){const n=t[J]||null;if(!n&&!0===e)throw new Error(`Type ${y(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function gt(t){return 0!=(8&t.flags)}function vt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function mt(t){return null!==t.template}function bt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class wt extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _t(t){return"string"==typeof t?t:null==t?"":String(t)}function Ot(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_t(t)}function Et(t,e){const n=e?" in "+e:"";throw new wt("201",`No provider for ${Ot(t)} found${n}`)}class It{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Ct(){return St}function St(t){return t.type.prototype.ngOnChanges&&(t.setInput=xt),Tt}function Tt(){const t=At(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function xt(t,e,n,r){const i=At(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],a=s[u];o[u]=new It(a&&a.currentValue,e,s===B),t[r]=e}function At(t){return t.__ngSimpleChanges__||null}Ct.ngInherit=!0;let jt=void 0;function kt(t){jt=t}function Nt(t){return!!t.listen}const Pt={createRenderer:(t,e)=>void 0!==jt?jt:"undefined"!=typeof document?document:void 0};function Dt(t){for(;Array.isArray(t);)t=t[0];return t}function Rt(t,e){return Dt(e[t])}function Lt(t,e){return Dt(e[t.index])}function Vt(t,e){return t.data[e]}function Mt(t,e){const n=e[t];return dt(n)?n:n[0]}function Ut(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ft(t){return 4==(4&t[2])}function qt(t){return 128==(128&t[2])}function Ht(t,e){return null==e?null:t[e]}function zt(t){t[18]=0}function Bt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Kt={lFrame:he(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Gt(){return Kt.bindingsEnabled}function $t(){return Kt.lFrame.lView}function Wt(){return Kt.lFrame.tView}function Jt(t){Kt.lFrame.contextLView=t}function Yt(){let t=Zt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Zt(){return Kt.lFrame.currentTNode}function Qt(t,e){const n=Kt.lFrame;n.currentTNode=t,n.isParent=e}function Xt(){return Kt.lFrame.isParent}function te(){return Kt.isInCheckNoChangesMode}function ee(t){Kt.isInCheckNoChangesMode=t}function ne(){return Kt.lFrame.bindingIndex++}function re(t,e){const n=Kt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ie(e)}function ie(t){Kt.lFrame.currentDirectiveIndex=t}function oe(){return Kt.lFrame.currentQueryIndex}function se(t){Kt.lFrame.currentQueryIndex=t}function ue(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ae(t,e,n){if(n&N.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&N.Host||(r=ue(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Kt.lFrame=le();return r.currentTNode=e,r.lView=t,!0}function ce(t){const e=le(),n=t[1];Kt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function le(){const t=Kt.lFrame,e=null===t?null:t.child;return null===e?he(t):e}function he(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function fe(){const t=Kt.lFrame;return Kt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const de=fe;function pe(){const t=fe();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ge(){return Kt.lFrame.selectedIndex}function ve(t){Kt.lFrame.selectedIndex=t}function ye(){const t=Kt.lFrame;return Vt(t.tView,t.selectedIndex)}function me(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:u}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function be(t,e,n){Oe(t,e,3,n)}function we(t,e,n,r){(3&t[2])===n&&Oe(t,e,n,r)}function _e(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Oe(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let u=void 0!==r?65535&t[18]:0;u<o;u++)if("number"==typeof e[u+1]){if(s=e[u],null!=r&&s>=r)break}else e[u]<0&&(t[18]+=65536),(s<i||-1==i)&&(Ee(t,n,e,u),t[18]=(4294901760&t[18])+u+2),u++}function Ee(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Ie=-1;class Ce{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Se(t,e,n){const r=Nt(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],u=n[i++],a=n[i++];r?t.setAttribute(e,u,a,s):e.setAttributeNS(s,u,a)}else{const s=o,u=n[++i];xe(s)?r&&t.setProperty(e,s,u):r?t.setAttribute(e,s,u):e.setAttribute(s,u),i++}}return i}function Te(t){return 3===t||4===t||6===t}function xe(t){return 64===t.charCodeAt(0)}function Ae(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||je(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function je(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function ke(t){return t!==Ie}function Ne(t){return 32767&t}function Pe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let De=!0;function Re(t){const e=De;return De=t,e}let Le=0;function Ve(t,e){const n=Ue(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Me(r.data,t),Me(e,null),Me(r.blueprint,null));const i=Fe(t,e),o=t.injectorIndex;if(ke(i)){const t=Ne(i),n=Pe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Me(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ue(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Fe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ie;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ie}function qe(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=Le++);const i=255&r,o=1<<i,s=64&i,u=32&i,a=e.data;128&i?s?u?a[t+7]|=o:a[t+6]|=o:u?a[t+5]|=o:a[t+4]|=o:s?u?a[t+3]|=o:a[t+2]|=o:u?a[t+1]|=o:a[t]|=o}(t,e,n)}function He(t,e,n){if(n&N.Optional)return t;Et(e,"NodeInjector")}function ze(t,e,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=t[9],o=D(void 0);try{return i?i.get(e,r,n&N.Optional):R(e,r,n&N.Optional)}finally{D(o)}}return He(r,e,n)}function Be(t,e,n,r=N.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e?e>=0?255&e:Ge:e}(n);if("function"==typeof o){if(!ae(e,t,r))return r&N.Host?He(i,n,r):ze(e,n,r,i);try{const t=o();if(null!=t||r&N.Optional)return t;Et(n)}finally{de()}}else if("number"==typeof o){let i=null,s=Ue(t,e),u=Ie,a=r&N.Host?e[16][6]:null;for((-1===s||r&N.SkipSelf)&&(u=-1===s?Fe(t,e):e[s+8],u!==Ie&&Ze(r,!1)?(i=e[1],s=Ne(u),e=Pe(u,e)):s=-1);-1!==s;){const t=e[1];if(Ye(o,s,t.data)){const t=$e(s,e,n,i,r,a);if(t!==Ke)return t}u=e[s+8],u!==Ie&&Ze(r,e[1].data[s+8]===a)&&Ye(o,s,e)?(i=t,s=Ne(u),e=Pe(u,e)):s=-1}}}return ze(e,n,r,i)}const Ke={};function Ge(){return new Qe(Yt(),$t())}function $e(t,e,n,r,i,o){const s=e[1],u=s.data[t+8],a=We(u,s,n,null==r?vt(u)&&De:r!=s&&0!=(3&u.type),i&N.Host&&o===u);return null!==a?Je(e,s,a,u):Ke}function We(t,e,n,r,i){const o=t.providerIndexes,s=e.data,u=1048575&o,a=t.directiveStart,c=o>>20,l=i?u+c:t.directiveEnd;for(let h=r?u:u+c;h<l;h++){const t=s[h];if(h<a&&n===t||h>=a&&t.type===n)return h}if(i){const t=s[a];if(t&&mt(t)&&t.type===n)return a}return null}function Je(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Ce){const s=i;s.resolving&&function(t,e){throw new wt("200","Circular dependency in DI detected for "+t)}(Ot(o[n]));const u=Re(s.canSeeViewProviders);s.resolving=!0;const a=s.injectImpl?D(s.injectImpl):null;ae(t,r,N.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=St(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==a&&D(a),Re(u),s.resolving=!1,de()}}return i}function Ye(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function Ze(t,e){return!(t&N.Self||t&N.Host&&e)}class Qe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Be(this._tNode,this._lView,t,void 0,e)}}function Xe(t){const e=t;if(O(t))return()=>{const t=Xe(_(e));return t?t():null};let n=bt(e);if(null===n){const t=T(e);n=t&&t.factory}return n||null}function tn(t){return L(()=>{const e=t.prototype.constructor,n=e[Z]||Xe(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||Xe(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function en(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Te(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Yt(),t)}const nn="__parameters__";function rn(t,e,n){return L(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(nn)?t[nn]:Object.defineProperty(t,nn,{value:[]})[nn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class on{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const sn=new on("AnalyzeForEntryComponents"),un=Function;function an(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),an(r,e)):e!==t&&e.push(r)}return e}function cn(t,e){t.forEach(t=>Array.isArray(t)?cn(t,e):e(t))}function ln(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function hn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fn(t,e,n){let r=pn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function dn(t,e){const n=pn(t,e);if(n>=0)return t[1|n]}function pn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const gn=rn("Inject",t=>({token:t})),vn=rn("Optional"),yn=rn("Self"),mn=rn("SkipSelf"),bn=rn("Host"),wn={},_n=/\n/gm,On="__source",En=g({provide:String,useValue:g});let In,Cn=void 0;function Sn(t){const e=Cn;return Cn=t,e}function Tn(t,e=N.Default){if(void 0===Cn)throw new Error("inject() must be called from an injection context");return null===Cn?R(t,void 0,e):Cn.get(t,e&N.Optional?null:void 0,e)}function xn(t,e=N.Default){return(P||Tn)(_(t),e)}function An(t){const e=[];for(let n=0;n<t.length;n++){const r=_(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=N.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof vn||"Optional"===i.ngMetadataName||i===vn?n|=N.Optional:i instanceof mn||"SkipSelf"===i.ngMetadataName||i===mn?n|=N.SkipSelf:i instanceof yn||"Self"===i.ngMetadataName||i===yn?n|=N.Self:i instanceof bn||"Host"===i.ngMetadataName||i===bn?n|=N.Host:t=i instanceof gn||i===gn?i.token:i}e.push(xn(t,n))}else e.push(xn(r))}return e}function jn(t){var e;return(null===(e=function(){if(void 0===In&&(In=null,z.trustedTypes))try{In=z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return In}())||void 0===e?void 0:e.createHTML(t))||t}class kn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see https://g.co/ng/security#xss)"}}class Nn extends kn{getTypeName(){return"HTML"}}class Pn extends kn{getTypeName(){return"Style"}}class Dn extends kn{getTypeName(){return"Script"}}class Rn extends kn{getTypeName(){return"URL"}}class Ln extends kn{getTypeName(){return"ResourceURL"}}function Vn(t){return t instanceof kn?t.changingThisBreaksApplicationSecurity:t}function Mn(t,e){const n=Un(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Un(t){return t instanceof kn&&t.getTypeName()||null}function Fn(t){return new Nn(t)}function qn(t){return new Pn(t)}function Hn(t){return new Dn(t)}function zn(t){return new Rn(t)}function Bn(t){return new Ln(t)}class Kn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(jn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Gn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=jn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=jn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const $n=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Wn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jn(t){return(t=String(t)).match($n)||t.match(Wn)?t:"unsafe:"+t}function Yn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Zn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Qn=Yn("area,br,col,hr,img,wbr"),Xn=Yn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tr=Yn("rp,rt"),er=Zn(tr,Xn),nr=Zn(Qn,Zn(Xn,Yn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zn(tr,Yn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),er),rr=Yn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ir=Yn("srcset"),or=Zn(rr,ir,Yn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),sr=Yn("script,style,template");class ur{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!nr.hasOwnProperty(e))return this.sanitizedSomething=!0,!sr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!or.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;rr[o]&&(s=Jn(s)),ir[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Jn(t.trim())).join(", ")),this.buf.push(" ",e,'="',lr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();nr.hasOwnProperty(e)&&!Qn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(lr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const ar=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cr=/([^\#-~ |!])/g;function lr(t){return t.replace(/&/g,"&amp;").replace(ar,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(cr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let hr;function fr(t,e){let n=null;try{hr=hr||function(t){const e=new Gn(t);return function(){try{return!!(new window.DOMParser).parseFromString(jn(""),"text/html")}catch(t){return!1}}()?new Kn(e):e}(t);let r=e?String(e):"";n=hr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=hr.getInertBodyElement(r)}while(r!==o);return(new ur).sanitizeChildren(dr(n)||n)}finally{if(n){const t=dr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function dr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var pr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function gr(t){const e=function(){const t=$t();return t&&t[12]}();return e?e.sanitize(pr.URL,t)||"":Mn(t,"URL")?Vn(t):Jn(_t(t))}function vr(t){return t.ngDebugContext}function yr(t){return t.ngOriginalError}function mr(t,...e){t.error(...e)}class br{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||mr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?vr(t)?vr(t):this._findContext(yr(t)):null}_findOriginalError(t){let e=yr(t);for(;e&&yr(e);)e=yr(e);return e}}function wr(t,e){t.__ngContext__=e}const _r=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function Or(t){return t instanceof Function?t():t}var Er=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Ir(t,e){return(void 0)(t,e)}function Cr(t){const e=t[3];return pt(e)?e[3]:e}function Sr(t){return xr(t[13])}function Tr(t){return xr(t[4])}function xr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Ar(t,e,n,r,i){if(null!=r){let o,s=!1;pt(r)?o=r:dt(r)&&(s=!0,r=r[0]);const u=Dt(r);0===t&&null!==n?null==i?Lr(e,n,u):Rr(e,n,u,i||null,!0):1===t&&null!==n?Rr(e,n,u,i||null,!0):2===t?function(t,e,n){const r=Mr(t,e);r&&function(t,e,n,r){Nt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,u,s):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){const o=n[7];o!==Dt(n)&&Ar(e,t,r,o,i);for(let s=ft;s<n.length;s++){const i=n[s];zr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function jr(t,e,n){return Nt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function kr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Bt(i,-1)),n.splice(r,1)}function Nr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&kr(o,r),e>0&&(t[n-1][4]=r[4]);const s=hn(t,ft+e);zr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const u=s[19];null!==u&&u.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Pr(t,e){if(!(256&e[2])){const n=e[11];Nt(n)&&n.destroyNode&&zr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Dr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Dr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Dr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Dr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ce)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):Dt(e[t]),u=r[i=n[o+2]],a=n[o+3];"boolean"==typeof a?s.removeEventListener(n[o],u,a):a>=0?r[i=a]():r[i=-a].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Nt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&kr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Rr(t,e,n,r,i){Nt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Lr(t,e,n){Nt(t)?t.appendChild(e,n):e.appendChild(n)}function Vr(t,e,n,r,i){null!==r?Rr(t,e,n,r,i):Lr(t,e,n)}function Mr(t,e){return Nt(t)?t.parentNode(e):e.parentNode}function Ur(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Lt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Lt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let u=0;u<n.length;u++)Vr(o,i,n[u],s,!1);else Vr(o,i,n,s,!1)}function Fr(t,e){if(null!==e){const n=e.type;if(3&n)return Lt(e,t);if(4&n)return qr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Fr(t,n);{const n=t[e.index];return pt(n)?qr(-1,n):Dt(n)}}if(32&n)return Ir(e,t)()||Dt(t[e.index]);{const n=t[16],r=n[6],i=Cr(n),o=r.projection[e.projection];return null!=o?Fr(i,o):Fr(t,e.next)}}return null}function qr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Fr(t,r)}return e[7]}function Hr(t,e,n,r,i,o,s){for(;null!=n;){const u=r[n.index],a=n.type;if(s&&0===e&&(u&&wr(Dt(u),r),n.flags|=4),64!=(64&n.flags))if(8&a)Hr(t,e,n.child,r,i,o,!1),Ar(e,t,i,u,o);else if(32&a){const s=Ir(n,r);let a;for(;a=s();)Ar(e,t,i,a,o);Ar(e,t,i,u,o)}else 16&a?Br(t,e,r,n,i,o):Ar(e,t,i,u,o);n=s?n.projectionNext:n.next}}function zr(t,e,n,r,i,o){Hr(n,r,t.firstChild,e,i,o,!1)}function Br(t,e,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let a=0;a<u.length;a++)Ar(e,t,i,u[a],o);else Hr(t,e,u,s[3],i,o,!0)}function Kr(t,e,n){Nt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Gr(t,e,n){Nt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function $r(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Wr="ng-template";function Jr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==$r(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Yr(t){return 4===t.type&&t.value!==Wr}function Zr(t,e,n){return e===(4!==t.type||n?t.value:Wr)}function Qr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(Te(t[e]))return e;return t.length}(i);let s=!1;for(let u=0;u<e.length;u++){const a=e[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!Zr(t,a,n)||""===a&&1===e.length){if(Xr(r))return!1;s=!0}}else{const c=8&r?a:e[++u];if(8&r&&null!==t.attrs){if(!Jr(t.attrs,c,n)){if(Xr(r))return!1;s=!0}continue}const l=ti(8&r?"class":a,i,Yr(t),n);if(-1===l){if(Xr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==$r(e,c,0)||2&r&&c!==t){if(Xr(r))return!1;s=!0}}}}else{if(!s&&!Xr(r)&&!Xr(a))return!1;if(s&&Xr(a))continue;s=!1,r=a|1&r}}return Xr(r)||s}function Xr(t){return 0==(1&t)}function ti(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ei(t,e,n=!1){for(let r=0;r<e.length;r++)if(Qr(t,e[r],n))return!0;return!1}function ni(t,e){return t?":not("+e.trim()+")":e}function ri(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Xr(s)||(e+=ni(o,i),i=""),r=s,o=o||!Xr(r);n++}return""!==i&&(e+=ni(o,i)),e}const ii={};function oi(t){si(Wt(),$t(),ge()+t,te())}function si(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&be(e,r,n)}else{const r=t.preOrderHooks;null!==r&&we(e,r,0,n)}ve(n)}function ui(t,e){return t<<17|e<<2}function ai(t){return t>>17&32767}function ci(t){return 2|t}function li(t){return(131068&t)>>2}function hi(t,e){return-131069&t|e<<2}function fi(t){return 1|t}function di(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];se(i),n.contentQueries(2,e[o],o)}}}function pi(t,e,n,r,i,o,s,u,a,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,zt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=u||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function gi(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Zt(),s=Xt(),u=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u)),u}(t,e,n,r,i),Kt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Kt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Qt(o,!0),o}function vi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function yi(t,e,n){ce(e);try{const r=t.viewQuery;null!==r&&Gi(1,r,n);const i=t.template;null!==i&&wi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&di(t,e),t.staticViewQueries&&Gi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)qi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,pe()}}function mi(t,e,n,r){const i=e[2];if(256==(256&i))return;ce(e);const o=te();try{zt(e),Kt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&wi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&be(e,n,null)}else{const n=t.preOrderHooks;null!==n&&we(e,n,0,null),_e(e,0)}if(function(t){for(let e=Sr(t);null!==e;e=Tr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Bt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Sr(t);null!==e;e=Tr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];qt(n)&&mi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&di(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&be(e,n)}else{const n=t.contentHooks;null!==n&&we(e,n,1),_e(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ve(~r);else{const i=r,o=n[++t],s=n[++t];re(o,i),s(2,e[i])}}}finally{ve(-1)}}(t,e);const u=t.components;null!==u&&function(t,e){for(let n=0;n<e.length;n++)Ui(t,e[n])}(e,u);const a=t.viewQuery;if(null!==a&&Gi(2,a,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&be(e,n)}else{const n=t.viewHooks;null!==n&&we(e,n,2),_e(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Bt(e[3],-1))}finally{pe()}}function bi(t,e,n,r){const i=e[10],o=!te(),s=Ft(e);try{o&&!s&&i.begin&&i.begin(),s&&yi(t,e,r),mi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function wi(t,e,n,r,i){const o=ge();try{ve(-1),2&r&&e.length>ht&&si(t,e,ht,te()),n(r,i)}finally{ve(o)}}function _i(t,e,n){Gt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Ve(n,e),wr(r,e);const s=n.initialInputs;for(let u=i;u<o;u++){const r=t.data[u],o=mt(r);o&&Ri(e,n,r);const a=Je(e,t,u,n);wr(a,e),null!==s&&Li(0,u-i,a,r,0,s),o&&(Mt(n.index,e)[8]=a)}}(t,e,n,Lt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Kt.lFrame.currentDirectiveIndex;try{ve(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ie(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||ji(r,i)}}finally{ve(-1),ie(s)}}(t,e,n))}function Oi(t,e,n=Lt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],u=-1===s?n(e,t):t[s];t[i++]=u}}}function Ei(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ii(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ii(t,e,n,r,i,o,s,u,a,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ii);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:u,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:d,incompleteFirstPass:!1}}function Ci(t,e,n,r){const i=Wi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&Ji(t).push(r,i.length-1))}function Si(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ti(t,e,n,r,i,o,s,u){const a=Lt(e,n);let c,l=e.inputs;!u&&null!=l&&(c=l[r])?(Zi(t,n,c,r,i),vt(e)&&function(t,e){const n=Mt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.value||"",r):i,Nt(o)?o.setProperty(a,r,i):xe(r)||(a.setProperty?a.setProperty(r,i):a[r]=i))}function xi(t,e,n,r){let i=!1;if(Gt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];ei(n,s.selectors,!1)&&(i||(i=[]),qe(Ve(n,e),t,s.type),mt(s)?(ki(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Pi(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,u=!1,a=vi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Ae(n.mergedAttrs,c.hostAttrs),Di(t,n,e,a,c),Ni(a,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),u||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),u=!0),a++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,u=null;for(let a=e.directiveStart;a<n;a++){const t=r[a],n=t.inputs,c=null===i||Yr(e)?null:Vi(n,i);o.push(c),s=Si(n,a,s),u=Si(t.outputs,a,u)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=u}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new wt("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Ae(n.mergedAttrs,n.attrs),i}function Ai(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function ji(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ki(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ni(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;mt(e)&&(n[""]=t)}}function Pi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Di(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=bt(i.type)),s=new Ce(o,mt(i),null);t.blueprint[r]=s,n[r]=s,Ai(t,e,0,r,vi(t,n,i.hostVars,ii),i)}function Ri(t,e,n){const r=Lt(e,t),i=Ei(n),o=t[10],s=Hi(t,pi(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Li(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],u=s[e++];null!==t?r.setInput(n,u,i,o):n[o]=u}}}function Vi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Mi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Ui(t,e){const n=Mt(e,t);if(qt(n)){const t=n[1];80&n[2]?mi(t,n,t.template,n[8]):n[5]>0&&Fi(n)}}function Fi(t){for(let n=Sr(t);null!==n;n=Tr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];mi(t,e,t.template,e[8])}else e[5]>0&&Fi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Mt(e[n],t);qt(r)&&r[5]>0&&Fi(r)}}function qi(t,e){const n=Mt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),yi(r,n,n[8])}function Hi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function zi(t){for(;t;){t[2]|=64;const e=Cr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Bi(t,e,n){const r=e[10];r.begin&&r.begin();try{mi(t,e,t.template,n)}catch(i){throw Yi(e,i),i}finally{r.end&&r.end()}}function Ki(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Ut(n),i=r[1];bi(i,r,i.template,n)}}(t[8])}function Gi(t,e,n){se(0),e(t,n)}const $i=(()=>Promise.resolve(null))();function Wi(t){return t[7]||(t[7]=[])}function Ji(t){return t.cleanup||(t.cleanup=[])}function Yi(t,e){const n=t[9],r=n?n.get(br,null):null;r&&r.handleError(e)}function Zi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],u=n[o++],a=e[s],c=t.data[s];null!==c.setInput?c.setInput(a,i,r,u):a[u]=i}}function Qi(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=m(i,t):2==o&&(r=m(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const Xi=new on("INJECTOR",-1);class to{get(t,e=wn){if(e===wn){const e=new Error(`NullInjectorError: No provider for ${y(t)}!`);throw e.name="NullInjectorError",e}return e}}const eo=new on("Set Injector scope."),no={},ro={},io=[];let oo=void 0;function so(){return void 0===oo&&(oo=new to),oo}function uo(t,e=null,n=null,r){return new ao(t,n,e||so(),r)}class ao{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&cn(e,n=>this.processProvider(n,t,e)),cn([t],t=>this.processInjectorType(t,[],i)),this.records.set(Xi,ho(void 0,this));const o=this.records.get(eo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:y(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=wn,n=N.Default){this.assertNotDestroyed();const r=Sn(this);try{if(!(n&N.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof on)&&C(t);e=n&&this.injectableDefInScope(n)?ho(co(t),no):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&N.Self?so():this.parent).get(t,e=n&N.Optional&&e===wn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(y(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[On]&&i.unshift(e[On]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=y(e);if(Array.isArray(e))i=e.map(y).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):y(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(_n,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{Sn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(y(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=_(t)))return!1;let r=T(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=T(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{cn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];cn(r,t=>this.processProvider(t,n,r||io))}}this.injectorDefTypes.add(o),this.records.set(o,ho(r.factory,no));const u=r.providers;if(null!=u&&!s){const e=t;cn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=po(t=_(t))?t:_(t&&t.provide);const i=function(t,e,n){return fo(t)?ho(void 0,t.useValue):ho(lo(t),no)}(t);if(po(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ho(void 0,no,!0),e.factory=()=>An(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===no&&(e.value=ro,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function co(t){const e=C(t),n=null!==e?e.factory:bt(t);if(null!==n)return n;const r=T(t);if(null!==r)return r.factory;if(t instanceof on)throw new Error(`Token ${y(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${y(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[j]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function lo(t,e,n){let r=void 0;if(po(t)){const e=_(t);return bt(e)||co(e)}if(fo(t))r=()=>_(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...An(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>xn(_(t.useExisting));else{const e=_(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return bt(e)||co(e);r=()=>new e(...An(t.deps))}var i;return r}function ho(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function fo(t){return null!==t&&"object"==typeof t&&En in t}function po(t){return"function"==typeof t}const go=function(t,e,n){return function(t,e=null,n=null,r){const i=uo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let vo=(()=>{class t{static create(t,e){return Array.isArray(t)?go(t,e,""):go(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=wn,t.NULL=new to,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>xn(Xi)}),t.__NG_ELEMENT_ID__=-1,t})();function yo(t,e){me(Ut(t)[1],Yt())}function mo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if(mt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=bo(t.inputs),e.declaredInputs=bo(t.declaredInputs),e.outputs=bo(t.outputs);const n=i.hostBindings;n&&Oo(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&wo(t,o),s&&_o(t,s),v(t.inputs,i.inputs),v(t.declaredInputs,i.declaredInputs),v(t.outputs,i.outputs),mt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===mo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ae(i.hostAttrs,n=Ae(n,i.hostAttrs))}}(r)}function bo(t){return t===B?{}:t===K?[]:t}function wo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function _o(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Oo(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Eo=null;function Io(){if(!Eo){const t=z.Symbol;if(t&&t.iterator)Eo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Eo=n)}}}return Eo}function Co(t){return!!So(t)&&(Array.isArray(t)||!(t instanceof Map)&&Io()in t)}function So(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function To(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function xo(t,e,n,r){const i=$t();return To(i,ne(),e)&&(Wt(),function(t,e,n,r,i,o){const s=Lt(t,e);!function(t,e,n,r,i,o,s){if(null==o)Nt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const u=null==s?_t(o):s(o,r||"",i);Nt(t)?t.setAttribute(e,i,u,n):n?e.setAttributeNS(n,i,u):e.setAttribute(i,u)}}(e[11],s,o,t.value,n,r,i)}(ye(),i,t,e,n,r)),xo}function Ao(t,e,n,r,i,o,s,u){const a=$t(),c=Wt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,o,s,u,a){const c=e.consts,l=gi(e,t,4,s||null,Ht(c,u));xi(e,n,l,Ht(c,a)),me(e,l);const h=l.tViews=Ii(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,a,e,n,r,i,o,s):c.data[l];Qt(h,!1);const f=a[11].createComment("");Ur(c,a,f,h),wr(f,a),Hi(a,a[l]=Mi(f,a,f,h)),yt(h)&&_i(c,a,h),null!=s&&Oi(a,h,u)}function jo(t){return function(t,e){return t[e]}(Kt.lFrame.contextLView,ht+t)}function ko(t,e=N.Default){const n=$t();return null===n?xn(t,e):Be(Yt(),n,_(t),e)}function No(t,e,n){const r=$t();return To(r,ne(),e)&&Ti(Wt(),ye(),r,t,e,r[11],n,!1),No}function Po(t,e,n,r,i){const o=i?"class":"style";Zi(t,n,e.inputs[o],o,r)}function Do(t,e,n,r){const i=$t(),o=Wt(),s=ht+t,u=i[11],a=i[s]=jr(u,e,Kt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const u=e.consts,a=gi(e,t,2,i,Ht(u,o));return xi(e,n,a,Ht(u,s)),null!==a.attrs&&Qi(a,a.attrs,!1),null!==a.mergedAttrs&&Qi(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(s,o,i,0,e,n,r):o.data[s];Qt(c,!0);const l=c.mergedAttrs;null!==l&&Se(u,a,l);const h=c.classes;null!==h&&Gr(u,a,h);const f=c.styles;null!==f&&Kr(u,a,f),64!=(64&c.flags)&&Ur(o,i,a,c),0===Kt.lFrame.elementDepthCount&&wr(a,i),Kt.lFrame.elementDepthCount++,yt(c)&&(_i(o,i,c),function(t,e,n){if(gt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&Oi(i,c)}function Ro(){let t=Yt();Xt()?Kt.lFrame.isParent=!1:(t=t.parent,Qt(t,!1));const e=t;Kt.lFrame.elementDepthCount--;const n=Wt();n.firstCreatePass&&(me(n,t),gt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Po(n,e,$t(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Po(n,e,$t(),e.stylesWithoutHost,!1)}function Lo(t,e,n,r){Do(t,e,n,r),Ro()}function Vo(){return $t()}function Mo(t){return!!t&&"function"==typeof t.then}function Uo(t){return!!t&&"function"==typeof t.subscribe}function Fo(t,e,n=!1,r){const i=$t(),o=Wt(),s=Yt();return function(t,e,n,r,i,o,s=!1,u){const a=yt(r),c=t.firstCreatePass&&Ji(t),l=Wi(e);let h=!0;if(3&r.type){const f=Lt(r,e),d=u?u(f):B,p=d.target||f,g=l.length,v=u?t=>u(Dt(t[r.index])).target:r.index;if(Nt(n)){let s=null;if(!u&&a&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Ho(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,v,g,g+1)}}else o=Ho(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,v,g,s)}else o=Ho(r,e,o,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Fo}function qo(t,e,n){try{return!1!==e(n)}catch(r){return Yi(t,r),!1}}function Ho(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?Mt(t.index,e):e;0==(32&e[2])&&zi(s);let u=qo(e,n,o),a=i.__ngNextListenerFn__;for(;a;)u=qo(e,a,o)&&u,a=a.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function zo(t=1){return function(t){return(Kt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Kt.lFrame.contextLView))[8]}(t)}const Bo=[];function Ko(t,e,n,r,i){const o=t[n+1],s=null===e;let u=r?ai(o):li(o),a=!1;for(;0!==u&&(!1===a||s);){const n=t[u+1];Go(t[u],e)&&(a=!0,t[u+1]=r?fi(n):ci(n)),u=r?ai(n):li(n)}a&&(t[n+1]=r?ci(o):fi(o))}function Go(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&pn(t,e)>=0}function $o(t,e){return function(t,e,n,r){const i=$t(),o=Wt(),s=function(t){const e=Kt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ge()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Kt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Jo(n=Wo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Wo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==li(r))return t[ai(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Wo(null,t,e,n[1],r),n=Jo(n,e.attrs,r),function(t,e,n,r){t[ai(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Jo(r,t[o].hostAttrs,true);return Jo(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,u=ai(s),a=li(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||pn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==a){const e=ai(t[u+1]);t[r+1]=ui(e,u),0!==e&&(t[e+1]=hi(t[e+1],r)),t[u+1]=131071&t[u+1]|r<<17}else t[r+1]=ui(u,0),0!==u&&(t[u+1]=hi(t[u+1],r)),u=r;else t[r+1]=ui(a,0),0===u?u=r:t[a+1]=hi(t[a+1],r),a=r;l&&(t[r+1]=ci(t[r+1])),Ko(t,c,r,!0),Ko(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&pn(o,e)>=0&&(n[r+1]=fi(n[r+1]))}(e,c,t,r),s=ui(u,a),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==ii&&To(i,s,e)&&function(t,e,n,r,i,o,s,u){if(!(3&e.type))return;const a=t.data,c=a[u+1];Zo(1==(1&c)?Yo(a,e,n,i,li(c),s):void 0)||(Zo(o)||function(t){return 2==(2&t)}(c)&&(o=Yo(a,null,n,i,u,s)),function(t,e,n,r,i){const o=Nt(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Rt(ge(),n),i,o))}(o,o.data[ge()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=y(Vn(t))),t}(e),true,s)}(t,e),$o}function Wo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let u=n.directiveStylingLast;for(-1===u?u=n.directiveStart:u++;u<s&&(o=e[u],r=Jo(r,o.hostAttrs,i),o!==t);)u++;return null!==t&&(n.directiveStylingLast=u),r}function Jo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),fn(t,s,!!n||e[++o]))}return void 0===t?null:t}function Yo(t,e,n,r,i,o){const s=null===e;let u=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),a=o?e[1]:e,c=null===a;let l=n[i+1];l===ii&&(l=c?Bo:void 0);let h=c?dn(l,r):a===r?l:void 0;if(o&&!Zo(h)&&(h=dn(e,r)),Zo(h)&&(u=h,s))return u;const f=t[i+1];i=s?ai(f):li(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(u=dn(t,r))}return u}function Zo(t){return void 0!==t}function Qo(t,e=""){const n=$t(),r=Wt(),i=t+ht,o=r.firstCreatePass?gi(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return Nt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Ur(r,n,s,o),Qt(o,!1)}function Xo(t){return ts("",t,""),Xo}function ts(t,e,n){const r=$t(),i=function(t,e,n,r){return To(t,ne(),n)?e+_t(n)+r:ii}(r,t,e,n);return i!==ii&&function(t,e,n){const r=Rt(e,t);!function(t,e,n){Nt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ge(),i),ts}function es(t,e,n){const r=$t();return To(r,ne(),e)&&Ti(Wt(),ye(),r,t,e,r[11],n,!0),es}const ns=void 0;var rs=["en",[["a","p"],["AM","PM"],ns],[["AM","PM"],ns,ns],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ns,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ns,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ns,"{1} 'at' {0}",ns],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let is={};function os(t,e,n){"string"!=typeof e&&(n=e,e=t[ls.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),is[e]=t,n&&(is[e][ls.ExtraData]=n)}function ss(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=cs(e);if(n)return n;const r=e.split("-")[0];if(n=cs(r),n)return n;if("en"===r)return rs;throw new Error(`Missing locale data for the locale "${t}".`)}function us(t){return ss(t)[ls.CurrencyCode]||null}function as(t){return ss(t)[ls.PluralCase]}function cs(t){return t in is||(is[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),is[t]}var ls=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const hs="en-US";let fs=hs;function ds(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(fs=t.toLowerCase().replace(/_/g,"-"))}function ps(t,e,n,r,i){if(t=_(t),Array.isArray(t))for(let o=0;o<t.length;o++)ps(t[o],e,n,r,i);else{const o=Wt(),s=$t();let u=po(t)?t:_(t.provide),a=lo(t);const c=Yt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(po(t)||!t.multi){const r=new Ce(a,i,ko),d=ys(u,e,i?l:l+f,h);-1===d?(qe(Ve(c,s),o,u),gs(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=ys(u,e,l+f,h),p=ys(u,e,l,l+f),g=d>=0&&n[d],v=p>=0&&n[p];if(i&&!v||!i&&!g){qe(Ve(c,s),o,u);const l=function(t,e,n,r,i){const o=new Ce(t,n,ko);return o.multi=[],o.index=e,o.componentProviders=0,vs(o,i,r&&!n),o}(i?bs:ms,n.length,i,r,a);!i&&v&&(n[p].providerFactory=l),gs(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else gs(o,t,d>-1?d:p,vs(n[i?p:d],a,!i&&r));!i&&r&&v&&n[p].componentProviders++}}}function gs(t,e,n,r){const i=po(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function vs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ys(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ms(t,e,n,r){return ws(this.multi,[])}function bs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Je(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ws(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ws(i,o);return o}function ws(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function _s(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Wt();if(r.firstCreatePass){const i=mt(t);ps(n,r.data,r.blueprint,i,!0),ps(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Os{}class Es{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${y(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Is=(()=>{class t{}return t.NULL=new Es,t})();function Cs(...t){}function Ss(t,e){return new xs(Lt(t,e))}const Ts=function(){return Ss(Yt(),$t())};let xs=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=Ts,t})();class As{}let js=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ks(),t})();const ks=function(){const t=$t(),e=Mt(Yt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Ns=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class Ps{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ds=new Ps("11.0.9");class Rs{constructor(){}supports(t){return Co(t)}create(t){return new Vs(t)}}const Ls=(t,e)=>e;class Vs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Ls}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<qs(n,r,i)?e:n,s=qs(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=u-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==u&&t(o,s,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Co(t))throw new Error(`Error trying to diff '${y(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Io()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Ms(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Fs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Fs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ms{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Us{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Fs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Us,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Hs{constructor(){}supports(t){return t instanceof Map||So(t)}create(){return new zs}}class zs{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||So(t)))throw new Error(`Error trying to diff '${y(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Bs(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Bs{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Ks=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new mn,new vn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new Rs])}),t})(),Gs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new mn,new vn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>new t([new Hs])}),t})();function $s(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(Dt(o)),pt(o))for(let t=ft;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&$s(e[1],e,n,r)}const s=n.type;if(8&s)$s(t,e,n.child,r);else if(32&s){const t=Ir(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Cr(t);$s(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class Ws{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return $s(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Nr(t,n),hn(e,n))}this._attachedToViewContainer=!1}Pr(this._lView[1],this._lView)}onDestroy(t){Ci(this._lView[1],this._lView,null,t)}markForCheck(){zi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Bi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ee(!0);try{Bi(t,e,n)}finally{ee(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,zr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Js extends Ws{constructor(t){super(t),this._view=t}detectChanges(){Ki(this._view)}checkNoChanges(){!function(t){ee(!0);try{Ki(t)}finally{ee(!1)}}(this._view)}get context(){return null}}const Ys=Qs;let Zs=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ys,t.__ChangeDetectorRef__=!0,t})();function Qs(t=!1){return function(t,e,n){if(!n&&vt(t)){const n=Mt(t.index,e);return new Ws(n,n)}return 47&t.type?new Ws(e[16],e):null}(Yt(),$t(),t)}const Xs=[new Hs],tu=new Ks([new Rs]),eu=new Gs(Xs),nu=function(){return su(Yt(),$t())};let ru=(()=>{class t{}return t.__NG_ELEMENT_ID__=nu,t})();const iu=ru,ou=class extends iu{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=pi(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),yi(e,n,t),new Ws(n)}};function su(t,e){return 4&t.type?new ou(e,t,Ss(t,e)):null}class uu{}class au{}const cu=function(){return gu(Yt(),$t())};let lu=(()=>{class t{}return t.__NG_ELEMENT_ID__=cu,t})();const hu=lu,fu=class extends hu{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Ss(this._hostTNode,this._hostLView)}get injector(){return new Qe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Fe(this._hostTNode,this._hostLView);if(ke(t)){const e=Pe(t,this._hostLView),n=Ne(t);return new Qe(e[1].data[n+8],e)}return new Qe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=du(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(uu,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new fu(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ft?(e[4]=n[i],ln(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const u=e[19];null!==u&&u.insertView(t),e[2]|=128}(r,n,o,i);const s=qr(i,o),u=n[11],a=Mr(u,o[7]);return null!==a&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,zr(t,r,n,1,i,o)}(r,o[6],u,n,a,s),t.attachToViewContainerRef(),ln(pu(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=du(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);n&&(hn(pu(this._lContainer),e),Pr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Nr(this._lContainer,e);return n&&null!=hn(pu(this._lContainer),e)?new Ws(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function du(t){return t[8]}function pu(t){return t[8]||(t[8]=[])}function gu(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Dt(r);else{const n=e[11];i=n.createComment("");const r=Lt(t,e);Rr(n,Mr(n,r),i,function(t,e){return Nt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Mi(r,e,i,t),Hi(e,n)}return new fu(n,t,e)}const vu={};class yu extends Is{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new wu(e,this.ngModule)}}function mu(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const bu=new on("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>_r});class wu extends Os{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(ri).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return mu(this.componentDef.inputs)}get outputs(){return mu(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,vu,i);return o!==vu||r===vu?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(As,Pt),s=i.get(Ns,null),u=o.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Nt(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,n,this.componentDef.encapsulation):jr(o.createRenderer(null,this.componentDef),a,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(a)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:_r,clean:$i,playerHandler:null,flags:0},f=Ii(0,null,null,1,0,null,null,null,null,null),d=pi(null,f,h,l,null,null,o,u,s,i);let p,g;ce(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const u=gi(s,20,2,"#host",null),a=u.mergedAttrs=e.hostAttrs;null!==a&&(Qi(u,a,!0),null!==t&&(Se(i,t,a),null!==u.classes&&Gr(i,t,u.classes),null!==u.styles&&Kr(i,t,u.styles)));const c=r.createRenderer(t,e),l=pi(n,Ei(e),null,e.onPush?64:16,n[20],u,r,c,null,null);return s.firstCreatePass&&(qe(Ve(u,n),s,e.type),ki(s,u),Pi(u,n.length,1)),Hi(n,l),n[20]=l}(c,this.componentDef,d,o,u);if(c)if(n)Se(u,c,["ng-version",Ds.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Xr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Se(u,c,t),e&&e.length>0&&Gr(u,c,e.join(" "))}if(g=Vt(f,ht),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Yt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Di(t,r,e,vi(t,e,1,null),n));const i=Je(e,t,r.directiveStart,r);wr(i,e);const o=Lt(r,e);return o&&wr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=Yt();e.contentQueries(1,s,t.directiveStart)}const u=Yt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ve(u.index),Ai(n[1],u,0,u.directiveStart,u.directiveEnd,e),ji(e,s)),s}(t,this.componentDef,d,h,[yo]),yi(f,d,null)}finally{pe()}return new _u(this.componentType,p,Ss(g,d),d,g)}}class _u extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Js(r),this.componentType=t}get injector(){return new Qe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ou=new Map;class Eu extends uu{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new yu(this);const n=lt(t),r=t[Y]||null;r&&ds(r),this._bootstrapComponents=Or(n.bootstrap),this._r3Injector=uo(t,e,[{provide:uu,useValue:this},{provide:Is,useValue:this.componentFactoryResolver}],y(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=vo.THROW_IF_NOT_FOUND,n=N.Default){return t===vo||t===uu||t===Xi?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Iu extends au{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${y(e)} vs ${y(e.name)}`)}(i,Ou.get(i),n),Ou.set(i,n));const o=Or(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new Eu(this.moduleType,t)}}function Cu(t,e,n){const r=function(){const t=Kt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}()+t,i=$t();return i[r]===ii?function(t,e,n){return t[e]=n}(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}const Su=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const u=super.subscribe(r,o,s);return t instanceof i.a&&t.add(u),u}};function Tu(){return this._results[Io()]()}class xu{constructor(){this.dirty=!0,this._results=[],this.changes=new Su,this.length=0;const t=Io(),e=xu.prototype;e[t]||(e[t]=Tu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=an(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Au{constructor(t){this.queryList=t,this.matches=null}clone(){return new Au(this.queryList)}setDirty(){this.queryList.setDirty()}}class ju{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new ju(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==qu(t,e).matches&&this.queries[e].setDirty()}}class ku{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Nu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Nu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Pu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Pu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Du(e,i)),this.matchTNodeWithReadOption(t,e,We(e,t,i,!1,!1))}else n===ru?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,We(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===xs||r===lu||r===ru&&4&e.type)this.addMatch(e.index,-2);else{const n=We(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Du(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Ru(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Ss(t,e):4&t.type?su(t,e):null}(e,t):-2===n?function(t,e,n){return n===xs?Ss(e,t):n===ru?su(e,t):n===lu?gu(e,t):void 0}(t,e,r):Je(t,t[1],n,e)}function Lu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Ru(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Vu(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Lu(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ft;t<s.length;t++){const e=s[t];e[17]===e[3]&&Vu(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Vu(n[1],n,i,r)}}}}}return r}function Mu(t){const e=$t(),n=Wt(),r=oe();se(r+1);const i=qu(n,r);if(t.dirty&&Ft(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Vu(n,e,r,[]):Lu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function Uu(t,e,n,r){!function(t,e,n,r,i,o,s,u){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Nu),t.queries.track(new Pu(e,n))}(t,new ku(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,u)),function(t,e){const n=new xu;Ci(t,e,n,n.destroy),null===e[19]&&(e[19]=new ju),e[19].queries.push(new Au(n))}(t,e)}(Wt(),$t(),e,n,r,0,Yt(),t)}function Fu(){return t=$t(),e=oe(),t[19].queries[e].queryList;var t,e}function qu(t,e){return t.queries.getByIndex(e)}function Hu(t=N.Default){const e=Qs(!0);if(null!=e||t&N.Optional)return e;Et("ChangeDetectorRef")}const zu=new on("Application Initializer");let Bu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Cs,this.reject=Cs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Mo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(xn(zu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Ku=new on("AppId"),Gu={provide:Ku,useFactory:function(){return`${$u()}${$u()}${$u()}`},deps:[]};function $u(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wu=new on("Platform Initializer"),Ju=new on("Platform ID"),Yu=new on("appBootstrapListener");let Zu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Qu=new on("LocaleId"),Xu=new on("DefaultCurrencyCode");class ta{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const ea=function(t){return new Iu(t)},na=ea,ra=function(t){return Promise.resolve(ea(t))},ia=function(t){const e=ea(t),n=Or(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new wu(n)),t},[]);return new ta(e,n)},oa=ia,sa=function(t){return Promise.resolve(ia(t))};let ua=(()=>{class t{constructor(){this.compileModuleSync=na,this.compileModuleAsync=ra,this.compileModuleAndAllComponentsSync=oa,this.compileModuleAndAllComponentsAsync=sa}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const aa=(()=>Promise.resolve(0))();function ca(t){"undefined"==typeof Zone?aa.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class la{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Su(!1),this.onMicrotaskEmpty=new Su(!1),this.onStable=new Su(!1),this.onError=new Su(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,da(t),fa(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),da(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,u)=>{try{return pa(t),n.invokeTask(i,o,s,u)}finally{e&&"eventTask"===o.type&&e(),ga(t)}},onInvoke:(e,n,r,i,o,s,u)=>{try{return pa(t),e.invoke(r,i,o,s,u)}finally{ga(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,da(t),fa(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!la.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(la.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ha,Cs,Cs);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const ha={};function fa(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function da(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function pa(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ga(t){t._nesting--,fa(t)}class va{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Su,this.onMicrotaskEmpty=new Su,this.onStable=new Su,this.onError=new Su}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ya=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{la.assertNotInAngularZone(),ca(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ca(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(xn(la))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),ma=(()=>{class t{constructor(){this._applications=new Map,Oa.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Oa.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class ba{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function wa(t){Oa=t}let _a,Oa=new ba,Ea=!0,Ia=!1;function Ca(){return Ia=!0,Ea}function Sa(){if(Ia)throw new Error("Cannot enable prod mode after platform setup.");Ea=!1}const Ta=new on("AllowMultipleToken");class xa{constructor(t,e){this.name=t,this.token=e}}function Aa(t,e,n=[]){const r="Platform: "+e,i=new on(r);return(e=[])=>{let o=ja();if(!o||o.injector.get(Ta,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:eo,useValue:"platform"});!function(t){if(_a&&!_a.destroyed&&!_a.injector.get(Ta,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_a=t.get(ka);const e=t.get(Wu,null);e&&e.forEach(t=>t())}(vo.create({providers:t,name:r}))}return function(t){const e=ja();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ja(){return _a&&!_a.destroyed?_a:null}let ka=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new va:("zone.js"===t?void 0:t)||new la({enableLongStackTrace:Ca(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:la,useValue:n}];return n.run(()=>{const e=vo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(br,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Da(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Mo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Bu);return t.runInitializers(),t.donePromise.then(()=>(ds(i.injector.get(Qu,hs)||hs),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Na({},e);return function(t,e,n){const r=new Iu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Pa);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${y(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(xn(vo))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Na(t,e){return Array.isArray(e)?e.reduce(Na,t):Object.assign(Object.assign({},t),e)}let Pa=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{la.assertNotInAngularZone(),ca(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{la.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return a()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Os?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(uu),i=n.create(vo.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(ya,null),u=s&&i.injector.get(ma);return s&&u&&u.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Da(this.components,i),u&&u.unregisterApplication(o)}),this._loadComponent(i),Ca()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Da(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Yu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(xn(la),xn(Zu),xn(vo),xn(br),xn(Is),xn(Bu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Da(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Ra{}class La{}const Va={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ma=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Va}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Ua(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Ua(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(xn(ua),xn(La,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Ua(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Fa=function(t){return null},qa=Aa(null,"core",[{provide:Ju,useValue:"unknown"},{provide:ka,deps:[vo]},{provide:ma,deps:[]},{provide:Zu,deps:[]}]),Ha=[{provide:Pa,useClass:Pa,deps:[la,Zu,vo,br,Is,Bu]},{provide:bu,deps:[la],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Bu,useClass:Bu,deps:[[new vn,zu]]},{provide:ua,useClass:ua,deps:[]},Gu,{provide:Ks,useFactory:function(){return tu},deps:[]},{provide:Gs,useFactory:function(){return eu},deps:[]},{provide:Qu,useFactory:function(t){return ds(t=t||"undefined"!=typeof $localize&&$localize.locale||hs),t},deps:[[new gn(Qu),new vn,new mn]]},{provide:Xu,useValue:"USD"}];let za=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=I({factory:function(e){return new(e||t)(xn(Pa))},providers:Ha}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},mCNh:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return o});var r=n("SpAZ");function i(...t){return o(t)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let u=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(u.createNext(t))}_error(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return w}),n.d(e,"d",function(){return _}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return o}),n.d(e,"g",function(){return u}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return a}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return g});var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return u().indexOf("MSAppHost/")>=0}var v=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,y.prototype.create),o}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new v(i,u,r);return a},t}();function m(t,e){return t.replace(b,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var b=/\{\$([^}]+)}/g;function w(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function _(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=E),void 0===r.error&&(r.error=E),void 0===r.complete&&(r.complete=E);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function E(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return a});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const u=new s(i),a=u},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:u,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){u&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?a(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(a(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function a(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return S}),n.d(e,"b",function(){return b}),n.d(e,"c",function(){return m}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return I}),n.d(e,"g",function(){return _}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return v}),n.d(e,"j",function(){return O});var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),u=n("pxpQ"),a=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(u.b)(t.insideAngular))}}const g=["ngOnDestroy"],v=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},m=new a.q("angularfire2.app.options"),b=new a.q("angularfire2.app.nameOrConfig"),w=new a.O("6.1.4");function _(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const O=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{Object(a.U)()&&"undefined"!=typeof console&&console[t](...e)};function I(e,n,r,i,o){const[s,...u]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(a){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:class{},useFactory:_,deps:[m,a.z,[new a.A,b]]};let S=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",w.full,t.toString()),c.a.registerVersion("angular",a.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(e){return new(e||t)(a.Pb(a.B))},providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return v});var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function u(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>u(e)&&t()),e},clearImmediate(t){u(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function v(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new u(t,e,n))}}class u{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}class a extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),u=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new a.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,a=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.e)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",function(){return a},"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(s.c)(e,u))throw l.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&a.push("and"),s&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(a.join(" "))}c(new u.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.2.5",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(u){var a,c,h=u.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===u.type?r[h]:null;if(n.set(h,u),"PUBLIC"===u.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==u.serviceProps&&Object(s.f)(f,u.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,u.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(u)}catch(v){a={error:v}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(a)throw a.error}}return"PUBLIC"===u.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.f)(e,t)},createSubscribe:s.d,ErrorFactory:s.b,deepExtend:s.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(s.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=v;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.14",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyABhpmJAwuLYJ57gwZB119Kyk1kGNxYL4U",authDomain:"fruitylicious-992c3.firebaseapp.com",projectId:"fruitylicious-992c3",storageBucket:"fruitylicious-992c3.appspot.com",messagingSenderId:"917766820521",appId:"1:917766820521:web:e571b2e115efd5c1c24fb8"};let o=null;function s(){return o}const u=new r.q("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Pb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=Object(r.Eb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Pb)(u))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function v(t){return t&&"?"!==t[0]?"?"+t:t}let y=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:m,token:t,providedIn:"root"}),t})();function m(t){const e=Object(r.Pb)(u).location;return new w(Object(r.Pb)(a),e&&e.origin||"")}const b=new r.q("appBaseHref");let w=(()=>{class t extends y{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+v(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+v(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends y{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+v(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(I(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+v(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,I(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+v(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(y),r.Pb(a))},t.normalizeQueryParams=v,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Eb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Pb)(y),Object(r.Pb)(a))}function I(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=r.lb;class T{}let x=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let j=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new k(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new k(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class k{constructor(t,e){this.record=t,this.view=e}}let N=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new P,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class P{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let R=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:x}]}),t})();function L(t){return"server"===t}let V=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new M(Object(r.Pb)(u),window)}),t})();class M{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=U(this.window.history)||U(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function U(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class F extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new F,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=H||(H=document.querySelector("base"),H)?H.getAttribute("href"):null;return null==e?null:(n=e,q||(q=document.createElement("a")),q.setAttribute("href",n),"/"===q.pathname.charAt(0)?q.pathname:"/"+q.pathname);var n}resetBaseElement(){H=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let q,H=null;const z=new r.q("TRANSITION_ID"),B=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[z,u,r.r],multi:!0}];class K{static init(){Object(r.W)(new K)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const G=new r.q("EventManagerPlugins");let $=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(G),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class W{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let J=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Y=(()=>{class t extends J{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Z={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Q=/%COMP%/g;function X(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?X(t,i,n):(i=i.replace(Q,t),n.push(i))}return n}function tt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let et=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new nt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new rt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.Q.ShadowDom:return new it(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=X(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb($),r.Pb(Y),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class nt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Z[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=Z[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=Z[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.F.DashCase|r.F.Important)?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,tt(n)):this.eventManager.addEventListener(t,e,tt(n))}}class rt extends nt{constructor(t,e,n,r){super(t),this.component=n;const i=X(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(Q,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(Q,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class it extends nt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=X(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ot=(()=>{class t extends W{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const st=["alt","control","meta","shift"],ut={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},at={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ct={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let lt=(()=>{class t extends W{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(st.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&at.hasOwnProperty(e)&&(e=at[e]))}return ut[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),st.forEach(r=>{r!=n&&(0,ct[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ht=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){F.makeCurrent(),K.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],ft=Object(r.R)(r.V,"browser",ht),dt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:G,useClass:ot,multi:!0,deps:[u,r.z,r.B]},{provide:G,useClass:lt,multi:!0,deps:[u]},[],{provide:et,useClass:et,deps:[$,Y,r.c]},{provide:r.E,useExisting:et},{provide:J,useExisting:Y},{provide:Y,useClass:Y,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:$,useClass:$,deps:[G,r.z]},[]];let pt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:z,useExisting:r.c},B]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:dt,imports:[R,r.f]}),t})();"undefined"!=typeof window&&window;var gt=n("Cfvw"),vt=n("LRne"),yt=n("XNiG"),mt=n("9ppp");class bt extends yt.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new mt.a;return this._value}next(t){super.next(this._value=t)}}var wt=n("z+Ro"),_t=n("DH7j"),Ot=n("7o/Q");class Et extends Ot.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class It extends Ot.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Ct=n("SeVD"),St=n("HDdC");function Tt(t,e,n,r,i=new It(t,n,r)){if(!i.closed)return e instanceof St.a?e.subscribe(i):Object(Ct.a)(e)(i)}var xt=n("yCtX");const At={};class jt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new kt(t,this.resultSelector))}}class kt extends Et{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(At),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Tt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===At?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Nt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Pt=n("bHdf");function Dt(...t){return Object(Pt.a)(1)(Object(vt.a)(...t))}var Rt=n("EY2u");function Lt(t){return new St.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(gt.a)(n):Object(Rt.b)()).subscribe(e)})}var Vt=n("lJxs"),Mt=n("zx2A");function Ut(t,e){return"function"==typeof e?n=>n.pipe(Ut((n,r)=>Object(gt.a)(t(n,r)).pipe(Object(Vt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Ft(t))}class Ft{constructor(t){this.project=t}call(t,e){return e.subscribe(new qt(t,this.project))}}class qt extends Mt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Mt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Mt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Ht=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function zt(t){return e=>0===t?Object(Rt.b)():e.lift(new Bt(t))}class Bt{constructor(t){if(this.total=t,this.total<0)throw new Ht}call(t,e){return e.subscribe(new Kt(t,this.total))}}class Kt extends Ot.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Gt(...t){const e=t[t.length-1];return Object(wt.a)(e)?(t.pop(),n=>Dt(t,n,e)):e=>Dt(t,e)}function $t(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Wt(t,e,n))}}class Wt{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Jt(t,this.accumulator,this.seed,this.hasSeed))}}class Jt extends Ot.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Yt(t,e){return function(n){return n.lift(new Zt(t,e))}}class Zt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Qt(t,this.predicate,this.thisArg))}}class Qt extends Ot.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function Xt(t){return function(e){const n=new te(t),r=e.lift(n);return n.caught=r}}class te{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ee(t,this.selector,this.caught))}}class ee extends Mt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Mt.a(this);this.add(r);const i=Object(Mt.c)(n,r);i!==r&&this.add(i)}}}var ne=n("5+tZ");function re(t,e){return Object(ne.a)(t,e,1)}function ie(t){return function(e){return 0===t?Object(Rt.b)():e.lift(new oe(t))}}class oe{constructor(t){if(this.total=t,this.total<0)throw new Ht}call(t,e){return e.subscribe(new se(t,this.total))}}class se extends Ot.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ue(t=le){return e=>e.lift(new ae(t))}class ae{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ce(t,this.errorFactory))}}class ce extends Ot.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Gm){t=Gm}this.destination.error(t)}}}function le(){return new Nt}function he(t=null){return e=>e.lift(new fe(t))}class fe{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new de(t,this.defaultValue))}}class de extends Ot.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var pe=n("SpAZ");function ge(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yt((e,n)=>t(e,n,r)):pe.a,zt(1),n?he(e):ue(()=>new Nt))}var ve=n("vkgz"),ye=n("quSY");class me{constructor(t){this.callback=t}call(t,e){return e.subscribe(new be(t,this.callback))}}class be extends Ot.a{constructor(t,e){super(t),this.add(new ye.a(e))}}class we{constructor(t,e){this.id=t,this.url=e}}class _e extends we{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Oe extends we{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ee extends we{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ie extends we{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ce extends we{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Se extends we{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Te extends we{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class xe extends we{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ae extends we{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class je{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ke{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ne{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class De{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Re{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Le{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ve="primary";class Me{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ue(t){return new Me(t)}function Fe(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function qe(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function He(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!ze(t[i],e[i]))return!1;return!0}function ze(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Be(t){return Array.prototype.concat.apply([],t)}function Ke(t){return t.length>0?t[t.length-1]:null}function Ge(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function $e(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(gt.a)(Promise.resolve(t)):Object(vt.a)(t)}function We(t,e,n){return n?function(t,e){return He(t,e)}(t.queryParams,e.queryParams)&&Je(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ze(t[n],e[n]))}(t.queryParams,e.queryParams)&&Ye(t.root,e.root)}function Je(t,e){if(!en(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Je(t.children[n],e.children[n]))return!1}return!0}function Ye(t,e){return Ze(t,e,e.segments)}function Ze(t,e,n){if(t.segments.length>n.length)return!!en(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!en(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Ye(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!en(t.segments,r)&&!!t.children.primary&&Ze(t.children.primary,e,i)}}class Qe{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ue(this.queryParams)),this._queryParamMap}toString(){return on.serialize(this)}}class Xe{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ge(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sn(this)}}class tn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ue(this.parameters)),this._parameterMap}toString(){return dn(this)}}function en(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class nn{}class rn{parse(t){const e=new mn(t);return new Qe(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+un(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${cn(e)}=${cn(t)}`).join("&"):`${cn(e)}=${cn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const on=new rn;function sn(t){return t.segments.map(t=>dn(t)).join("/")}function un(t,e){if(!t.hasChildren())return sn(t);if(e){const e=t.children.primary?un(t.children.primary,!1):"",n=[];return Ge(t.children,(t,e)=>{e!==Ve&&n.push(`${e}:${un(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return Ge(t.children,(t,r)=>{r===Ve&&(n=n.concat(e(t,r)))}),Ge(t.children,(t,r)=>{r!==Ve&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Ve?[un(t.children.primary,!1)]:[`${n}:${un(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${sn(t)}/${e[0]}`:`${sn(t)}/(${e.join("//")})`}}function an(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function cn(t){return an(t).replace(/%3B/gi,";")}function ln(t){return an(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function hn(t){return decodeURIComponent(t)}function fn(t){return hn(t.replace(/\+/g,"%20"))}function dn(t){return`${ln(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${ln(t)}=${ln(e[t])}`).join("")}`;var e}const pn=/^[^\/()?;=#]+/;function gn(t){const e=t.match(pn);return e?e[0]:""}const vn=/^[^=?&#]+/,yn=/^[^?&#]+/;class mn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Xe([],{}):new Xe([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Xe(t,e)),n}parseSegment(){const t=gn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new tn(hn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=gn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=gn(this.remaining);t&&(n=t,this.capture(n))}t[hn(e)]=hn(n)}parseQueryParam(t){const e=function(t){const e=t.match(vn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(yn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=fn(e),i=fn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=gn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ve);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Xe([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class bn{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=wn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=wn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=_n(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return _n(t,this._root).map(t=>t.value)}}function wn(t,e){if(t===e.value)return e;for(const n of e.children){const e=wn(t,n);if(e)return e}return null}function _n(t,e){if(t===e.value)return[e];for(const n of e.children){const r=_n(t,n);if(r.length)return r.unshift(e),r}return[]}class On{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function En(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class In extends bn{constructor(t,e){super(t),this.snapshot=e,jn(this,t)}toString(){return this.snapshot.toString()}}function Cn(t,e){const n=function(t,e){const n=new xn([],{},{},"",{},Ve,e,null,t.root,-1,{});return new An("",new On(n,[]))}(t,e),r=new bt([new tn("",{})]),i=new bt({}),o=new bt({}),s=new bt({}),u=new bt(""),a=new Sn(r,i,s,u,o,Ve,e,n.root);return a.snapshot=n.root,new In(new On(a,[]),n)}class Sn{constructor(t,e,n,r,i,o,s,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Vt.a)(t=>Ue(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Vt.a)(t=>Ue(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class xn{constructor(t,e,n,r,i,o,s,u,a,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=a,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ue(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ue(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class An extends bn{constructor(t,e){super(e),this.url=t,jn(this,e)}toString(){return kn(this._root)}}function jn(t,e){e.value._routerState=t,e.children.forEach(e=>jn(t,e))}function kn(t){const e=t.children.length>0?` { ${t.children.map(kn).join(", ")} } `:"";return`${t.value}${e}`}function Nn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,He(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),He(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!He(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),He(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Pn(t,e){return He(t.params,e.params)&&function(t,e){return en(t,e)&&t.every((t,n)=>He(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Pn(t.parent,e.parent))}function Dn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Dn(t,e,r);return Dn(t,e)})}(t,e,n);return new On(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return Rn(e,t),t}{const n=new Sn(new bt((r=e.value).url),new bt(r.params),new bt(r.queryParams),new bt(r.fragment),new bt(r.data),r.outlet,r.component,r),i=e.children.map(e=>Dn(t,e));return new On(n,i)}}var r}function Rn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Rn(t.children[n],e.children[n])}function Ln(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Vn(t){return"object"==typeof t&&null!=t&&t.outlets}function Mn(t,e,n,r,i){let o={};return r&&Ge(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new Qe(n.root===t?e:Un(n.root,t,e),o,i)}function Un(t,e,n){const r={};return Ge(t.children,(t,i)=>{r[i]=t===e?n:Un(t,e,n)}),new Xe(t.segments,r)}class Fn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Ln(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Vn);if(r&&r!==Ke(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Hn(t,e,n){if(t||(t=new Xe([],{})),0===t.segments.length&&t.hasChildren())return zn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Vn(s))break;const u=""+s,a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&a&&"object"==typeof a&&void 0===a.outlets){if(!$n(u,a,e))return o;r+=2}else{if(!$n(u,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Xe(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new Xe(t.segments.slice(r.pathIndex),t.children),zn(e,0,i)}return r.match&&0===i.length?new Xe(t.segments,{}):r.match&&!t.hasChildren()?Bn(t,e,n):r.match?zn(t,0,i):Bn(t,e,n)}function zn(t,e,n){if(0===n.length)return new Xe(t.segments,{});{const r=function(t){return Vn(t[0])?t[0].outlets:{[Ve]:t}}(n),i={};return Ge(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Hn(t.children[r],e,n))}),Ge(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Xe(t.segments,i)}}function Bn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Vn(o)){const t=Kn(o.outlets);return new Xe(r,t)}if(0===i&&Ln(n[0])){r.push(new tn(t.segments[e].path,n[0])),i++;continue}const s=Vn(o)?o.outlets.primary:""+o,u=i<n.length-1?n[i+1]:null;s&&u&&Ln(u)?(r.push(new tn(s,Gn(u))),i+=2):(r.push(new tn(s,{})),i++)}return new Xe(r,{})}function Kn(t){const e={};return Ge(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Bn(new Xe([],{}),0,t))}),e}function Gn(t){const e={};return Ge(t,(t,n)=>e[n]=""+t),e}function $n(t,e,n){return t==n.path&&He(e,n.parameters)}class Wn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Nn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=En(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ge(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=En(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=En(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Re(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Pe(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Nn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Jn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Jn(t){Nn(t.value),t.children.forEach(Jn)}class Yn{constructor(t,e){this.routes=t,this.module=e}}function Zn(t){return"function"==typeof t}function Qn(t){return t instanceof Qe}const Xn=Symbol("INITIAL_VALUE");function tr(){return Ut(t=>function(...t){let e=void 0,n=void 0;return Object(wt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(_t.a)(t[0])&&(t=t[0]),Object(xt.a)(t,n).lift(new jt(e))}(t.map(t=>t.pipe(zt(1),Gt(Xn)))).pipe($t((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Xn)return t;if(r===Xn&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Qn(r))return r}return t},t)},Xn),Yt(t=>t!==Xn),Object(Vt.a)(t=>Qn(t)?t:!0===t),zt(1)))}let er=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[Yr]},encapsulation:2}),t})();function nr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];rr(r,ir(e,r))}}function rr(t,e){t.children&&nr(t.children,e)}function ir(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function or(t){const e=t.children&&t.children.map(or),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ve&&(n.component=er),n}function sr(t){return t.outlet||Ve}function ur(t,e){const n=t.filter(t=>sr(t)===e);return n.push(...t.filter(t=>sr(t)!==e)),n}const ar={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function cr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},ar):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||qe)(n,t,e);if(!i)return Object.assign({},ar);const o={};Ge(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function lr(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>hr(t,e,n)&&sr(n)!==Ve)}(t,n,r)){const i=new Xe(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&sr(o)!==Ve){const n=new Xe([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[sr(o)]=n}return i}(t,e,r,new Xe(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>hr(t,e,n))}(t,n,r)){const o=new Xe(t.segments,function(t,e,n,r,i,o){const s={};for(const u of r)if(hr(t,n,u)&&!i[sr(u)]){const n=new Xe([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[sr(u)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Xe(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function hr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function fr(t,e,n,r){return!!(sr(t)===r||r!==Ve&&hr(e,n,t))&&("**"===t.path||cr(e,t,n).matched)}function dr(t,e,n){return 0===e.length&&!t.children[n]}class pr{constructor(t){this.segmentGroup=t||null}}class gr{constructor(t){this.urlTree=t}}function vr(t){return new St.a(e=>e.error(new pr(t)))}function yr(t){return new St.a(e=>e.error(new gr(t)))}function mr(t){return new St.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class br{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){const t=lr(this.urlTree.root,[],[],this.config).segmentGroup,e=new Xe(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ve).pipe(Object(Vt.a)(t=>this.createUrlTree(wr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Xt(t=>{if(t instanceof gr)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof pr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ve).pipe(Object(Vt.a)(e=>this.createUrlTree(wr(e),t.queryParams,t.fragment))).pipe(Xt(t=>{if(t instanceof pr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Xe([],{[Ve]:t}):t;return new Qe(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Vt.a)(t=>new Xe([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(gt.a)(r).pipe(re(r=>{const i=n.children[r],o=ur(e,r);return this.expandSegmentGroup(t,o,i,r).pipe(Object(Vt.a)(t=>({segment:t,outlet:r})))}),$t((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yt((e,n)=>t(e,n,r)):pe.a,ie(1),n?he(e):ue(()=>new Nt))}())}expandSegment(t,e,n,r,i,o){return Object(gt.a)(n).pipe(re(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Xt(t=>{if(t instanceof pr)return Object(vt.a)(null);throw t}))),ge(t=>!!t),Xt((t,n)=>{if(t instanceof Nt||"EmptyError"===t.name){if(dr(e,r,i))return Object(vt.a)(new Xe([],{}));throw new pr(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return fr(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):vr(e):vr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?yr(i):this.lineralizeSegments(n,i).pipe(Object(ne.a)(n=>{const i=new Xe(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:u,lastChild:a,positionalParamSegments:c}=cr(e,r,i);if(!s)return vr(e);const l=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?yr(l):this.lineralizeSegments(r,l).pipe(Object(ne.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Vt.a)(t=>(n._loadedConfig=t,new Xe(r,{})))):Object(vt.a)(new Xe(r,{}));const{matched:o,consumedSegments:s,lastChild:u}=cr(e,n,r);if(!o)return vr(e);const a=r.slice(u);return this.getChildConfig(t,n,r).pipe(Object(ne.a)(t=>{const r=t.module,o=t.routes,{segmentGroup:u,slicedSegments:c}=lr(e,s,a,o),l=new Xe(u.segments,u.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe(Object(Vt.a)(t=>new Xe(s,t)));if(0===o.length&&0===c.length)return Object(vt.a)(new Xe(s,{}));const h=sr(n)===i;return this.expandSegment(r,l,o,c,h?Ve:i,!0).pipe(Object(Vt.a)(t=>new Xe(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(vt.a)(new Yn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(vt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(ne.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Vt.a)(t=>(e._loadedConfig=t,t))):function(t){return new St.a(e=>e.error(Fe(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(vt.a)(new Yn([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(vt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Zn(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Zn(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return $e(o)});return Object(vt.a)(i).pipe(tr(),Object(ve.a)(t=>{if(!Qn(t))return;const e=Fe(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Vt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(vt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return mr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Qe(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ge(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Ge(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Xe(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function wr(t){const e={};for(const n of Object.keys(t.children)){const r=wr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new Xe(t.segments.concat(e.segments),e.children)}return t}(new Xe(t.segments,e))}class _r{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Or{constructor(t,e){this.component=t,this.route=e}}function Er(t,e,n){const r=t._root;return Cr(r,e?e._root:null,n,[r.value])}function Ir(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Cr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=En(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,u=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const a=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!en(t.url,e.url);case"pathParamsOrQueryParamsChange":return!en(t.url,e.url)||!He(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Pn(t,e)||!He(t.queryParams,e.queryParams);case"paramsChange":default:return!Pn(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new _r(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Cr(t,e,o.component?u?u.children:null:n,r,i),a&&u&&u.outlet&&u.outlet.isActivated&&i.canDeactivateChecks.push(new Or(u.outlet.component,s))}else s&&Sr(e,u,i),i.canActivateChecks.push(new _r(r)),Cr(t,null,o.component?u?u.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),Ge(o,(t,e)=>Sr(t,n.getContext(e),i)),i}function Sr(t,e,n){const r=En(t),i=t.value;Ge(r,(t,r)=>{Sr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Or(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Tr{}function xr(t){return new St.a(e=>e.error(t))}class Ar{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=lr(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ve);if(null===e)return null;const n=new xn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ve,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new On(n,e),i=new An(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Tn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=ur(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=function(t){const e=[];for(const n of t){if(!jr(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Ve?-1:e.value.outlet===Ve?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return dr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!fr(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Ke(n).parameters:{};i=new xn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Pr(t),sr(t),t.component,t,kr(e),Nr(e)+n.length,Dr(t))}else{const r=cr(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new xn(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Pr(t),sr(t),t.component,t,kr(e),Nr(e)+o.length,Dr(t))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:c}=lr(e,o,s,u.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&a.hasChildren()){const t=this.processChildren(u,a);return null===t?null:[new On(i,t)]}if(0===u.length&&0===c.length)return[new On(i,[])];const l=sr(t)===r,h=this.processSegment(u,a,c,l?Ve:r);return null===h?null:[new On(i,h)]}}function jr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function kr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Nr(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Pr(t){return t.data||{}}function Dr(t){return t.resolve||{}}function Rr(t){return Ut(e=>{const n=t(e);return n?Object(gt.a)(n).pipe(Object(Vt.a)(()=>e)):Object(vt.a)(e)})}class Lr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Vr=new r.q("ROUTES");class Mr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Vt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Yn(Be(r.injector.get(Vr)).map(or),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(gt.a)(this.loader.load(t)):$e(t()).pipe(Object(ne.a)(t=>t instanceof r.v?Object(vt.a)(t):Object(gt.a)(this.compiler.compileModuleAsync(t))))}}class Ur{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Fr,this.attachRef=null}}class Fr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Ur,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class qr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Hr(t){throw t}function zr(t,e,n){return e.parse("/")}function Br(t,e){return Object(vt.a)(null)}let Kr=(()=>{class t{constructor(t,e,n,i,o,s,u,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new yt.a,this.errorHandler=Hr,this.malformedUriErrorHandler=zr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Br,afterPreactivation:Br},this.urlHandlingStrategy=new qr,this.routeReuseStrategy=new Lr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z&&r.z.isInAngularZone(),this.resetConfig(a),this.currentUrlTree=new Qe(new Xe([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Mr(s,u,t=>this.triggerEvent(new je(t)),t=>this.triggerEvent(new ke(t))),this.routerState=Cn(this.currentUrlTree,this.rootComponentType),this.transitions=new bt({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Yt(t=>0!==t.id),Object(Vt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Ut(t=>{let n=!1,r=!1;return Object(vt.a)(t).pipe(Object(ve.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ut(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(vt.a)(t).pipe(Ut(t=>{const n=this.transitions.getValue();return e.next(new _e(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Rt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Ut(t=>function(t,e,n,r,i){return new br(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Vt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(ve.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(ne.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new Ar(t,e,n,r,i,o).recognize();return null===s?xr(new Tr):Object(vt.a)(s)}catch(Gm){return xr(Gm)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Vt.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(ve.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Ce(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,u=new _e(n,this.serializeUrl(r),i,o);e.next(u);const a=Cn(r,this.rootComponentType).snapshot;return Object(vt.a)(Object.assign(Object.assign({},t),{targetSnapshot:a,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Rt.a}),Rr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(ve.a)(t=>{const e=new Se(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Vt.a)(t=>Object.assign(Object.assign({},t),{guards:Er(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(ne.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(vt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(gt.a)(t).pipe(Object(ne.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(vt.a)(!0);const s=o.map(o=>{const s=Ir(o,e,i);let u;if(function(t){return t&&Zn(t.canDeactivate)}(s))u=$e(s.canDeactivate(t,e,n,r));else{if(!Zn(s))throw new Error("Invalid CanDeactivate guard");u=$e(s(t,e,n,r))}return u.pipe(ge())});return Object(vt.a)(s).pipe(tr())}(t.component,t.route,n,e,r)),ge(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(ne.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(gt.a)(e).pipe(re(e=>Dt(function(t,e){return null!==t&&e&&e(new Ne(t)),Object(vt.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new De(t)),Object(vt.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Lt(()=>{const i=e.guards.map(i=>{const o=Ir(i,e.node,n);let s;if(function(t){return t&&Zn(t.canActivateChild)}(o))s=$e(o.canActivateChild(r,t));else{if(!Zn(o))throw new Error("Invalid CanActivateChild guard");s=$e(o(r,t))}return s.pipe(ge())});return Object(vt.a)(i).pipe(tr())}));return Object(vt.a)(i).pipe(tr())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(vt.a)(!0);const i=r.map(r=>Lt(()=>{const i=Ir(r,e,n);let o;if(function(t){return t&&Zn(t.canActivate)}(i))o=$e(i.canActivate(e,t));else{if(!Zn(i))throw new Error("Invalid CanActivate guard");o=$e(i(e,t))}return o.pipe(ge())}));return Object(vt.a)(i).pipe(tr())}(t,e.route,n))),ge(t=>!0!==t,!0))}(r,o,t,e):Object(vt.a)(n)),Object(Vt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(ve.a)(t=>{if(Qn(t.guardsResult)){const e=Fe(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Yt(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Ee(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),Rr(t=>{if(t.guards.canActivateChecks.length)return Object(vt.a)(t).pipe(Object(ve.a)(t=>{const e=new xe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Ut(t=>{let n=!1;return Object(vt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(ne.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(vt.a)(t);let o=0;return Object(gt.a)(n).pipe(re(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(vt.a)({});const o={};return Object(gt.a)(i).pipe(Object(ne.a)(i=>function(t,e,n,r){const i=Ir(t,e,r);return $e(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(ve.a)(t=>{o[i]=t}))),ie(1),Object(ne.a)(()=>Object.keys(o).length===i.length?Object(vt.a)(o):Rt.a))}(t._resolve,t,e,r).pipe(Object(Vt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Tn(t,n).resolve),null)))}(t.route,e,r,i)),Object(ve.a)(()=>o++),ie(1),Object(ne.a)(e=>o===n.length?Object(vt.a)(t):Rt.a))})),Object(ve.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new Ee(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(ve.a)(t=>{const e=new Ae(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),Rr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Vt.a)(t=>{const e=function(t,e,n){const r=Dn(t,e._root,n?n._root:void 0);return new In(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(ve.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,u=t=>this.triggerEvent(t),Object(Vt.a)(t=>(new Wn(s,t.targetRouterState,t.currentRouterState,u).activate(o),t))),Object(ve.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Ee(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new me(i))),Xt(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Qn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Ee(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ie(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(fl){t.reject(fl)}}var i;return Rt.a}));var i,o,s,u}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){nr(t),this.config=t.map(or),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,u=n||this.routerState.root,a=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Mn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Fn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ge(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Fn(n,e,r)}(n);if(o.toRoot())return Mn(e.root,new Xe([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new qn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new qn(t,t===e.root,0)}const r=Ln(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new qn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),u=s.processChildren?zn(s.segmentGroup,s.index,o.commands):Hn(s.segmentGroup,s.index,o.commands);return Mn(s.segmentGroup,u,e,r,i)}(u,this.currentUrlTree,t,c,a)}navigateByUrl(t,e={skipLocationChange:!1}){const n=Qn(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Gm){e=this.malformedUriErrorHandler(Gm,this.urlSerializer,t)}return e}isActive(t,e){if(Qn(t))return We(this.currentUrlTree,t,e);const n=this.parseUrl(t);return We(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Oe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),u=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&u)return Promise.resolve(!0);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{a=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.M),r.Pb(nn),r.Pb(Fr),r.Pb(O),r.Pb(r.r),r.Pb(r.w),r.Pb(r.i),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Gr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new yt.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:Wr(this.skipLocationChange),replaceUrl:Wr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Wr(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Kr),r.Ib(Sn),r.Qb("tabindex"),r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Sb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})(),$r=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new yt.a,this.subscription=t.events.subscribe(t=>{t instanceof Oe&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Wr(this.skipLocationChange),replaceUrl:Wr(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Wr(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Kr),r.Ib(Sn),r.Ib(y))},t.\u0275dir=r.Db({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Sb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ob("href",e.href,r.ac),r.zb("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[r.wb]}),t})();function Wr(t){return""===t||!!t}let Jr=(()=>{class t{constructor(t,e,n,r,i,o){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=o,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Oe&&this.update()})}ngAfterContentInit(){Object(vt.a)(this.links.changes,this.linksWithHrefs.changes,Object(vt.a)(null)).pipe(Object(Pt.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(gt.a)(e).pipe(Object(Pt.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Kr),r.Ib(r.l),r.Ib(r.D),r.Ib(r.h),r.Ib(Gr,8),r.Ib($r,8))},t.\u0275dir=r.Db({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Bb(n,Gr,!0),r.Bb(n,$r,!0)),2&t){let t;r.Xb(t=r.Tb())&&(e.links=t),r.Xb(t=r.Tb())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.wb]}),t})(),Yr=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Ve,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Zr(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Fr),r.Ib(r.P),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Zr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Sn?this.route:t===Fr?this.childContexts:this.parent.get(t,e)}}class Qr{}class Xr{preload(t,e){return Object(vt.a)(null)}}let ti=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Mr(e,n,e=>t.triggerEvent(new je(e)),e=>t.triggerEvent(new ke(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Yt(t=>t instanceof Oe),re(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(gt.a)(n).pipe(Object(Pt.a)(),Object(Vt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(ne.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Kr),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb(Qr))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),ei=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _e?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Oe&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Le&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Le(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Kr),r.Pb(V),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const ni=new r.q("ROUTER_CONFIGURATION"),ri=new r.q("ROUTER_FORROOT_GUARD"),ii=[O,{provide:nn,useClass:rn},{provide:Kr,useFactory:function(t,e,n,r,i,o,u,a={},c,l){const h=new Kr(null,t,e,n,r,i,o,Be(u));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,h),a.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[nn,Fr,O,r.r,r.w,r.i,Vr,ni,[class{},new r.A],[class{},new r.A]]},Fr,{provide:Sn,useFactory:function(t){return t.routerState.root},deps:[Kr]},{provide:r.w,useClass:r.J},ti,Xr,class{preload(t,e){return e().pipe(Xt(()=>Object(vt.a)(null)))}},{provide:ni,useValue:{enableTracing:!1}}];function oi(){return new r.y("Router",Kr)}let si=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[ii,li(e),{provide:ri,useFactory:ci,deps:[[Kr,new r.A,new r.I]]},{provide:ni,useValue:n||{}},{provide:y,useFactory:ai,deps:[a,[new r.p(b),new r.A],ni]},{provide:ei,useFactory:ui,deps:[Kr,V,ni]},{provide:Qr,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Xr},{provide:r.y,multi:!0,useFactory:oi},[hi,{provide:r.d,multi:!0,useFactory:fi,deps:[hi]},{provide:pi,useFactory:di,deps:[hi]},{provide:r.b,multi:!0,useExisting:pi}]]}}static forChild(e){return{ngModule:t,providers:[li(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(ri,8),r.Pb(Kr,8))}}),t})();function ui(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ei(t,e,n)}function ai(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function ci(t){return"guarded"}function li(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Vr,multi:!0,useValue:t}]}let hi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new yt.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Kr),r=this.injector.get(ni);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(vt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(ni),n=this.injector.get(ti),i=this.injector.get(ei),o=this.injector.get(Kr),s=this.injector.get(r.g);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function fi(t){return t.appInitializer.bind(t)}function di(t){return t.bootstrapListener.bind(t)}const pi=new r.q("Router Initializer");let gi=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-home"]],decls:85,vars:0,consts:[[1,"header"],[1,"grid"],[1,"text-hero"],[1,"weight-600"],[1,"weight-400"],[1,"parrafo"],[1,"img-hero"],["src","assets/ilu1.svg","alt","",1,"img"],[1,"services"],[1,"items"],[1,"item"],[1,"fas","fa-envelope"],[1,"titulo-services"],[1,"fas","fa-lightbulb"],[1,"fas","fa-book-open"],[1,"about-us"],[1,"textos-about-us"],[1,"subtitulo"],[1,"numbers"],[1,"number"],[1,"mission","grid"],[1,"textos-mission"],[1,"texto-mission"],[1,"img-mission"],["src","assets/ilu2.svg","alt","",1,"img"],[1,"textos-footer"],[1,"footer-item1"],["href","#"],[1,"fab","fa-facebook"],[1,"footer-item2"],[1,"fab","fa-twitter"],[1,"footer-item3"],[1,"fab","fa-instagram-square"],[1,"footer-item4"],[1,"fab","fa-linkedin-in"]],template:function(t,e){1&t&&(r.Lb(0,"header",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Lb(3,"h1",3),r.dc(4," Lo m\xe1s importante "),r.Lb(5,"span",4),r.dc(6,"nunca se ve"),r.Kb(),r.Kb(),r.Lb(7,"p",5),r.dc(8,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Dicta possimus dolores porro veritatis quos? Reiciendis adipisci eaque cupiditate non illum?"),r.Kb(),r.Kb(),r.Lb(9,"div",6),r.Jb(10,"img",7),r.Kb(),r.Kb(),r.Kb(),r.Lb(11,"main"),r.Lb(12,"section",8),r.Lb(13,"section",1),r.Lb(14,"div",9),r.Lb(15,"div",10),r.Jb(16,"i",11),r.Lb(17,"h3",12),r.dc(18,"Lorem ipsum dolor sit."),r.Kb(),r.Lb(19,"p"),r.dc(20,"Lorem ipsum dolor sit amet consectetur adipisicing."),r.Kb(),r.Kb(),r.Lb(21,"div",10),r.Jb(22,"i",13),r.Lb(23,"h3",12),r.dc(24,"Lorem ipsum dolor sit."),r.Kb(),r.Lb(25,"p"),r.dc(26,"Lorem ipsum dolor sit amet consectetur adipisicing."),r.Kb(),r.Kb(),r.Lb(27,"div",10),r.Jb(28,"i",14),r.Lb(29,"h3",12),r.dc(30,"Lorem ipsum dolor sit."),r.Kb(),r.Lb(31,"p"),r.dc(32,"Lorem ipsum dolor sit amet consectetur adipisicing."),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(33,"section",15),r.Lb(34,"div",1),r.Lb(35,"div",16),r.Lb(36,"h2",17),r.dc(37,"About us"),r.Kb(),r.Lb(38,"p",5),r.dc(39,"Lorem ipsum dolor sit amet consectetur adipisicing elit. Totam est numquam non repellat omnis corporis libero, fugiat optio at velit."),r.Kb(),r.Kb(),r.Lb(40,"div",18),r.Lb(41,"div",19),r.dc(42,"1671"),r.Kb(),r.Lb(43,"div",19),r.dc(44,"1672"),r.Kb(),r.Lb(45,"div",19),r.dc(46,"1673"),r.Kb(),r.Lb(47,"div",19),r.dc(48,"1674"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Lb(49,"section",20),r.Lb(50,"div",21),r.Lb(51,"div",22),r.Lb(52,"h3"),r.dc(53,"01 startups"),r.Kb(),r.Lb(54,"p"),r.dc(55,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Atque quisquam veniam animi sed dolore ullam sit facere nam ex voluptas."),r.Kb(),r.Kb(),r.Lb(56,"div",22),r.Lb(57,"h3"),r.dc(58,"02 startups"),r.Kb(),r.Lb(59,"p"),r.dc(60,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Atque quisquam veniam animi sed dolore ullam sit facere nam ex voluptas."),r.Kb(),r.Kb(),r.Lb(61,"div",22),r.Lb(62,"h3"),r.dc(63,"03 startups"),r.Kb(),r.Lb(64,"p"),r.dc(65,"Lorem ipsum, dolor sit amet consectetur adipisicing elit. Atque quisquam veniam animi sed dolore ullam sit facere nam ex voluptas."),r.Kb(),r.Kb(),r.Kb(),r.Lb(66,"div",23),r.Jb(67,"img",24),r.Kb(),r.Kb(),r.Kb(),r.Lb(68,"footer"),r.Lb(69,"div",1),r.Lb(70,"div",25),r.Lb(71,"h2",17),r.dc(72,"Cont\xe1ctame"),r.Kb(),r.Kb(),r.Lb(73,"div",26),r.Lb(74,"a",27),r.Jb(75,"i",28),r.Kb(),r.Kb(),r.Lb(76,"div",29),r.Lb(77,"a",27),r.Jb(78,"i",30),r.Kb(),r.Kb(),r.Lb(79,"div",31),r.Lb(80,"a",27),r.Jb(81,"i",32),r.Kb(),r.Kb(),r.Lb(82,"div",33),r.Lb(83,"a",27),r.Jb(84,"i",34),r.Kb(),r.Kb(),r.Kb(),r.Kb())},styles:['*[_ngcontent-%COMP%]{box-sizing:border-box}.grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(12,1fr);width:90%;max-width:1100px;height:100%;margin:auto;gap:10px;overflow:hidden;align-items:center}.weight-400[_ngcontent-%COMP%]{font-weight:400}.weight-600[_ngcontent-%COMP%]{font-weight:600}.parrafo[_ngcontent-%COMP%]{margin-bottom:20px}.header[_ngcontent-%COMP%]{height:500px}.img[_ngcontent-%COMP%]{width:95%;max-width:400px}.img-hero[_ngcontent-%COMP%]{width:100%;height:auto;grid-column:7/13}.text-hero[_ngcontent-%COMP%]{grid-column:1/7;padding-right:20px}.text-hero[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:justify}.services[_ngcontent-%COMP%]{height:370px;background:linear-gradient(180deg,#fff 50%,#000 0)}.items[_ngcontent-%COMP%]{grid-column:1/-1;display:flex;width:100%;height:100%;justify-content:space-evenly;align-items:center;flex-wrap:wrap}.item[_ngcontent-%COMP%]{width:30%;background-color:#fff;box-shadow:0 0 6px rgba(0,0,0,.5);overflow:hidden;height:260px;padding:20px 10px;text-align:center}[class^="fas fa"][_ngcontent-%COMP%]{font-size:50px;text-align:center}.titulo-services[_ngcontent-%COMP%]{margin:20px 0}.about-us[_ngcontent-%COMP%]{background-color:#000;color:#fff;height:auto;padding-bottom:60px}.textos-about-us[_ngcontent-%COMP%]{grid-column:1/-1;text-align:center}.textos-about-us[_ngcontent-%COMP%]   .parrafo[_ngcontent-%COMP%]{margin-top:10px;color:#ccc}.numbers[_ngcontent-%COMP%]{grid-column:1/-1;display:flex;justify-content:space-evenly;flex-wrap:wrap}.number[_ngcontent-%COMP%]{text-align:center;font-size:30px;width:22%}.mission[_ngcontent-%COMP%]{padding:80px 0}.textos-mission[_ngcontent-%COMP%]{grid-column:7/13;grid-row:1/-1;margin-bottom:20px}.img-mission[_ngcontent-%COMP%]{grid-column:1/7;grid-row:1/-1}footer[_ngcontent-%COMP%]{background-color:#000;color:#fff;text-align:center;padding:60px 0}.textos-footer[_ngcontent-%COMP%]{grid-column:1/-1}[class^=footer-item][_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}[class^=footer-item][_ngcontent-%COMP%]{grid-column:span 3;font-size:30px}']}),t})();class vi{}var yi=n("Jgta"),mi=n("D0XW");function bi(){return t=>t.lift(new wi)}class wi{call(t,e){return e.subscribe(new _i(t))}}class _i extends Ot.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Oi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Ei(t,this.compare,this.keySelector))}}class Ei extends Ot.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Ii=n("pxpQ"),Ci=n("spgP"),Si=n("zIRd"),Ti=n("q/0M"),xi=n("qOnz"),Ai=function(t,e){return(Ai=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function ji(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var ki,Ni="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Pi=Pi||{},Di=Ni||self;function Ri(){}function Li(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Vi(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Mi="closure_uid_"+(1e9*Math.random()>>>0),Ui=0;function Fi(t,e,n){return t.call.apply(t.bind,arguments)}function qi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Hi(t,e,n){return(Hi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fi:qi).apply(null,arguments)}function zi(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Bi(){return Date.now()}function Ki(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Gi(){this.j=this.j,this.i=this.i}Gi.prototype.j=!1,Gi.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Mi)&&t[Mi]||(t[Mi]=++Ui)}(this)},Gi.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var $i=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Wi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ji(t){return Array.prototype.concat.apply([],arguments)}function Yi(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Zi(t){return/^[\s\xa0]*$/.test(t)}var Qi,Xi=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function to(t,e){return-1!=t.indexOf(e)}function eo(t,e){return t<e?-1:t>e?1:0}t:{var no=Di.navigator;if(no){var ro=no.userAgent;if(ro){Qi=ro;break t}}Qi=""}function io(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function oo(t){var e={};for(var n in t)e[n]=t[n];return e}var so="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<so.length;o++)n=so[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ao(t){return ao[" "](t),t}ao[" "]=Ri;var co,lo,ho=to(Qi,"Opera"),fo=to(Qi,"Trident")||to(Qi,"MSIE"),po=to(Qi,"Edge"),go=po||fo,vo=to(Qi,"Gecko")&&!(to(Qi.toLowerCase(),"webkit")&&!to(Qi,"Edge"))&&!(to(Qi,"Trident")||to(Qi,"MSIE"))&&!to(Qi,"Edge"),yo=to(Qi.toLowerCase(),"webkit")&&!to(Qi,"Edge");function mo(){var t=Di.document;return t?t.documentMode:void 0}t:{var bo="",wo=(lo=Qi,vo?/rv:([^\);]+)(\)|;)/.exec(lo):po?/Edge\/([\d\.]+)/.exec(lo):fo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(lo):yo?/WebKit\/(\S+)/.exec(lo):ho?/(?:Version)[ \/]?(\S+)/.exec(lo):void 0);if(wo&&(bo=wo?wo[1]:""),fo){var _o=mo();if(null!=_o&&_o>parseFloat(bo)){co=String(_o);break t}}co=bo}var Oo={};function Eo(t){return function(t,e){var n=Oo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Xi(String(co)).split("."),r=Xi(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=eo(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||eo(0==s[2].length,0==u[2].length)||eo(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e})}var Io=Di.document&&fo&&(mo()||parseInt(co,10))||void 0,Co=!fo||9<=Number(Io),So=fo&&!Eo("9"),To=function(){if(!Di.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Di.addEventListener("test",Ri,e),Di.removeEventListener("test",Ri,e)}catch(n){}return t}();function xo(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Ao(t,e){if(xo.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(vo){t:{try{ao(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:jo[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}xo.prototype.b=function(){this.defaultPrevented=!0},Ki(Ao,xo);var jo={2:"touch",3:"pen",4:"mouse"};Ao.prototype.b=function(){Ao.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,So)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ko="closure_listenable_"+(1e6*Math.random()|0),No=0;function Po(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++No,this.Y=this.Z=!1}function Do(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ro(t){this.src=t,this.a={},this.b=0}function Lo(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=$i(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Do(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Vo(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Ro.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Vo(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Po(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Mo="closure_lm_"+(1e6*Math.random()|0),Uo={};function Fo(t,e,n,r,i){if(r&&r.once)return Ho(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Fo(t,e[o],n,r,i);return null}return n=Yo(n),t&&t[ko]?t.va(e,n,Vi(r)?!!r.capture:!!r,i):qo(t,e,n,!1,r,i)}function qo(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Vi(i)?!!i.capture:!!i;if(s&&!Co)return null;var u=Wo(t);if(u||(t[Mo]=u=new Ro(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=$o,e=Co?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)To||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ko(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ho(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ho(t,e[o],n,r,i);return null}return n=Yo(n),t&&t[ko]?t.wa(e,n,Vi(r)?!!r.capture:!!r,i):qo(t,e,n,!0,r,i)}function zo(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)zo(t,e[o],n,r,i);else r=Vi(r)?!!r.capture:!!r,n=Yo(n),t&&t[ko]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Vo(o=t.a[e],n,r,i))&&(Do(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=Wo(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Vo(e,n,r,i)),(n=-1<t?e[t]:null)&&Bo(n))}function Bo(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ko])Lo(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ko(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Wo(e))?(Lo(n,t),0==n.b&&(n.src=null,e[Mo]=null)):Do(t)}}}function Ko(t){return t in Uo?Uo[t]:Uo[t]="on"+t}function Go(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Bo(t),n.call(r,e)}function $o(t,e){if(t.Y)return!0;if(!Co){if(!e)t:{e=["window","event"];for(var n=Di,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Go(t,e=new Ao(e,this))}return Go(t,new Ao(e,this))}function Wo(t){return(t=t[Mo])instanceof Ro?t:null}var Jo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yo(t){return"function"==typeof t?t:(t[Jo]||(t[Jo]=function(e){return t.handleEvent(e)}),t[Jo])}function Zo(){Gi.call(this),this.c=new Ro(this),this.J=this,this.C=null}function Qo(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new xo(e,t);else if(e instanceof xo)e.target=e.target||t;else{var i=e;uo(e=new xo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Xo(s,r,!0,e)&&i}if(i=Xo(s=e.a=t,r,!0,e)&&i,i=Xo(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Xo(s=e.a=n[o],r,!1,e)&&i}function Xo(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&Lo(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}Ki(Zo,Gi),Zo.prototype[ko]=!0,(ki=Zo.prototype).addEventListener=function(t,e,n,r){Fo(this,t,e,n,r)},ki.removeEventListener=function(t,e,n,r){zo(this,t,e,n,r)},ki.G=function(){if(Zo.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Do(n[r]);delete e.a[t],e.b--}}this.C=null},ki.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},ki.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var ts=Di.JSON.stringify;function es(){this.b=this.a=null}var ns,rs=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new os},function(t){t.reset()});function is(){var t=cs,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function os(){this.next=this.b=this.a=null}function ss(t){Di.setTimeout(function(){throw t},0)}function us(t,e){ns||function(){var t=Di.Promise.resolve(void 0);ns=function(){t.then(ls)}}(),as||(ns(),as=!0),cs.add(t,e)}es.prototype.add=function(t,e){var n=rs.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},os.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},os.prototype.reset=function(){this.next=this.b=this.a=null};var as=!1,cs=new es;function ls(){for(var t;t=is();){try{t.a.call(t.b)}catch(n){ss(n)}var e=rs;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}as=!1}function hs(t,e){Zo.call(this),this.b=t||1,this.a=e||Di,this.f=Hi(this.Za,this),this.g=Bi()}function fs(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ds(t,e,n){if("function"==typeof t)n&&(t=Hi(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Hi(t.handleEvent,t)}return 2147483647<Number(e)?-1:Di.setTimeout(t,e||0)}function ps(t){t.a=ds(function(){t.a=null,t.c&&(t.c=!1,ps(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Ki(hs,Zo),(ki=hs.prototype).aa=!1,ki.M=null,ki.Za=function(){if(this.aa){var t=Bi()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Qo(this,"tick"),this.aa&&(fs(this),this.start()))}},ki.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Bi())},ki.G=function(){hs.X.G.call(this),fs(this),delete this.a};var gs=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ai(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:ps(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Di.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Gi);function vs(t){Gi.call(this),this.b=t,this.a={}}Ki(vs,Gi);var ys=[];function ms(t,e,n,r){Array.isArray(n)||(n&&(ys[0]=n.toString()),n=ys);for(var i=0;i<n.length;i++){var o=Fo(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function bs(t){io(t.a,function(t,e){this.a.hasOwnProperty(e)&&Bo(t)},t),t.a={}}function ws(){this.a=!0}function _s(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return ts(n)}catch(u){return e}}(t,n)+(r?" "+r:"")})}vs.prototype.G=function(){vs.X.G.call(this),bs(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ws.prototype.info=function(){};var Os={},Es=null;function Is(){return Es=Es||new Zo}function Cs(t){xo.call(this,Os.Fa,t)}function Ss(t){var e=Is();Qo(e,new Cs(e,t))}function Ts(t,e){xo.call(this,Os.STAT_EVENT,t),this.stat=e}function xs(t){var e=Is();Qo(e,new Ts(e,t))}function As(t){xo.call(this,Os.Ga,t)}function js(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Di.setTimeout(function(){t()},e)}Os.Fa="serverreachability",Ki(Cs,xo),Os.STAT_EVENT="statevent",Ki(Ts,xo),Os.Ga="timingevent",Ki(As,xo);var ks={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ns={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Ps(){}function Ds(){}Ps.prototype.a=null;var Rs,Ls={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Vs(){xo.call(this,"d")}function Ms(){xo.call(this,"c")}function Us(){}function Fs(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new vs(this),this.P=qs,this.R=new hs(t=go?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Ki(Vs,xo),Ki(Ms,xo),Ki(Us,Ps),Rs=new Us;var qs=45e3,Hs={},zs={};function Bs(t,e,n){t.H=1,t.i=fu(su(e)),t.j=n,t.I=!0,Ks(t,null)}function Ks(t,e){t.u=Bi(),Ws(t),t.l=su(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),Cu(n.b,"t",r),t.D=0,t.a=ba(t.g,t.g.C?e:null),0<t.O&&(t.F=new gs(Hi(t.Ca,t,t.a),t.O)),ms(t.J,t.a,"readystatechange",t.Xa),e=t.B?oo(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Ss(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Gs(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=$s(t,n);if(i==zs){4==e&&(t.h=4,xs(14),r=!1),_s(t.c,t.f,null,"[Incomplete Response]");break}if(i==Hs){t.h=4,xs(15),_s(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}_s(t.c,t.f,i,null),Xs(t,i)}4==e&&0==n.length&&(t.h=1,xs(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ha(e),e.F=!0,xs(11))):(_s(t.c,t.f,n,"[Invalid Chunked Response]"),Qs(t),Zs(t))}function $s(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?zs:(n=Number(e.substring(n,r)),isNaN(n)?Hs:(r+=1)+n>e.length?zs:(e=e.substr(r,n),t.D=r+n,e))}function Ws(t){t.T=Bi()+t.P,Js(t,t.P)}function Js(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=js(Hi(t.Va,t),e)}function Ys(t){t.o&&(Di.clearTimeout(t.o),t.o=null)}function Zs(t){0==t.g.v||t.A||pa(t.g,t)}function Qs(t){Ys(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,fs(t.R),bs(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Xs(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Nu(n.b,t)))if(n.I=t.N,!t.C&&Nu(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(im){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;da(n),na(n)}la(n),xs(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=js(Hi(n.Sa,n),6e3));if(1>=ku(n.b)&&n.ea){try{n.ea()}catch(im){}n.ea=void 0}}else va(n,11)}else if((t.C||n.a==t)&&da(n),!Zi(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=a.b;!h.a&&(to(l,"spdy")||to(l,"quic")||to(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Pu(h,h.b),h.b=null))}if(a.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(a.na=f,hu(a.B,a.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Bi()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=ma(a,a.C?a.ga:null,a.fa),d.C){Du(a.b,d);var p=d,g=a.D;g&&p.setTimeout(g),p.o&&(Ys(p),Ws(p)),a.a=d}else ca(a);0<n.g.length&&oa(n)}else"stop"!=i[0]&&"close"!=i[0]||va(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?va(n,7):ea(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Ss(4)}catch(im){}}function tu(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Li(t)||"string"==typeof t)Wi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Li(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Li(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function eu(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof eu)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function nu(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];ru(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)ru(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function ru(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(ki=Fs.prototype).setTimeout=function(t){this.P=t},ki.Xa=function(t){t=t.target;var e=this.F;e&&3==Zu(t)?e.f():this.Ca(t)},ki.Ca=function(t){try{if(t==this.a)t:{var e=Zu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!go&&!this.a.$())){this.A||4!=e||7==n||Ss(8==n||0>=r?3:2),Ys(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zi(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,xs(12),Qs(this),Zs(this);break t}_s(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Xs(this,a)}this.I?(Gs(this,e,o),go&&this.b&&3==e&&(ms(this.J,this.R,"tick",this.Wa),this.R.start())):(_s(this.c,this.f,o,null),Xs(this,o)),4==e&&Qs(this),this.b&&!this.A&&(4==e?pa(this.g,this):(this.b=!1,Ws(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,xs(12)):(this.h=0,xs(13)),Qs(this),Zs(this)}}}catch(c){}},ki.Wa=function(){if(this.a){var t=Zu(this.a),e=this.a.$();this.D<e.length&&(Ys(this),Gs(this,t,e),this.b&&4!=t&&Ws(this))}},ki.cancel=function(){this.A=!0,Qs(this)},ki.Va=function(){this.o=null;var t=Bi();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Ss(3),xs(17)),Qs(this),this.h=2,Zs(this)):Js(this,this.T-t)},(ki=eu.prototype).K=function(){nu(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},ki.L=function(){return nu(this),this.a.concat()},ki.get=function(t,e){return ru(this.b,t)?this.b[t]:e},ki.set=function(t,e){ru(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},ki.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var iu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ou(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof ou){this.a=void 0!==e?e:t.a,uu(this,t.f),this.j=t.j,au(this,t.c),cu(this,t.h),this.g=t.g,e=t.b;var n=new _u;n.c=e.c,e.a&&(n.a=new eu(e.a),n.b=e.b),lu(this,n),this.i=t.i}else t&&(n=String(t).match(iu))?(this.a=!!e,uu(this,n[1]||"",!0),this.j=du(n[2]||""),au(this,n[3]||"",!0),cu(this,n[4]),this.g=du(n[5]||"",!0),lu(this,n[6]||"",!0),this.i=du(n[7]||"")):(this.a=!!e,this.b=new _u(null,this.a))}function su(t){return new ou(t)}function uu(t,e,n){t.f=n?du(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function au(t,e,n){t.c=n?du(e,!0):e}function cu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function lu(t,e,n){e instanceof _u?(t.b=e,function(t,e){e&&!t.f&&(Ou(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Eu(this,e),Cu(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=pu(e,bu)),t.b=new _u(e,t.a))}function hu(t,e,n){t.b.set(e,n)}function fu(t){return hu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Bi()).toString(36)),t}function du(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function pu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,gu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function gu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ou.prototype.toString=function(){var t=[],e=this.f;e&&t.push(pu(e,vu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(pu(e,vu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(pu(n,"/"==n.charAt(0)?mu:yu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",pu(n,wu)),t.join("")};var vu=/[#\/\?@]/g,yu=/[#\?:]/g,mu=/[#\?]/g,bu=/[#\?@]/g,wu=/#/g;function _u(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ou(t){t.a||(t.a=new eu,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Eu(t,e){Ou(t),e=Su(t,e),ru(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,ru((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&nu(t)))}function Iu(t,e){return Ou(t),e=Su(t,e),ru(t.a.b,e)}function Cu(t,e,n){Eu(t,e),0<n.length&&(t.c=null,t.a.set(Su(t,e),Yi(n)),t.b+=n.length)}function Su(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(ki=_u.prototype).add=function(t,e){Ou(this),this.c=null,t=Su(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},ki.forEach=function(t,e){Ou(this),this.a.forEach(function(n,r){Wi(n,function(n){t.call(e,n,r,this)},this)},this)},ki.L=function(){Ou(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},ki.K=function(t){Ou(this);var e=[];if("string"==typeof t)Iu(this,t)&&(e=Ji(e,this.a.get(Su(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ji(e,t[n])}return e},ki.set=function(t,e){return Ou(this),this.c=null,Iu(this,t=Su(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},ki.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},ki.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Tu=function(){return function(t,e){this.b=t,this.a=e}}();function xu(t){this.g=t||Au,t=Di.PerformanceNavigationTiming?0<(t=Di.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Di.ia&&Di.ia.ya&&Di.ia.ya()&&Di.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Au=10;function ju(t){return!!t.b||!!t.a&&t.a.size>=t.f}function ku(t){return t.b?1:t.a?t.a.size:0}function Nu(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Pu(t,e){t.a?t.a.add(e):t.b=e}function Du(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Ru(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=ji(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Yi(t.c)}function Lu(){}function Vu(){this.a=new Lu}function Mu(t,e,n){var r=n||"";try{tu(t,function(t,n){var i=t;Vi(t)&&(i=ts(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(Gm){throw e.push(r+"type="+encodeURIComponent("_badmap")),Gm}}function Uu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}xu.prototype.cancel=function(){var t,e;if(this.c=Ru(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=ji(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Lu.prototype.stringify=function(t){return Di.JSON.stringify(t,void 0)},Lu.prototype.parse=function(t){return Di.JSON.parse(t,void 0)};var Fu=Di.JSON.parse;function qu(t){Zo.call(this),this.headers=new eu,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Hu,this.D=this.F=!1}Ki(qu,Zo);var Hu="",zu=/^https?$/i,Bu=["POST","PUT"];function Ku(t){return"content-type"==t.toLowerCase()}function Gu(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,$u(t),Ju(t)}function $u(t){t.u||(t.u=!0,Qo(t,"complete"),Qo(t,"error"))}function Wu(t){if(t.b&&void 0!==Pi&&(!t.s[1]||4!=Zu(t)||2!=t.W()))if(t.l&&4==Zu(t))ds(t.za,0,t);else if(Qo(t,"readystatechange"),4==Zu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(iu)[1]||null;if(!o&&Di.self&&Di.self.location){var s=Di.self.location.protocol;o=s.substr(0,s.length-1)}i=!zu.test(o?o.toLowerCase():"")}e=i}if(e)Qo(t,"complete"),Qo(t,"success");else{t.h=6;try{var u=2<Zu(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",$u(t)}}finally{Ju(t)}}}function Ju(t,e){if(t.a){Yu(t);var n=t.a,r=t.s[0]?Ri:null;t.a=null,t.s=null,e||Qo(t,"ready");try{n.onreadystatechange=r}catch(Gm){}}}function Yu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Di.clearTimeout(t.m),t.m=null)}function Zu(t){return t.a?t.a.readyState:0}function Qu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return io(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):hu(t,e,n))}function Xu(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ta(t){this.pa=0,this.g=[],this.c=new ws,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Xu("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Xu("baseRetryDelayMs",5e3,t),this.Ra=Xu("retryDelaySeedMs",1e4,t),this.Ma=Xu("forwardChannelMaxRetries",2,t),this.ma=Xu("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new xu(t&&t.concurrentRequestLimit),this.ka=new Vu,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function ea(t){if(ra(t),3==t.v){var e=t.R++,n=su(t.B);hu(n,"SID",t.J),hu(n,"RID",e),hu(n,"TYPE","terminate"),ua(t,n),(e=new Fs(t,t.c,e,void 0)).H=2,e.i=fu(su(n)),n=!1,Di.navigator&&Di.navigator.sendBeacon&&(n=Di.navigator.sendBeacon(e.i.toString(),"")),!n&&Di.Image&&((new Image).src=e.i,n=!0),n||(e.a=ba(e.g,null),e.a.ba(e.i)),e.u=Bi(),Ws(e)}ya(t)}function na(t){t.a&&(ha(t),t.a.cancel(),t.a=null)}function ra(t){na(t),t.j&&(Di.clearTimeout(t.j),t.j=null),da(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Di.clearTimeout(t.h),t.h=null)}function ia(t,e){t.g.push(new Tu(t.Oa++,e)),3==t.v&&oa(t)}function oa(t){ju(t.b)||t.h||(t.h=!0,us(t.Ba,t),t.u=0)}function sa(t,e){var n;n=e?e.f:t.R++;var r=su(t.B);hu(r,"SID",t.J),hu(r,"RID",n),hu(r,"AID",t.P),ua(t,r),t.i&&t.l&&Qu(r,t.i,t.l),n=new Fs(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=aa(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Pu(t.b,n),Bs(n,r,e)}function ua(t,e){t.f&&tu({},function(t,n){hu(e,n,t)})}function aa(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Hi(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{Mu(l,s,"req"+c+"_")}catch(ec){r&&r(l)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function ca(t){t.a||t.j||(t.T=1,us(t.Aa,t),t.o=0)}function la(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=js(Hi(t.Aa,t),ga(t,t.o)),t.o++,0))}function ha(t){null!=t.s&&(Di.clearTimeout(t.s),t.s=null)}function fa(t){t.a=new Fs(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=su(t.la);hu(e,"RID","rpc"),hu(e,"SID",t.J),hu(e,"CI",t.H?"0":"1"),hu(e,"AID",t.P),ua(t,e),hu(e,"TYPE","xmlhttp"),t.i&&t.l&&Qu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=fu(su(e)),n.j=null,n.I=!0,Ks(n,t)}function da(t){null!=t.m&&(Di.clearTimeout(t.m),t.m=null)}function pa(t,e){var n=null;if(t.a==e){da(t),ha(t),t.a=null;var r=2}else{if(!Nu(t.b,e))return;n=e.s,Du(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Bi()-e.u;var i=t.u;Qo(r=Is(),new As(r,n,e,i)),oa(t)}else ca(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ku(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=js(Hi(t.Ba,t,e),ga(t,t.u)),t.u++,0)))}(t,e)||2==r&&la(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:va(t,5);break;case 4:va(t,10);break;case 3:va(t,6);break;default:va(t,2)}}function ga(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function va(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Hi(t.Ya,t);n||(n=new ou("//www.google.com/images/cleardot.gif"),Di.location&&"http"==Di.location.protocol||uu(n,"https"),fu(n)),function(t,e){var n=new ws;if(Di.Image){var r=new Image;r.onload=zi(Uu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zi(Uu,n,r,"TestLoadImage: error",!1,e),r.onabort=zi(Uu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zi(Uu,n,r,"TestLoadImage: timeout",!1,e),Di.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else xs(2);t.v=0,t.f&&t.f.ra(e),ya(t),ra(t)}function ya(t){t.v=0,t.I=-1,t.f&&(0==Ru(t.b).length&&0==t.g.length||(t.b.c.length=0,Yi(t.g),t.g.length=0),t.f.qa())}function ma(t,e,n){var r=function(t){return t instanceof ou?su(t):new ou(t,void 0)}(n);if(""!=r.c)e&&au(r,e+"."+r.c),cu(r,r.h);else{var i=Di.location;r=function(t,e,n,r){var i=new ou(null,void 0);return t&&uu(i,t),e&&au(i,e),n&&cu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&io(t.V,function(t,e){hu(r,e,t)}),n=t.na,(e=t.A)&&n&&hu(r,e,n),hu(r,"VER",t.ha),ua(t,r),r}function ba(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qu(t.Na)).F=t.C,e}function wa(){}function _a(){if(fo&&!(10<=Number(Io)))throw Error("Environmental error: no available transport.")}function Oa(t,e){Zo.call(this),this.a=new ta(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Zi(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zi(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new Ca(this)}function Ea(t){Vs.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ia(){Ms.call(this),this.status=1}function Ca(t){this.a=t}(ki=qu.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Rs),this.a.onreadystatechange=Hi(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Gu(this,o)}t=n||"";var i=new eu(this.headers);r&&tu(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Ku,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Di.FormData&&t instanceof Di.FormData,!(0<=$i(Bu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Yu(this),0<this.o&&((this.D=function(t){return fo&&Eo(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Hi(this.xa,this)):this.m=ds(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Gu(this,o)}},ki.xa=function(){void 0!==Pi&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Qo(this,"timeout"),this.abort(8))},ki.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Qo(this,"complete"),Qo(this,"abort"),Ju(this))},ki.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Ju(this,!0)),qu.X.G.call(this)},ki.za=function(){this.j||(this.A||this.l||this.g?Wu(this):this.Ua())},ki.Ua=function(){Wu(this)},ki.W=function(){try{return 2<Zu(this)?this.a.status:-1}catch(lo){return-1}},ki.$=function(){try{return this.a?this.a.responseText:""}catch(lo){return""}},ki.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Fu(e)}},ki.ua=function(){return this.h},ki.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(ki=ta.prototype).ha=8,ki.v=1,ki.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Fs(this,this.c,t,void 0),r=this.l;if(this.O&&(r?uo(r=oo(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=aa(this,n,e),hu(i=su(this.B),"RID",t),hu(i,"CVER",22),this.A&&hu(i,"X-HTTP-Session-Id",this.A),ua(this,i),this.i&&r&&Qu(i,this.i,r),Pu(this.b,n),this.Ia&&hu(i,"TYPE","init"),this.da?(hu(i,"$req",e),hu(i,"SID","null"),n.U=!0,Bs(n,i,null)):Bs(n,i,e),this.v=2}}else 3==this.v&&(t?sa(this,t):0==this.g.length||ju(this.b)||sa(this))},ki.Aa=function(){if(this.j=null,fa(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=js(Hi(this.Ta,this),t)}},ki.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,xs(10),na(this),fa(this))},ki.Sa=function(){null!=this.m&&(this.m=null,na(this),la(this),xs(19))},ki.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),xs(2)):(this.c.info("Failed to ping google.com"),xs(1))},(ki=wa.prototype).ta=function(){},ki.sa=function(){},ki.ra=function(){},ki.qa=function(){},ki.Ja=function(){},_a.prototype.a=function(t,e){return new Oa(t,e)},Ki(Oa,Zo),Oa.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;xs(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ma(t,null,t.fa),oa(t)},Oa.prototype.close=function(){ea(this.a)},Oa.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,ia(this.a,e)}else this.l?((e={}).__data__=ts(t),ia(this.a,e)):ia(this.a,t)},Oa.prototype.G=function(){this.a.f=null,delete this.f,ea(this.a),delete this.a,Oa.X.G.call(this)},Ki(Ea,Vs),Ki(Ia,Ms),Ki(Ca,wa),Ca.prototype.ta=function(){Qo(this.a,"a")},Ca.prototype.sa=function(t){Qo(this.a,new Ea(t))},Ca.prototype.ra=function(t){Qo(this.a,new Ia(t))},Ca.prototype.qa=function(){Qo(this.a,"b")},_a.prototype.createWebChannel=_a.prototype.a,Oa.prototype.send=Oa.prototype.h,Oa.prototype.open=Oa.prototype.g,Oa.prototype.close=Oa.prototype.close,ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,Ns.COMPLETE="complete",Ds.EventType=Ls,Ls.OPEN="a",Ls.CLOSE="b",Ls.ERROR="c",Ls.MESSAGE="d",Zo.prototype.listen=Zo.prototype.va,qu.prototype.listenOnce=qu.prototype.wa,qu.prototype.getLastError=qu.prototype.Qa,qu.prototype.getLastErrorCode=qu.prototype.ua,qu.prototype.getStatus=qu.prototype.W,qu.prototype.getResponseJson=qu.prototype.Pa,qu.prototype.getResponseText=qu.prototype.$,qu.prototype.send=qu.prototype.ba;var Sa=ks,Ta=Ns,xa=Os,Aa=Ds,ja=qu,ka=n("30Go"),Na=new Ti.b("@firebase/firestore");function Pa(){return Na.logLevel}function Da(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Na.logLevel<=Ti.a.DEBUG){var r=e.map(Va);Na.debug.apply(Na,Object(ka.g)(["Firestore (8.2.5): "+t],r))}}function Ra(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Na.logLevel<=Ti.a.ERROR){var r=e.map(Va);Na.error.apply(Na,Object(ka.g)(["Firestore (8.2.5): "+t],r))}}function La(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Na.logLevel<=Ti.a.WARN){var r=e.map(Va);Na.warn.apply(Na,Object(ka.g)(["Firestore (8.2.5): "+t],r))}}function Va(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Gm){return t}}function Ma(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.5) INTERNAL ASSERTION FAILED: "+t;throw Ra(e),new Error(e)}function Ua(t,e){t||Ma()}function Fa(t,e){return t}function qa(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ha=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=qa(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function za(t,e){return t<e?-1:t>e?1:0}function Ba(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Ka(t){return t+"\0"}var Ga=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return za(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Ga.h=new Ga("");var $a={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Wa=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(ka.c)(e,t),e}(Error),Ja=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Ga.fromBase64String(e))}catch(e){throw new Wa($a.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ga.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),Ya=function(t){this._=t};function Za(){if("undefined"==typeof Uint8Array)throw new Wa($a.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Qa(){if("undefined"==typeof atob)throw new Wa($a.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Xa=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ka.c)(e,t),e.fromBase64String=function(t){return Qa(),new e(Ja.fromBase64String(t))},e.fromUint8Array=function(t){return Za(),new e(Ja.fromUint8Array(t))},e.prototype.toBase64=function(){return Qa(),this._.toBase64()},e.prototype.toUint8Array=function(){return Za(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(Ya),tc=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},ec=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),nc=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();nc.UNAUTHENTICATED=new nc(null),nc.P=new nc("google-credentials-uid"),nc.g=new nc("first-party-uid");var rc=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},ic=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(nc.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),oc=function(){function t(t){var e=this;this.C=null,this.currentUser=nc.UNAUTHENTICATED,this.N=!1,this.F=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.F++,e.currentUser=e.O(),e.N=!0,e.p&&e.p(e.currentUser)},this.F=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then(function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.F,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.F!==e?(Da("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Ua("string"==typeof n.accessToken),new rc(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.O=function(){var t=this.auth&&this.auth.getUid();return Ua(null===t||"string"==typeof t),new nc(t)},t}(),sc=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=nc.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),uc=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new sc(this.k,this.M))},t.prototype.S=function(t){t(nc.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),ac=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();ac.U=-1;var cc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Wa($a.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Wa($a.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Wa($a.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Wa($a.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?za(this.nanoseconds,t.nanoseconds):za(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),lc=function(){function t(t){this.timestamp=t}return t.W=function(e){return new t(e)},t.min=function(){return new t(new cc(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.j=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),hc=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ma(),void 0===n?n=t.length-e:n>t.length-e&&Ma(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),fc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ka.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Wa($a.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.at=function(){return new e([])},e}(hc),dc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ka.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return dc.test(t)},e.prototype.ot=function(){return this.rt().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Wa($a.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new Wa($a.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new Wa($a.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new Wa($a.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(hc),gc=function(){function t(t){this.path=t}return t.ft=function(e){return new t(fc.ct(e))},t.dt=function(e){return new t(fc.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===fc.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return fc.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new fc(e.slice()))},t}();function vc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function mc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var bc=function(){function t(t){this.fields=t,t.sort(pc.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return Ba(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),wc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _c(t){if(Ua(!!t),"string"==typeof t){var e=0,n=wc.exec(t);if(Ua(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Oc(t.seconds),nanos:Oc(t.nanos)}}function Oc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Ec(t){return"string"==typeof t?Ga.fromBase64String(t):Ga.fromUint8Array(t)}function Ic(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cc(t){var e=t.mapValue.fields.__previous_value__;return Ic(e)?Cc(e):e}function Sc(t){var e=_c(t.mapValue.fields.__local_write_time__.timestampValue);return new cc(e.seconds,e.nanos)}function Tc(t){return null==t}function xc(t){return 0===t&&1/t==-1/0}function Ac(t){return"number"==typeof t&&Number.isInteger(t)&&!xc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function jc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ic(t)?4:10:Ma()}function kc(t,e){var n=jc(t);if(n!==jc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sc(t).isEqual(Sc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=_c(t.timestampValue),r=_c(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Ec(t.bytesValue).isEqual(Ec(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Oc(t.geoPointValue.latitude)===Oc(e.geoPointValue.latitude)&&Oc(t.geoPointValue.longitude)===Oc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Oc(t.integerValue)===Oc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=Oc(t.doubleValue),r=Oc(e.doubleValue);return n===r?xc(n)===xc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Ba(t.arrayValue.values||[],e.arrayValue.values||[],kc);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(vc(n)!==vc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kc(n[i],r[i])))return!1;return!0}(t,e);default:return Ma()}}function Nc(t,e){return void 0!==(t.values||[]).find(function(t){return kc(t,e)})}function Pc(t,e){var n=jc(t),r=jc(e);if(n!==r)return za(n,r);switch(n){case 0:return 0;case 1:return za(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=Oc(t.integerValue||t.doubleValue),r=Oc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Dc(t.timestampValue,e.timestampValue);case 4:return Dc(Sc(t),Sc(e));case 5:return za(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Ec(t),r=Ec(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=za(n[i],r[i]);if(0!==o)return o}return za(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=za(Oc(t.latitude),Oc(e.latitude));return 0!==n?n:za(Oc(t.longitude),Oc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Pc(n[i],r[i]);if(o)return o}return za(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=za(r[s],o[s]);if(0!==u)return u;var a=Pc(n[r[s]],i[o[s]]);if(0!==a)return a}return za(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ma()}}function Dc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return za(t,e);var n=_c(t),r=_c(e),i=za(n.seconds,r.seconds);return 0!==i?i:za(n.nanos,r.nanos)}function Rc(t){return Lc(t)}function Lc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=_c(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ec(t.bytesValue).toBase64():"referenceValue"in t?gc.dt(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Lc(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Lc(t.fields[o])}return e+"}"}(t.mapValue):Ma();var e}function Vc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function Mc(t){return!!t&&"integerValue"in t}function Uc(t){return!!t&&"arrayValue"in t}function Fc(t){return!!t&&"nullValue"in t}function qc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Hc(t){return!!t&&"mapValue"in t}var zc=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Hc(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return kc(this.proto,t.proto)},t}(),Bc=function(){function t(t){void 0===t&&(t=zc.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===jc(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(pc.at(),this.Rt);return null!=t?new zc(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=Hc(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)}),r?{mapValue:{fields:o}}:null},t}();function Kc(t){var e=[];return yc(t.fields||{},function(t,n){var r=new pc([t]);if(Hc(n)){var i=Kc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new bc(e)}var Gc=function(t,e){this.key=t,this.version=e},$c=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(ka.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Gc),Wc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(ka.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Gc),Jc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ka.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Gc),Yc=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function Zc(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Yc(t,e,n,r,i,o,s)}function Qc(t){var e=Fa(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.ot()+t.op.toString()+Rc(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.ot()+t.dir}(t)}).join(","),Tc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=hl(e.startAt)),e.endAt&&(n+="|ub:",n+=hl(e.endAt)),e.St=n}return e.St}function Xc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!dl(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!kc(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!gl(t.startAt,e.startAt)&&gl(t.endAt,e.endAt)}function tl(t){return gc.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var el=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(ka.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new nl(t,n,r):"array-contains"===n?new sl(t,r):"in"===n?new ul(t,r):"not-in"===n?new al(t,r):"array-contains-any"===n?new cl(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new rl(t,n):new il(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Pc(e,this.value)):null!==e&&jc(this.value)===jc(e)&&this.Ct(Pc(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ma()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),nl=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=gc.dt(r.referenceValue),i}return Object(ka.c)(e,t),e.prototype.matches=function(t){var e=gc.J(t.key,this.key);return this.Ct(e)},e}(el),rl=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=ol(0,n),r}return Object(ka.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(el),il=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=ol(0,n),r}return Object(ka.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(el);function ol(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return gc.dt(t.referenceValue)})}var sl=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(ka.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Uc(e)&&Nc(e.arrayValue,this.value)},e}(el),ul=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(ka.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Nc(this.value.arrayValue,e)},e}(el),al=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(ka.c)(e,t),e.prototype.matches=function(t){if(Nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Nc(this.value.arrayValue,e)},e}(el),cl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(ka.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Uc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return Nc(e.value.arrayValue,t)})},e}(el),ll=function(t,e){this.position=t,this.before=e};function hl(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Rc(t)}).join(",")}var fl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function dl(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function pl(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?gc.J(gc.dt(s.referenceValue),n.key):Pc(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function gl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!kc(t.position[n],e.position[n]))return!1;return!0}var vl=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.Ft=null,this.Ot=null};function yl(t,e,n,r,i,o,s,u){return new vl(t,e,n,r,i,o,s,u)}function ml(t){return new vl(t)}function bl(t){return!Tc(t.limit)&&"F"===t.limitType}function wl(t){return!Tc(t.limit)&&"L"===t.limitType}function _l(t){return t.Nt.length>0?t.Nt[0].field:null}function Ol(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function El(t){return null!==t.collectionGroup}function Il(t){var e=Fa(t);if(null===e.Ft){e.Ft=[];var n=Ol(e),r=_l(e);if(null!==n&&null===r)n.ht()||e.Ft.push(new fl(n)),e.Ft.push(new fl(pc.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var u=s[o];e.Ft.push(u),u.field.ht()&&(i=!0)}if(!i){var a=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ft.push(new fl(pc.lt(),a))}}}return e.Ft}function Cl(t){var e=Fa(t);if(!e.Ot)if("F"===e.limitType)e.Ot=Zc(e.path,e.collectionGroup,Il(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Il(e);r<i.length;r++){var o=i[r];n.push(new fl(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new ll(e.endAt.position,!e.endAt.before):null,u=e.startAt?new ll(e.startAt.position,!e.startAt.before):null;e.Ot=Zc(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.Ot}function Sl(t,e,n){return new vl(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tl(t,e){return Xc(Cl(t),Cl(e))&&t.limitType===e.limitType}function xl(t){return Qc(Cl(t))+"|lt:"+t.limitType}function Al(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.ot()+" "+e.op+" "+Rc(e.value);var e}).join(", ")+"]"),Tc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+hl(t.startAt)),t.endAt&&(e+=", endAt: "+hl(t.endAt)),"Target("+e+")"}(Cl(t))+"; limitType="+t.limitType+")"}function jl(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):gc.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!pl(t.startAt,Il(t),e)||t.endAt&&pl(t.endAt,Il(t),e))}(t,e)}function kl(t){return function(e,n){for(var r=!1,i=0,o=Il(t);i<o.length;i++){var s=o[i],u=Nl(s,e,n);if(0!==u)return u;r=r||s.field.ht()}return 0}}function Nl(t,e,n){var r=t.field.ht()?gc.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Pc(r,i):Ma()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ma()}}var Pl=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=lc.min()),void 0===o&&(o=lc.min()),void 0===s&&(s=Ga.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function Dl(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xc(e)?"-0":e}}function Rl(t){return{integerValue:""+t}}function Ll(t,e){return Ac(e)?Rl(e):Dl(t,e)}var Vl=function(){this.Ut=void 0};function Ml(t,e,n){return t instanceof ql?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Hl?zl(t,e):t instanceof Bl?Kl(t,e):function(t,e){var n=Fl(t,e),r=$l(n)+$l(t.Qt);return Mc(n)&&Mc(t.Qt)?Rl(r):Dl(t.Kt,r)}(t,e)}function Ul(t,e,n){return t instanceof Hl?zl(t,e):t instanceof Bl?Kl(t,e):n}function Fl(t,e){return t instanceof Gl?Mc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var ql=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ka.c)(e,t),e}(Vl),Hl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ka.c)(e,t),e}(Vl);function zl(t,e){for(var n=Wl(e),r=function(t){n.some(function(e){return kc(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Bl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ka.c)(e,t),e}(Vl);function Kl(t,e){for(var n=Wl(e),r=function(t){n=n.filter(function(e){return!kc(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Gl=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(ka.c)(e,t),e}(Vl);function $l(t){return Oc(t.integerValue||t.doubleValue)}function Wl(t){return Uc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Jl=function(t,e){this.field=t,this.transform=e},Yl=function(t,e){this.version=t,this.transformResults=e},Zl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Wt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"jt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Ql(t,e){return void 0!==t.updateTime?e instanceof $c&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof $c}var Xl=function(){};function th(t,e,n){return t instanceof oh?function(t,e,n){var r=t.value;if(n.transformResults){var i=ah(t.fieldTransforms,e,n.transformResults);r=lh(t.fieldTransforms,r,i)}return new $c(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof sh?function(t,e,n){if(!Ql(t.Gt,e))return new Jc(t.key,n.version);var r=uh(t,e,n.transformResults?ah(t.fieldTransforms,e,n.transformResults):[]);return new $c(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Wc(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function eh(t,e,n,r){return t instanceof oh?function(t,e,n,r){if(!Ql(t.Gt,e))return e;var i=t.value,o=ch(t.fieldTransforms,n,e);i=lh(t.fieldTransforms,i,o);var s=ih(e);return new $c(t.key,s,i,{bt:!0})}(t,e,r):t instanceof sh?function(t,e,n,r){if(!Ql(t.Gt,e))return e;var i=ih(e),o=uh(t,e,ch(t.fieldTransforms,n,e));return new $c(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return Ql(t.Gt,e)?new Wc(t.key,lc.min()):e}(t,e)}function nh(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof $c?e.field(o.field):void 0,u=Fl(o.transform,s||null);null!=u&&(n=null==n?(new Bc).set(o.field,u):n.set(o.field,u))}return n?n.yt():null}(t.fieldTransforms,e)}function rh(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Ba(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Hl&&e instanceof Hl||t instanceof Bl&&e instanceof Bl?Ba(t.elements,e.elements,kc):t instanceof Gl&&e instanceof Gl?kc(t.Qt,e.Qt):t instanceof ql&&e instanceof ql}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function ih(t){return t instanceof $c?t.version:lc.min()}var oh=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(ka.c)(e,t),e}(Xl),sh=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(ka.c)(e,t),e}(Xl);function uh(t,e,n){var r;return r=function(t,e){var n=new Bc(e);return t.zt.fields.forEach(function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.yt()}(t,r=e instanceof $c?e.data():zc.empty()),lh(t.fieldTransforms,r,n)}function ah(t,e,n){var r=[];Ua(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof $c&&(u=e.field(o.field)),r.push(Ul(s,u,n[i]))}return r}function ch(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var u=s[o],a=u.transform,c=null;n instanceof $c&&(c=n.field(u.field)),i.push(Ml(a,c,e))}return i}function lh(t,e,n){for(var r=new Bc(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var hh,fh,dh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(ka.c)(e,t),e}(Xl),ph=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(ka.c)(e,t),e}(Xl),gh=function(t){this.count=t};function vh(t){switch(t){case $a.OK:return Ma();case $a.CANCELLED:case $a.UNKNOWN:case $a.DEADLINE_EXCEEDED:case $a.RESOURCE_EXHAUSTED:case $a.INTERNAL:case $a.UNAVAILABLE:case $a.UNAUTHENTICATED:return!1;case $a.INVALID_ARGUMENT:case $a.NOT_FOUND:case $a.ALREADY_EXISTS:case $a.PERMISSION_DENIED:case $a.FAILED_PRECONDITION:case $a.ABORTED:case $a.OUT_OF_RANGE:case $a.UNIMPLEMENTED:case $a.DATA_LOSS:return!0;default:return Ma()}}function yh(t){if(void 0===t)return Ra("GRPC error has no .code"),$a.UNKNOWN;switch(t){case hh.OK:return $a.OK;case hh.CANCELLED:return $a.CANCELLED;case hh.UNKNOWN:return $a.UNKNOWN;case hh.DEADLINE_EXCEEDED:return $a.DEADLINE_EXCEEDED;case hh.RESOURCE_EXHAUSTED:return $a.RESOURCE_EXHAUSTED;case hh.INTERNAL:return $a.INTERNAL;case hh.UNAVAILABLE:return $a.UNAVAILABLE;case hh.UNAUTHENTICATED:return $a.UNAUTHENTICATED;case hh.INVALID_ARGUMENT:return $a.INVALID_ARGUMENT;case hh.NOT_FOUND:return $a.NOT_FOUND;case hh.ALREADY_EXISTS:return $a.ALREADY_EXISTS;case hh.PERMISSION_DENIED:return $a.PERMISSION_DENIED;case hh.FAILED_PRECONDITION:return $a.FAILED_PRECONDITION;case hh.ABORTED:return $a.ABORTED;case hh.OUT_OF_RANGE:return $a.OUT_OF_RANGE;case hh.UNIMPLEMENTED:return $a.UNIMPLEMENTED;case hh.DATA_LOSS:return $a.DATA_LOSS;default:return Ma()}}(fh=hh||(hh={}))[fh.OK=0]="OK",fh[fh.CANCELLED=1]="CANCELLED",fh[fh.UNKNOWN=2]="UNKNOWN",fh[fh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fh[fh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fh[fh.NOT_FOUND=5]="NOT_FOUND",fh[fh.ALREADY_EXISTS=6]="ALREADY_EXISTS",fh[fh.PERMISSION_DENIED=7]="PERMISSION_DENIED",fh[fh.UNAUTHENTICATED=16]="UNAUTHENTICATED",fh[fh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fh[fh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fh[fh.ABORTED=10]="ABORTED",fh[fh.OUT_OF_RANGE=11]="OUT_OF_RANGE",fh[fh.UNIMPLEMENTED=12]="UNIMPLEMENTED",fh[fh.INTERNAL=13]="INTERNAL",fh[fh.UNAVAILABLE=14]="UNAVAILABLE",fh[fh.DATA_LOSS=15]="DATA_LOSS";var mh=function(){function t(t,e){this.J=t,this.root=e||wh.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,wh.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,wh.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Zt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new bh(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new bh(this.root,t,this.J,!1)},t.prototype.se=function(){return new bh(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new bh(this.root,t,this.J,!0)},t}(),bh=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),wh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw Ma();if(this.right._e())throw Ma();var t=this.left.me();if(t!==this.right.me())throw Ma();return t+(this._e()?0:1)},t}();wh.EMPTY=null,wh.RED=!0,wh.Jt=!1,wh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ma()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ma()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ma()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ma()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ma()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new wh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var _h=function(){function t(t){this.J=t,this.data=new mh(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt(function(e,n){return t(e),!1})},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new Oh(this.data.ee())},t.prototype.ne=function(t){return new Oh(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),Oh=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),Eh=new mh(gc.J);function Ih(){return Eh}function Ch(){return Ih()}var Sh=new mh(gc.J);function Th(){return Sh}var xh=new mh(gc.J);function Ah(){return xh}var jh=new _h(gc.J);function kh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=jh,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Nh=new _h(za);function Ph(){return Nh}var Dh=function(){function t(t){this.J=t?function(e,n){return t(e,n)||gc.J(e.key,n.key)}:function(t,e){return gc.J(t.key,e.key)},this.Ve=Th(),this.pe=new mh(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),Rh=function(){function t(){this.ve=new mh(gc.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):Ma():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt(function(e,n){t.push(n)}),t},t}(),Lh=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=u}return t.Fe=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,Dh.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&Tl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Vh=function(){function t(t,e,n,r,i){this.Mt=t,this.Oe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,Mh.Be(e,n)),new t(lc.min(),r,Ph(),Ih(),kh())},t}(),Mh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Ga.h,n,kh(),kh(),kh())},t}(),Uh=function(t,e,n,r){this.We=t,this.removedTargetIds=e,this.key=n,this.je=r},Fh=function(t,e){this.targetId=t,this.Ge=e},qh=function(t,e,n,r){void 0===n&&(n=Ga.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Hh=function(){function t(){this.ze=0,this.He=Kh(),this.Je=Ga.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=kh(),e=kh(),n=kh();return this.He.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ma()}}),new Mh(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Kh()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),zh=function(){function t(t){this.hn=t,this.ln=new Map,this._n=Ih(),this.fn=Bh(),this.dn=new _h(za)}return t.prototype.wn=function(t){for(var e=0,n=t.We;e<n.length;e++){var r=n[e];t.je instanceof $c?this.En(r,t.je):t.je instanceof Wc&&this.Tn(r,t.key,t.je)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.je)},t.prototype.In=function(t){var e=this;this.mn(t,function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:Ma()}})},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach(function(t,r){n.Rn(r)&&e(r)})},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(tl(i))if(0===n){var o=new gc(i.path);this.Tn(e,o,new Wc(o,lc.min()))}else Ua(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach(function(r,i){var o=e.gn(i);if(o){if(r.qe&&tl(o.target)){var s=new gc(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new Wc(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}});var r=kh();this.fn.forEach(function(t,n){var i=!0;n.Re(function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)}),i&&(r=r.add(t))});var i=new Vh(t,n,this.dn,this._n,r);return this._n=Ih(),this.fn=Bh(),this.dn=new _h(za),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Hh,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new _h(za),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Da("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Hh),this.hn.Sn(t).forEach(function(n){e.Tn(t,n,null)})},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Bh(){return new mh(gc.J)}function Kh(){return new mh(gc.J)}var Gh={asc:"ASCENDING",desc:"DESCENDING"},$h={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wh=function(t,e){this.T=t,this.qt=e};function Jh(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Yh(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Zh(t,e){return Jh(t,e.G())}function Qh(t){return Ua(!!t),lc.W(function(t){var e=_c(t);return new cc(e.seconds,e.nanos)}(t))}function Xh(t,e){return function(t){return new fc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function tf(t){var e=fc.ct(t);return Ua(Cf(e)),e}function ef(t,e){return Xh(t.T,e.path)}function nf(t,e){var n=tf(e);if(n.get(1)!==t.T.projectId)throw new Wa($a.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new Wa($a.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new gc(uf(n))}function rf(t,e){return Xh(t.T,e)}function of(t){var e=tf(t);return 4===e.length?fc.at():uf(e)}function sf(t){return new fc(["projects",t.T.projectId,"databases",t.T.database]).ot()}function uf(t){return Ua(t.length>4&&"documents"===t.get(4)),t.X(5)}function af(t,e,n){return{name:ef(t,e),fields:n.proto.mapValue.fields}}function cf(t,e,n){var r=nf(t,e.name),i=Qh(e.updateTime),o=new zc({mapValue:{fields:e.fields}});return new $c(r,i,o,{hasCommittedMutations:!!n})}function lf(t,e){var n;if(e instanceof oh)n={update:af(t,e.key,e.value)};else if(e instanceof dh)n={delete:ef(t,e.key)};else if(e instanceof sh)n={update:af(t,e.key,e.data),updateMask:If(e.zt)};else{if(!(e instanceof ph))return Ma();n={verify:ef(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof ql)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Hl)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Bl)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Gl)return{fieldPath:e.field.ot(),increment:n.Qt};throw Ma()}(0,t)})),e.Gt.jt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Zh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ma()}(t,e.Gt)),n}function hf(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Zl.updateTime(Qh(t.updateTime)):void 0!==t.exists?Zl.exists(t.exists):Zl.Wt()}(e.currentDocument):Zl.Wt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(Ua("REQUEST_TIME"===e.setToServerValue),n=new ql):"appendMissingElements"in e?n=new Hl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Bl(e.removeAllFromArray.values||[]):"increment"in e?n=new Gl(t,e.increment):Ma();var r=pc._t(e.fieldPath);return new Jl(r,n)}(t,e)}):[];if(e.update){var i=nf(t,e.update.name),o=new zc({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new bc((t.fieldPaths||[]).map(function(t){return pc._t(t)}))}(e.updateMask);return new sh(i,o,s,n,r)}return new oh(i,o,n,r)}if(e.delete){var u=nf(t,e.delete);return new dh(u,n)}if(e.verify){var a=nf(t,e.verify);return new ph(a,n)}return Ma()}function ff(t,e){return{documents:[rf(t,e.path)]}}function df(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=rf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=rf(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(qc(t.value))return{unaryFilter:{field:wf(t.field),op:"IS_NAN"}};if(Fc(t.value))return{unaryFilter:{field:wf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(qc(t.value))return{unaryFilter:{field:wf(t.field),op:"IS_NOT_NAN"}};if(Fc(t.value))return{unaryFilter:{field:wf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wf(t.field),op:bf(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:wf(t.field),direction:mf(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||Tc(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=vf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=vf(e.endAt)),n}function pf(t){var e=of(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ua(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=gf(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(t){return function(t){return new fl(_f(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var a=null;n.limit&&(a=function(t){var e;return Tc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=yf(n.startAt));var l=null;return n.endAt&&(l=yf(n.endAt)),yl(e,i,u,s,a,"F",c,l)}function gf(t){return t?void 0!==t.unaryFilter?[Ef(t)]:void 0!==t.fieldFilter?[Of(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return gf(t)}).reduce(function(t,e){return t.concat(e)}):Ma():[]}function vf(t){return{before:t.before,values:t.position}}function yf(t){return new ll(t.values||[],!!t.before)}function mf(t){return Gh[t]}function bf(t){return $h[t]}function wf(t){return{fieldPath:t.ot()}}function _f(t){return pc._t(t.fieldPath)}function Of(t){return el.create(_f(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ma()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ef(t){switch(t.unaryFilter.op){case"IS_NAN":var e=_f(t.unaryFilter.field);return el.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=_f(t.unaryFilter.field);return el.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_f(t.unaryFilter.field);return el.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_f(t.unaryFilter.field);return el.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ma()}}function If(t){var e=[];return t.fields.forEach(function(t){return e.push(t.ot())}),{fieldPaths:e}}function Cf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Sf=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Tf=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.Fn=!1,t(function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)},function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Fn&&Ma(),this.Fn=!0,this.Nn?this.error?this.On(n,this.error):this.kn(e,this.result):new t(function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.On(n,e).next(t,i)}})},t.prototype.Mn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln(function(){return e(n)}):t.resolve(n)},t.prototype.On=function(e,n){return e?this.Ln(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.$n=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.$n(r)},t}(),xf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new Sf,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new kf(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=Lf(e.target.error);n.qn.reject(new kf(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new kf(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Da("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Pf(e)},t}(),Af=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(xi.g)())&&Ra("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Da("SimpleDb","Removing database:",t),Df(window.indexedDB.deleteDatabase(t)).Mn()},t.Wn=function(){if("undefined"==typeof indexedDB)return!1;if(t.jn())return!0;var e=Object(xi.g)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.jn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(ka.b)(this,void 0,void 0,function(){var e,n=this;return Object(ka.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Da("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new kf(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Wa($a.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new kf(t,n))},i.onupgradeneeded=function(t){Da("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Da("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}})})},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(ka.b)(this,void 0,void 0,function(){var i,o,s,u,a;return Object(ka.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,l;return Object(ka.d)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,u.Jn(t)];case 2:return u.db=h.sent(),e=xf.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Tf.reject(t)}).Mn(),a={},s.catch(function(){}),[4,e.Un];case 3:return[2,(a.value=(h.sent(),s),a)];case 4:return Da("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),jf=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return Df(this.ts.delete())},t}(),kf=function(t){function e(e,n){var r=this;return(r=t.call(this,$a.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(ka.c)(e,t),e}(Wa);function Nf(t){return"IndexedDbTransactionError"===t.name}var Pf=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Da("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Da("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Df(n)},t.prototype.add=function(t){return Da("SimpleDb","ADD",this.store.name,t,t),Df(this.store.add(t))},t.prototype.get=function(t){var e=this;return Df(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Da("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Da("SimpleDb","DELETE",this.store.name,t),Df(this.store.delete(t))},t.prototype.count=function(){return Da("SimpleDb","COUNT",this.store.name),Df(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.us=function(t,e){Da("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,function(t,e,n){return n.delete()})},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new Tf(function(n,r){e.onerror=function(t){var e=Lf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.cs=function(t,e){var n=[];return new Tf(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new jf(i),s=e(i.primaryKey,i.value,o);if(s instanceof Tf){var u=s.catch(function(t){return o.done(),Tf.reject(t)});n.push(u)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}}).next(function(){return Tf.$n(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Df(t){return new Tf(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Lf(t.target.error);n(e)}})}var Rf=!1;function Lf(t){var e=Af.Kn(Object(xi.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Wa("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Rf||(Rf=!0,setTimeout(function(){throw r},0)),r}}return t}var Vf=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new Sf,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch(function(t){})}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout(function(){return e.Rs()},t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new Wa($a.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys(function(){return null!==t.As?(t.clearTimeout(),t.op().then(function(e){return t.Ts.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function Mf(t,e){if(Ra("AsyncQueue",e+": "+t),Nf(t))return new Wa($a.UNAVAILABLE,e+": "+t);throw t}var Uf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ff=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach(function(t){return t()})},t}();function qf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=zf(e)),e=Hf(t.get(n),e);return zf(e)}function Hf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function zf(t){return t+"\x01\x01"}function Bf(t){var e=t.length;if(Ua(e>=2),2===e)return Ua("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),fc.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&Ma(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:Ma()}o=s+2}return new fc(r)}var Kf=function(t,e){this.seconds=t,this.nanoseconds=e},Gf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Gf.store="owner",Gf.key="owner";var $f=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};$f.store="mutationQueues",$f.keyPath="userId";var Wf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Wf.store="mutations",Wf.keyPath="batchId",Wf.userMutationsIndex="userMutationsIndex",Wf.userMutationsKeyPath=["userId","batchId"];var Jf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,qf(e)]},t.key=function(t,e,n){return[t,qf(e),n]},t}();Jf.store="documentMutations",Jf.PLACEHOLDER=new Jf;var Yf=function(t,e){this.path=t,this.readTime=e},Zf=function(t,e){this.path=t,this.version=e},Qf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Qf.store="remoteDocuments",Qf.readTimeIndex="readTimeIndex",Qf.readTimeIndexPath="readTime",Qf.collectionReadTimeIndex="collectionReadTimeIndex",Qf.collectionReadTimeIndexPath=["parentPath","readTime"];var Xf=function(t){this.byteSize=t};Xf.store="remoteDocumentGlobal",Xf.key="remoteDocumentGlobalKey";var td=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};td.store="targets",td.keyPath="targetId",td.queryTargetsIndexName="queryTargetsIndex",td.queryTargetsKeyPath=["canonicalId","targetId"];var ed=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};ed.store="targetDocuments",ed.keyPath=["targetId","path"],ed.documentTargetsIndex="documentTargetsIndex",ed.documentTargetsKeyPath=["path","targetId"];var nd=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};nd.key="targetGlobalKey",nd.store="targetGlobal";var rd=function(t,e){this.collectionId=t,this.parent=e};rd.store="collectionParents",rd.keyPath=["collectionId","parent"];var id=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};id.store="clientMetadata",id.keyPath="clientId";var od=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};od.store="bundles",od.keyPath="bundleId";var sd=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};sd.store="namedQueries",sd.keyPath="name";var ud=Object(ka.g)(Object(ka.g)(Object(ka.g)(Object(ka.g)([$f.store,Wf.store,Jf.store,Qf.store,td.store,Gf.store,nd.store,ed.store],[id.store]),[Xf.store]),[rd.store]),[od.store,sd.store]),ad=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(ka.c)(e,t),e}(Ff);function cd(t,e){var n=Fa(t);return Af.Hn(n.bs,e)}var ld=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=th(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=eh(s,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=eh(s,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},kh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Ba(this.mutations,t.mutations,function(t,e){return rh(t,e)})&&Ba(this.baseMutations,t.baseMutations,function(t,e){return rh(t,e)})},t}(),hd=function(){function t(t,e,n,r){this.batch=t,this.Fs=e,this.Cs=n,this.Os=r}return t.from=function(e,n,r){Ua(e.mutations.length===r.length);for(var i=Ah(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),fd=function(t){this.ks=t};function dd(t,e){if(e.document)return cf(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=gc.Tt(e.noDocument.path),r=md(e.noDocument.readTime);return new Wc(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=gc.Tt(e.unknownDocument.path);return r=md(e.unknownDocument.version),new Jc(i,r)}return Ma()}function pd(t,e,n){var r=gd(n),i=e.key.path.Z().rt();if(e instanceof $c){var o=function(t,e){return{name:ef(t,e.key),fields:e.vt().mapValue.fields,updateTime:Jh(t,e.version.G())}}(t.ks,e),s=e.hasCommittedMutations;return new Qf(null,null,o,s,r,i)}if(e instanceof Wc){var u=e.key.path.rt(),a=yd(e.version);return s=e.hasCommittedMutations,new Qf(null,new Yf(u,a),null,s,r,i)}if(e instanceof Jc){var c=e.key.path.rt(),l=yd(e.version);return new Qf(new Zf(c,l),null,null,!0,r,i)}return Ma()}function gd(t){var e=t.G();return[e.seconds,e.nanoseconds]}function vd(t){var e=new cc(t[0],t[1]);return lc.W(e)}function yd(t){var e=t.G();return new Kf(e.seconds,e.nanoseconds)}function md(t){var e=new cc(t.seconds,t.nanoseconds);return lc.W(e)}function bd(t,e){for(var n=(e.baseMutations||[]).map(function(e){return hf(t.ks,e)}),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map(function(e){return hf(t.ks,e)}),s=cc.fromMillis(e.localWriteTimeMs);return new ld(e.batchId,s,n,o)}function wd(t){var e,n,r=md(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?md(t.lastLimboFreeSnapshotVersion):lc.min();return void 0!==t.query.documents?(Ua(1===(n=t.query).documents.length),e=Cl(ml(of(n.documents[0])))):e=function(t){return Cl(pf(t))}(t.query),new Pl(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ga.fromBase64String(t.resumeToken))}function _d(t,e){var n,r=yd(e.Mt),i=yd(e.lastLimboFreeSnapshotVersion);n=tl(e.target)?ff(t.ks,e.target):df(t.ks,e.target);var o=e.resumeToken.toBase64();return new td(e.targetId,Qc(e.target),r,o,e.sequenceNumber,i,n)}function Od(t){var e=pf({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Sl(e,e.limit,"L"):e}var Ed=function(){function t(){}return t.prototype.Ms=function(t,e){return Id(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:md(e.createTime),version:e.version};var e})},t.prototype.Ls=function(t,e){return Id(t).put({bundleId:(n=e).id,createTime:yd(Qh(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return Cd(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Od(e.bundledQuery),readTime:md(e.readTime)};var e})},t.prototype.Bs=function(t,e){return Cd(t).put(function(t){return{name:t.name,readTime:yd(Qh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Id(t){return cd(t,od.store)}function Cd(t){return cd(t,sd.store)}var Sd=function(){function t(){this.qs=new Td}return t.prototype.Us=function(t,e){return this.qs.add(e),Tf.resolve()},t.prototype.Qs=function(t,e){return Tf.resolve(this.qs.getEntries(e))},t}(),Td=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new _h(fc.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new _h(fc.J)).rt()},t}(),xd=function(){function t(){this.Ks=new Td}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs(function(){n.Ks.add(e)});var o={collectionId:r,parent:qf(i)};return Ad(t).put(o)}return Tf.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ka(e),""],!1,!0);return Ad(t).os(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Bf(o.parent))}return n})},t}();function Ad(t){return cd(t,rd.store)}var jd={Ws:!1,js:0,Gs:0,zs:0},kd=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function Nd(t){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(e){if(t.code!==$a.FAILED_PRECONDITION||t.message!==Uf)throw t;return Da("LocalStore","Unexpectedly lost primary lease"),[2]})})}kd.Zs=10,kd.ti=1e3,kd.ei=new kd(41943040,kd.Zs,kd.ti),kd.ni=new kd(-1,0,0);var Pd=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ii(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){yc(this.ri,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.nt=function(){return mc(this.ri)},t}(),Dd=function(){function t(){this.oi=new Pd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:lc.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?Tf.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function Rd(t,e,n){var r=t.store(Wf.store),i=t.store(Jf.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.ls({range:s},function(t,e,n){return u++,n.delete()});o.push(a.next(function(){Ua(1===u)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Jf.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return Tf.$n(o).next(function(){return c})}function Ld(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ma();e=t.noDocument}return JSON.stringify(e).length}var Vd=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return Ua(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ud(t).ls({index:Wf.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Pi=function(t,e,n,r){var i=this,o=Fd(t),s=Ud(t);return s.add({}).next(function(u){Ua("number"==typeof u);for(var a=new ld(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return lf(t.ks,e)}),i=n.mutations.map(function(e){return lf(t.ks,e)});return new Wf(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,a),l=[],h=new _h(function(t,e){return za(t.ot(),e.ot())}),f=0,d=r;f<d.length;f++){var p=d[f],g=Jf.key(i.userId,p.key.path,u);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(g,Jf.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ti.Us(t,e))}),t.Vs(function(){i.mi[u]=a.keys()}),Tf.$n(l).next(function(){return a})})},t.prototype.yi=function(t,e){var n=this;return Ud(t).get(e).next(function(t){return t?(Ua(t.userId===n.userId),bd(n.Kt,t)):null})},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?Tf.resolve(this.mi[e]):this.yi(t,e).next(function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null})},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ud(t).ls({index:Wf.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(Ua(e.batchId>=r),o=bd(n.Kt,e)),i.done()}).next(function(){return o})},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ud(t).ls({index:Wf.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ud(t).os(Wf.userMutationsIndex,n).next(function(t){return t.map(function(t){return bd(e.Kt,t)})})},t.prototype.vi=function(t,e){var n=this,r=Jf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Fd(t).ls({range:i},function(r,i,s){var u=r[0],a=r[2],c=Bf(r[1]);if(u===n.userId&&e.path.isEqual(c))return Ud(t).get(a).next(function(t){if(!t)throw Ma();Ua(t.userId===n.userId),o.push(bd(n.Kt,t))});s.done()}).next(function(){return o})},t.prototype.Si=function(t,e){var n=this,r=new _h(za),i=[];return e.forEach(function(e){var o=Jf.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=Fd(t).ls({range:s},function(t,i,o){var s=t[0],u=t[2],a=Bf(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()});i.push(u)}),Tf.$n(i).next(function(){return n.Di(t,r)})},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=Jf.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new _h(za);return Fd(t).ls({range:s},function(t,e,o){var s=t[0],a=t[2],c=Bf(t[1]);s===n.userId&&r.st(c)?c.length===i&&(u=u.add(a)):o.done()}).next(function(){return n.Di(t,u)})},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Ud(t).get(e).next(function(t){if(null===t)throw Ma();Ua(t.userId===n.userId),r.push(bd(n.Kt,t))}))}),Tf.$n(i).next(function(){return r})},t.prototype.xi=function(t,e){var n=this;return Rd(t.bs,this.userId,e).next(function(r){return t.Vs(function(){n.Ni(e.batchId)}),Tf.forEach(r,function(e){return n.Ii.Fi(t,e)})})},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Oi=function(t){var e=this;return this.Ri(t).next(function(n){if(!n)return Tf.resolve();var r=IDBKeyRange.lowerBound(Jf.prefixForUser(e.userId)),i=[];return Fd(t).ls({range:r},function(t,n,r){if(t[0]===e.userId){var o=Bf(t[1]);i.push(o)}else r.done()}).next(function(){Ua(0===i.length)})})},t.prototype.ki=function(t,e){return Md(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return qd(t).get(this.userId).next(function(t){return t||new $f(e.userId,-1,"")})},t}();function Md(t,e,n){var r=Jf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Fd(t).ls({range:o,hs:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Ud(t){return cd(t,Wf.store)}function Fd(t){return cd(t,Jf.store)}function qd(t){return cd(t,$f.store)}var Hd=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),zd=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next(function(n){var r=new Hd(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next(function(){return n.highestTargetId})})},t.prototype.Ki=function(t){return this.Ui(t).next(function(t){return lc.W(new cc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Wi=function(t){return this.Ui(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.ji=function(t,e,n){var r=this;return this.Ui(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)})},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next(function(){return n.Ui(t).next(function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)})})},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next(function(){return Bd(t).delete(e.targetId)}).next(function(){return n.Ui(t)}).next(function(e){return Ua(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)})},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return Bd(t).ls(function(s,u){var a=wd(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Yi(t,a)))}).next(function(){return Tf.$n(o)}).next(function(){return i})},t.prototype.mn=function(t,e){return Bd(t).ls(function(t,n){var r=wd(n);e(r)})},t.prototype.Ui=function(t){return Kd(t).get(nd.key).next(function(t){return Ua(null!==t),t})},t.prototype.Qi=function(t,e){return Kd(t).put(nd.key,e)},t.prototype.zi=function(t,e){return Bd(t).put(_d(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next(function(t){return t.targetCount})},t.prototype.er=function(t,e){var n=Qc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Bd(t).ls({range:r,index:td.queryTargetsIndexName},function(t,n,r){var o=wd(n);Xc(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.nr=function(t,e,n){var r=this,i=[],o=Gd(t);return e.forEach(function(e){var s=qf(e.path);i.push(o.put(new ed(n,s))),i.push(r.Ii.sr(t,n,e))}),Tf.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=Gd(t);return Tf.forEach(e,function(e){var o=qf(e.path);return Tf.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])})},t.prototype.Xi=function(t,e){var n=Gd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Gd(t),i=kh();return r.ls({range:n,hs:!0},function(t,e,n){var r=Bf(t[1]),o=new gc(r);i=i.add(o)}).next(function(){return i})},t.prototype.ki=function(t,e){var n=qf(e.path),r=IDBKeyRange.bound([n],[Ka(n)],!1,!0),i=0;return Gd(t).ls({index:ed.documentTargetsIndex,hs:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Dn=function(t,e){return Bd(t).get(e).next(function(t){return t?wd(t):null})},t}();function Bd(t){return cd(t,td.store)}function Kd(t){return cd(t,nd.store)}function Gd(t){return cd(t,ed.store)}function $d(t,e){var n=t[1],r=e[1],i=za(t[0],e[0]);return 0===i?za(n,r):i}var Wd=function(){function t(t){this.ar=t,this.buffer=new _h($d),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();$d(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Jd=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;Da("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,function(){return Object(ka.b)(e,void 0,void 0,function(){var e;return Object(ka.d)(this,function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return Nf(e=n.sent())?(Da("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Nd(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}})})})},t}(),Yd=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.yr=function(t,e){var n=this;if(0===e)return Tf.resolve(ac.U);var r=new Wd(e);return this.Ar.mn(t,function(t){return r.lr(t.sequenceNumber)}).next(function(){return n.Ar.gr(t,function(t){return r.lr(t)})}).next(function(){return r.maxValue})},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(Da("LruGarbageCollector","Garbage collection skipped; disabled"),Tf.resolve(jd)):this.br(t).next(function(r){return r<n.params.Hs?(Da("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),jd):n.vr(t,e)})},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,s,u,a,c=this,l=Date.now();return this.Rr(t,this.params.Js).next(function(e){return e>c.params.Ys?(Da("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,o=Date.now(),c.yr(t,r)}).next(function(r){return n=r,s=Date.now(),c.Zi(t,n,e)}).next(function(e){return i=e,u=Date.now(),c.Vr(t,n)}).next(function(t){return a=Date.now(),Pa()<=Ti.a.DEBUG&&Da("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-l)+"ms"),Tf.resolve({Ws:!0,js:r,Gs:i,zs:t})})},t}(),Zd=function(){function t(t,e){this.db=t,this._r=function(t,e){return new Yd(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.Sr=function(t){var e=0;return this.gr(t,function(t){e++}).next(function(){return e})},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,function(t,n){return e(n)})},t.prototype.sr=function(t,e,n){return Qd(t,n)},t.prototype.rr=function(t,e,n){return Qd(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Fi=function(t,e){return Qd(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return qd(t)._s(function(r){return Md(t,r,e).next(function(t){return t&&(n=!0),Tf.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Or().Fr(),i=[],o=0;return this.Cr(t,function(s,u){if(u<=e){var a=n.Nr(t,s).next(function(e){if(!e)return o++,r.fi(t,s).next(function(){return r._i(s),Gd(t).delete([0,qf(s.path)])})});i.push(a)}}).next(function(){return Tf.$n(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return Qd(t,e)},t.prototype.Cr=function(t,e){var n,r=Gd(t),i=ac.U;return r.ls({index:ed.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==ac.U&&e(new gc(Bf(n)),i),i=s,n=o):i=ac.U}).next(function(){i!==ac.U&&e(new gc(Bf(n)),i)})},t.prototype.br=function(t){return this.db.Or().Mr(t)},t}();function Qd(t,e){return Gd(t).put(function(t,e){return new ed(0,qf(t.path),e)}(e,t.vs))}var Xd=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return np(t).put(rp(e),n)},t.prototype._i=function(t,e){var n=np(t),r=rp(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Lr(t,r)})},t.prototype.fi=function(t,e){var n=this;return np(t).get(rp(e)).next(function(t){return n.$r(t)})},t.prototype.Br=function(t,e){var n=this;return np(t).get(rp(e)).next(function(t){var e=n.$r(t);return e?{li:e,size:Ld(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Ch();return this.qr(t,e,function(t,e){var i=n.$r(e);r=r.Ht(t,i)}).next(function(){return r})},t.prototype.Ur=function(t,e){var n=this,r=Ch(),i=new mh(gc.J);return this.qr(t,e,function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,Ld(e))):(r=r.Ht(t,null),i=i.Ht(t,0))}).next(function(){return{Qr:r,Kr:i}})},t.prototype.qr=function(t,e,n){if(e.nt())return Tf.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return np(t).ls({range:r},function(t,e,r){for(var s=gc.Tt(t);o&&gc.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()}).next(function(){for(;o;)n(o,null),o=i.ae()?i.ce():null})},t.prototype.Wr=function(t,e,n){var r=this,i=Th(),o=e.path.length+1,s={};if(n.isEqual(lc.min())){var u=e.path.rt();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.rt(),c=gd(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=Qf.collectionReadTimeIndex}return np(t).ls(s,function(t,n,s){if(t.length===o){var u=dd(r.Kt,n);e.path.st(u.key.path)?u instanceof $c&&jl(e,u)&&(i=i.Ht(u.key,u)):s.done()}}).next(function(){return i})},t.prototype.Fr=function(t){return new tp(this,!!t&&t.jr)},t.prototype.Mr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return ep(t).get(Xf.key).next(function(t){return Ua(!!t),t})},t.prototype.Lr=function(t,e){return ep(t).put(Xf.key,e)},t.prototype.$r=function(t){if(t){var e=dd(this.Kt,t);return e instanceof Wc&&e.version.isEqual(lc.min())?null:e}return null},t}(),tp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.jr=n,r.zr=new Pd(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(ka.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new _h(function(t,e){return za(t.ot(),e.ot())});return this.oi.forEach(function(o,s){var u=e.zr.get(o);if(s.li){var a=pd(e.Gr.Kt,s.li,e.ai(o));i=i.add(o.path.Z());var c=Ld(a);r+=c-u,n.push(e.Gr.ui(t,o,a))}else if(r-=u,e.jr){var l=pd(e.Gr.Kt,new Wc(o,lc.min()),e.ai(o));n.push(e.Gr.ui(t,o,l))}else n.push(e.Gr._i(t,o))}),i.forEach(function(r){n.push(e.Gr.Ti.Us(t,r))}),n.push(this.Gr.updateMetadata(t,r)),Tf.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next(function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)})},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next(function(t){var e=t.Qr;return t.Kr.forEach(function(t,e){n.zr.set(t,e)}),e})},e}(Dd);function ep(t){return cd(t,Xf.store)}function np(t){return cd(t,Qf.store)}function rp(t){return t.path.rt()}var ip=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;Ua(n<r&&n>=0&&r<=11);var o=new xf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Gf.store)}(t),function(t){t.createObjectStore($f.store,{keyPath:$f.keyPath}),t.createObjectStore(Wf.store,{keyPath:Wf.keyPath,autoIncrement:!0}).createIndex(Wf.userMutationsIndex,Wf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Jf.store)}(t),op(t),function(t){t.createObjectStore(Qf.store)}(t));var s=Tf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(ed.store),t.deleteObjectStore(td.store),t.deleteObjectStore(nd.store)}(t),op(t)),s=s.next(function(){return function(t){var e=t.store(nd.store),n=new nd(0,0,lc.min().G(),0);return e.put(nd.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(Wf.store).os().next(function(n){t.deleteObjectStore(Wf.store),t.createObjectStore(Wf.store,{keyPath:Wf.keyPath,autoIncrement:!0}).createIndex(Wf.userMutationsIndex,Wf.userMutationsKeyPath,{unique:!0});var r=e.store(Wf.store),i=n.map(function(t){return r.put(t)});return Tf.$n(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(id.store,{keyPath:id.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Hr(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(Xf.store)}(t),i.Jr(o)})),n<7&&r>=7&&(s=s.next(function(){return i.Yr(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Xr(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Qf.store);e.createIndex(Qf.readTimeIndex,Qf.readTimeIndexPath,{unique:!1}),e.createIndex(Qf.collectionReadTimeIndex,Qf.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Zr(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(od.store,{keyPath:od.keyPath})}(t),function(t){t.createObjectStore(sd.store,{keyPath:sd.keyPath})}(t)})),s},t.prototype.Jr=function(t){var e=0;return t.store(Qf.store).ls(function(t,n){e+=Ld(n)}).next(function(){var n=new Xf(e);return t.store(Xf.store).put(Xf.key,n)})},t.prototype.Hr=function(t){var e=this,n=t.store($f.store),r=t.store(Wf.store);return n.os().next(function(n){return Tf.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Wf.userMutationsIndex,i).next(function(r){return Tf.forEach(r,function(r){Ua(r.userId===n.userId);var i=bd(e.Kt,r);return Rd(t,n.userId,i).next(function(){})})})})})},t.prototype.Yr=function(t){var e=t.store(ed.store),n=t.store(Qf.store);return t.store(nd.store).get(nd.key).next(function(t){var r=[];return n.ls(function(n,i){var o=new fc(n),s=function(t){return[0,qf(t)]}(o);r.push(e.get(s).next(function(n){return n?Tf.resolve():function(n){return e.put(new ed(0,qf(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Tf.$n(r)})})},t.prototype.Xr=function(t,e){t.createObjectStore(rd.store,{keyPath:rd.keyPath});var n=e.store(rd.store),r=new Td,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:qf(i)})}};return e.store(Qf.store).ls({hs:!0},function(t,e){var n=new fc(t);return i(n.Z())}).next(function(){return e.store(Jf.store).ls({hs:!0},function(t,e){var n=Bf(t[1]);return i(n.Z())})})},t.prototype.Zr=function(t){var e=this,n=t.store(td.store);return n.ls(function(t,r){var i=wd(r),o=_d(e.Kt,i);return n.put(o)})},t}();function op(t){t.createObjectStore(ed.store,{keyPath:ed.keyPath}).createIndex(ed.documentTargetsIndex,ed.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(td.store,{keyPath:td.keyPath}).createIndex(td.queryTargetsIndexName,td.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(nd.store)}var sp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",up=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=s,this.document=u,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.Wn())throw new Wa($a.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new Zd(this,i),this.lo=n+"main",this.Kt=new fd(a),this._o=new Af(this.lo,11,new ip(this.Kt)),this.fo=new zd(this.Ii,this.Kt),this.Ti=new xd,this.wo=function(t,e){return new Xd(t,e)}(this.Kt,this.Ti),this.Eo=new Ed,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&Ra("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Wa($a.FAILED_PRECONDITION,sp);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.fo.Wi(e)})}).then(function(e){t.io=new ac(e,t.no)}).then(function(){t.ro=!0}).catch(function(e){return t._o&&t._o.close(),Promise.reject(e)})},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(ka.b)(e,void 0,void 0,function(){return Object(ka.d)(this,function(e){return this.Tr?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn(function(n){return Object(ka.b)(e,void 0,void 0,function(){return Object(ka.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys(function(){return Object(ka.b)(e,void 0,void 0,function(){return Object(ka.d)(this,function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return cp(e).put(new id(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.po(e).next(function(e){e||(t.isPrimary=!1,t.eo.bo(function(){return t.ho(!1)}))})}).next(function(){return t.vo(e)}).next(function(n){return t.isPrimary&&!n?t.So(e).next(function(){return!1}):!!n&&t.Do(e).next(function(){return!0})})}).catch(function(e){if(Nf(e))return Da("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Da("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.eo.bo(function(){return t.ho(e)}),t.isPrimary=e})},t.prototype.po=function(t){var e=this;return ap(t).get(Gf.key).next(function(t){return Tf.resolve(e.Co(t))})},t.prototype.xo=function(t){return cp(t).delete(this.clientId)},t.prototype.No=function(){return Object(ka.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(ka.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.Fo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=cd(t,id.store);return e.os().next(function(t){var n=r.Oo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Tf.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,function(){return t.Io().then(function(){return t.No()}).then(function(){return t.Ro()})})},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?Tf.resolve(!0):ap(t).get(Gf.key).next(function(n){if(null!==n&&e.Fo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new Wa($a.FAILED_PRECONDITION,sp);return!1}}return!(!e.networkEnabled||!e.inForeground)||cp(t).os().next(function(t){return void 0===e.Oo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Da("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Lo=function(){return Object(ka.b)(this,void 0,void 0,function(){var t=this;return Object(ka.d)(this,function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[Gf.store,id.store],function(e){var n=new ad(e,ac.U);return t.So(n).next(function(){return t.xo(n)})})];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}})})},t.prototype.Oo=function(t,e){var n=this;return t.filter(function(t){return n.Fo(t.updateTimeMs,e)&&!n.Mo(t.clientId)})},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return cp(e).os().next(function(e){return t.Oo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return Vd.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.Wo=function(){return this.Ti},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Da("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",ud,function(o){return r=new ad(o,i.io?i.io.next():ac.U),"readwrite-primary"===e?i.po(r).next(function(t){return!!t||i.vo(r)}).next(function(e){if(!e)throw Ra("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo(function(){return i.ho(!1)}),new Wa($a.FAILED_PRECONDITION,Uf);return n(r)}).next(function(t){return i.Do(r).next(function(){return t})}):i.Go(r).next(function(){return n(r)})}).then(function(t){return r.ps(),t})},t.prototype.Go=function(t){var e=this;return ap(t).get(Gf.key).next(function(t){if(null!==t&&e.Fo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Wa($a.FAILED_PRECONDITION,sp)})},t.prototype.Do=function(t){var e=new Gf(this.clientId,this.allowTabSynchronization,Date.now());return ap(t).put(Gf.key,e)},t.Wn=function(){return Af.Wn()},t.prototype.So=function(t){var e=this,n=ap(t);return n.get(Gf.key).next(function(t){return e.Co(t)?(Da("IndexedDbPersistence","Releasing primary lease."),n.delete(Gf.key)):Tf.resolve()})},t.prototype.Fo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ra("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys(function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()})},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys(function(){return e.Lo()})},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return Da("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Ra("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){Ra("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function ap(t){return cd(t,Gf.store)}function cp(t){return cd(t,id.store)}function lp(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var hp=function(t,e){this.progress=t,this.zo=e},fp=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next(function(r){return n.Yo(t,e,r)})},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t})},t.prototype.Xo=function(t,e,n){var r=Ch();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)}),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next(function(e){return n.tc(t,e)})},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next(function(r){var i=n.Xo(t,e,r),o=Ih();return i.forEach(function(t,e){e||(e=new Wc(t,lc.min())),o=o.Ht(t,e)}),o})},t.prototype.Wr=function(t,e,n){return function(t){return gc.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):El(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new gc(e)).next(function(t){var e=Th();return t instanceof $c&&(e=e.Ht(t.key,t)),e})},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=Th();return this.Ti.Qs(t,i).next(function(s){return Tf.forEach(s,function(s){var u=function(t,e){return new vl(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,u,n).next(function(t){t.forEach(function(t,e){o=o.Ht(t,e)})})}).next(function(){return o})})},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.Wr(t,e,n).next(function(n){return r=n,o.Ho.Ci(t,e)}).next(function(e){return o.ic(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=eh(a,r.get(c),0,o.Ss);r=l instanceof $c?r.Ht(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){jl(e,n)||(r=r.remove(t))}),r})},t.prototype.ic=function(t,e,n){for(var r=kh(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof sh&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.wo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof $c&&(c=c.Ht(t,e))}),c})},t}(),dp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=kh(),i=kh(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),pp=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.Wr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(lc.min())?this.hc(t,e):this.uc.Zo(t,r).next(function(o){var s=i.lc(e,o);return(bl(e)||wl(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(Pa()<=Ti.a.DEBUG&&Da("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Al(e)),i.uc.Wr(t,e,n).next(function(t){return s.forEach(function(e){t=t.Ht(e.key,e)}),t}))})},t.prototype.lc=function(t,e){var n=new _h(kl(t));return e.forEach(function(e,r){r instanceof $c&&jl(t,r)&&(n=n.add(r))}),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Pa()<=Ti.a.DEBUG&&Da("QueryEngine","Using full collection scan to execute query:",Al(e)),this.uc.Wr(t,e,lc.min())},t}(),gp=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new mh(za),this.wc=new Pd(function(t){return Qc(t)},Xc),this.Ec=lc.min(),this.Ho=t.Ko(n),this.Tc=t.Or(),this.fo=t.Dr(),this.Ic=new fp(this.Tc,this.Ho,this.persistence.Wo()),this.Eo=t.jo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.pr(n,e.dc)})},t}();function vp(t,e,n,r){return new gp(t,e,n,r)}function yp(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(ka.d)(this,function(s){switch(s.label){case 0:return n=Fa(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n.Ho.bi(t).next(function(s){return o=s,r=n.persistence.Ko(e),i=new fp(n.Tc,r,n.persistence.Wo()),r.bi(t)}).next(function(e){for(var n=[],r=[],s=kh(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,v=p.mutations;g<v.length;g++)s=s.add(v[g].key)}return i.Zo(t,s).next(function(t){return{mc:t,Ac:n,Rc:r}})})})];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}})})}function mp(t,e){var n=Fa(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Tc.Fr({jr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Tf.resolve();return o.forEach(function(t){s=s.next(function(){return r.fi(e,t)}).next(function(e){var o=e,s=n.Os.get(t);Ua(null!==s),(!o||o.version.u(s)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Fs)})}),s.next(function(){return t.Ho.xi(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.Ho.Oi(t)}).next(function(){return n.Ic.Zo(t,r)})})}function bp(t){var e=Fa(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.fo.Ki(t)})}function wp(t,e){var n=Fa(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.Tc.Fr({jr:!0});i=n.dc;var s=[];e.Oe.forEach(function(e,o){var u=i.get(o);if(u){s.push(n.fo.ir(t,e.Ke,o).next(function(){return n.fo.nr(t,e.Ue,o)}));var a=e.resumeToken;if(a.o()>0){var c=u.$t(a,r).Lt(t.vs);i=i.Ht(o,c),function(t,e,n){return Ua(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.j()-t.Mt.j()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(u,c,e)&&s.push(n.fo.Ji(t,c))}}});var u=Ih();if(e.Me.forEach(function(r,i){e.Le.has(r)&&s.push(n.persistence.Ii.kr(t,r))}),s.push(_p(t,o,e.Me,r,void 0).next(function(t){u=t})),!r.isEqual(lc.min())){var a=n.fo.Ki(t).next(function(e){return n.fo.ji(t,t.vs,r)});s.push(a)}return Tf.$n(s).next(function(){return o.apply(t)}).next(function(){return n.Ic.tc(t,u)})}).then(function(t){return n.dc=i,t})}function _p(t,e,n,r,i){var o=kh();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=Ih();return n.forEach(function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof Wc&&s.version.isEqual(lc.min())?(e._i(n,a),o=o.Ht(n,s)):null==u||s.version.u(u.version)>0||0===s.version.u(u.version)&&u.hasPendingWrites?(e.ui(s,a),o=o.Ht(n,s)):Da("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)}),o})}function Op(t,e){var n=Fa(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)})}function Ep(t,e){var n=Fa(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.fo.er(t,e).next(function(i){return i?Tf.resolve(r=i):n.fo.qi(t).next(function(i){return r=new Pl(e,i,0,t.vs),n.fo.Gi(t,r).next(function(){return r})})})}).then(function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t})}function Ip(t,e,n){return Object(ka.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(ka.d)(this,function(u){switch(u.label){case 0:r=Fa(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.Ii.removeTarget(t,i)})];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Nf(s=u.sent()))throw s;return Da("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}})})}function Cp(t,e,n){var r=Fa(t),i=lc.min(),o=kh();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Fa(t),i=r.wc.get(n);return void 0!==i?Tf.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,Cl(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next(function(t){o=t})}).next(function(){return r.fc.Wr(t,e,n?i:lc.min(),n?o:kh())}).next(function(t){return{documents:t,Pc:o}})})}function Sp(t,e){var n=Fa(t),r=Fa(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Dn(t,e).next(function(t){return t?t.target:null})})}function Tp(t){var e=Fa(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Fa(t),i=Ih(),o=gd(n),s=np(e),u=IDBKeyRange.lowerBound(o,!0);return s.ls({index:Qf.readTimeIndex,range:u},function(t,e){var n=dd(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime}).next(function(){return{zo:i,readTime:vd(o)}})}(e.Tc,t,e.Ec)}).then(function(t){var n=t.zo;return e.Ec=t.readTime,n})}function xp(t){return Object(ka.b)(this,void 0,void 0,function(){var e;return Object(ka.d)(this,function(n){return[2,(e=Fa(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=np(t),n=lc.min();return e.ls({index:Qf.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=vd(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.Ec=t})]})})}function Ap(t,e,n,r){return Object(ka.b)(this,void 0,void 0,function(){var i,o,s,u,a,c,l,h,f,d;return Object(ka.d)(this,function(p){switch(p.label){case 0:for(i=Fa(t),o=kh(),s=Ih(),u=Ah(),a=0,c=n;a<c.length;a++)h=e.yc((l=c[a]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),u=u.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Fr({jr:!0}),[4,Ep(i,function(t){return Cl(ml(fc.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return _p(t,f,s,lc.min(),u).next(function(e){return f.apply(t),e}).next(function(e){return i.fo.Xi(t,d.targetId).next(function(){return i.fo.nr(t,o,d.targetId)}).next(function(){return i.Ic.tc(t,e)})})})]}})})}function jp(t,e,n){return void 0===n&&(n=kh()),Object(ka.b)(this,void 0,void 0,function(){var r,i;return Object(ka.d)(this,function(o){switch(o.label){case 0:return[4,Ep(t,Cl(Od(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Fa(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=Qh(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var s=r.$t(Ga.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.fo.Ji(t,s).next(function(){return i.fo.Xi(t,r.targetId)}).next(function(){return i.fo.nr(t,n,r.targetId)}).next(function(){return i.Eo.Bs(t,e)})})]}})})}var kp=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return Tf.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:Qh(n.createTime)}),Tf.resolve()},t.prototype.$s=function(t,e){return Tf.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:Od(t.bundledQuery),readTime:Qh(t.readTime)}}(e)),Tf.resolve()},t}(),Np=function(){function t(){this.Sc=new _h(Pp.Dc),this.Cc=new _h(Pp.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new Pp(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach(function(t){return n.sr(t,e)})},t.prototype.rr=function(t,e){this.Fc(new Pp(t,e))},t.prototype.Oc=function(t,e){var n=this;t.forEach(function(t){return n.rr(t,e)})},t.prototype.kc=function(t){var e=this,n=new gc(new fc([])),r=new Pp(n,t),i=new Pp(n,t+1),o=[];return this.Cc.Ae([r,i],function(t){e.Fc(t),o.push(t.key)}),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach(function(e){return t.Fc(e)})},t.prototype.Fc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new gc(new fc([])),n=new Pp(e,t),r=new Pp(e,t+1),i=kh();return this.Cc.Ae([n,r],function(t){i=i.add(t.key)}),i},t.prototype.ki=function(t){var e=new Pp(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Pp=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return gc.J(t.key,e.key)||za(t.$c,e.$c)},t.xc=function(t,e){return za(t.$c,e.$c)||gc.J(t.key,e.key)},t}(),Dp=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new _h(Pp.Dc)}return t.prototype.Ri=function(t){return Tf.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new ld(i,e,n,r);this.Ho.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.qc=this.qc.add(new Pp(a.key,i)),this.Ti.Us(t,a.key.path.Z())}return Tf.resolve(o)},t.prototype.yi=function(t,e){return Tf.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return Tf.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return Tf.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return Tf.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new Pp(e,0),i=new Pp(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],function(t){var e=n.Uc(t.$c);o.push(e)}),Tf.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new _h(za);return e.forEach(function(t){var e=new Pp(t,0),i=new Pp(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],function(t){r=r.add(t.$c)})}),Tf.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;gc.Et(i)||(i=i.child(""));var o=new Pp(new gc(i),0),s=new _h(za);return this.qc.Re(function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)},o),Tf.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.Uc(t);null!==r&&n.push(r)}),n},t.prototype.xi=function(t,e){var n=this;Ua(0===this.Wc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return Tf.forEach(e.mutations,function(i){var o=new Pp(i.key,e.batchId);return r=r.delete(o),n.Ii.Fi(t,i.key)}).next(function(){n.qc=r})},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new Pp(e,0),r=this.qc.Pe(n);return Tf.resolve(e.isEqual(r&&r.key))},t.prototype.Oi=function(t){return Tf.resolve()},t.prototype.Wc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Rp=function(){function t(t,e){this.Ti=t,this.jc=e,this.docs=new mh(gc.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.jc(e);return this.docs=this.docs.Ht(r,{li:e,size:s,readTime:n}),this.size+=s-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return Tf.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=Ch();return e.forEach(function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)}),Tf.resolve(r)},t.prototype.Wr=function(t,e,n){for(var r=Th(),i=new gc(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),u=s.value,a=u.li,c=u.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||a instanceof $c&&jl(e,a)&&(r=r.Ht(a.key,a))}return Tf.resolve(r)},t.prototype.Gc=function(t,e){return Tf.forEach(this.docs,function(t){return e(t)})},t.prototype.Fr=function(t){return new Lp(this)},t.prototype.Mr=function(t){return Tf.resolve(this.size)},t}(),Lp=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(ka.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach(function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)}),Tf.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(Dd),Vp=function(){function t(t){this.persistence=t,this.zc=new Pd(function(t){return Qc(t)},Xc),this.lastRemoteSnapshotVersion=lc.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new Np,this.targetCount=0,this.Yc=Hd.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach(function(t,n){return e(n)}),Tf.resolve()},t.prototype.Ki=function(t){return Tf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Wi=function(t){return Tf.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),Tf.resolve(this.highestTargetId)},t.prototype.ji=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),Tf.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Hd(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,Tf.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),Tf.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,Tf.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach(function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.zc.delete(s),o.push(r.Xi(t,u.targetId)),i++)}),Tf.$n(o).next(function(){return i})},t.prototype.tr=function(t){return Tf.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return Tf.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),Tf.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Oc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach(function(e){i.push(r.Fi(t,e))}),Tf.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),Tf.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return Tf.resolve(n)},t.prototype.ki=function(t,e){return Tf.resolve(this.Jc.ki(e))},t}(),Mp=function(){function t(t,e){var n=this;this.Xc={},this.io=new ac(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new Vp(this),this.Ti=new Sd,this.wo=function(t,e){return new Rp(t,function(t){return n.Ii.Zc(t)})}(this.Ti),this.Kt=new fd(e),this.Eo=new kp(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.Wo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new Dp(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Or=function(){return this.wo},t.prototype.jo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;Da("MemoryPersistence","Starting transaction:",t);var i=new Up(this.io.next());return this.Ii.ta(),n(i).next(function(t){return r.Ii.ea(i).next(function(){return t})}).Mn().then(function(t){return i.ps(),t})},t.prototype.na=function(t,e){return Tf.Bn(Object.values(this.Xc).map(function(n){return function(){return n.ki(t,e)}}))},t}(),Up=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(ka.c)(e,t),e}(Ff),Fp=function(){function t(t){this.persistence=t,this.sa=new Np,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw Ma()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),Tf.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),Tf.resolve()},t.prototype.Fi=function(t,e){return this.oa.add(e.toString()),Tf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach(function(t){return n.oa.add(t.toString())});var r=this.persistence.Dr();return r.cr(t,e.targetId).next(function(t){t.forEach(function(t){return n.oa.add(t.toString())})}).next(function(){return r.Yi(t,e)})},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Or().Fr();return Tf.forEach(this.oa,function(r){var i=gc.ft(r);return e.ca(t,i).next(function(t){t||n._i(i)})}).next(function(){return e.ia=null,n.apply(t)})},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next(function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())})},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return Tf.Bn([function(){return Tf.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function qp(t,e){return"firestore_clients_"+t+"_"+e}function Hp(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function zp(t,e){return"firestore_targets_"+t+"_"+e}var Bp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Wa(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(Ra("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Kp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Wa(r.error.code,r.error.message)),i?new t(e,r.state,o):(Ra("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Gp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ph(),s=0;i&&s<r.activeTargetIds.length;++s)i=Ac(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Ra("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),$p=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ra("SharedClientState","Failed to parse online state: "+e),null)},t}(),Wp=function(){function t(){this.activeTargetIds=Ph()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Jp=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new mh(za),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=qp(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Wp),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.Wn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(ka.b)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,u,a,c,l=this;return Object(ka.d)(this,function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(qp(this.persistenceKey,r)))&&(o=Gp.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(u=this.ba(s))&&this.va(u),a=0,c=this.Ia;a<c.length;a++)this.Ea(c[a]);return this.Ia=[],this.window.addEventListener("unload",function(){return l.Lo()}),this.Tr=!0,[2]}})})},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Fa=function(t,e,n){this.Na(t,e,n),this.Oa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(zp(this.persistenceKey,t));if(n){var r=Kp.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(zp(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach(function(t){r.Oa(t)}),this.currentUser=t,n.forEach(function(t){r.xa(t)})},t.prototype.Ka=function(t){this.Wa(t)},t.prototype.ja=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Da("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Da("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Da("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Da("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void Ra("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo(function(){return Object(ka.b)(e,void 0,void 0,function(){var t,e,r,i,o,s;return Object(ka.d)(this,function(u){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=ac.U;if(null!=t)try{var n=JSON.parse(t);Ua("number"==typeof n),e=n}catch(t){Ra("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ac.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Bp(this.currentUser,t,e,n),i=Hp(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Oa=function(t){var e=Hp(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Wa=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=zp(this.persistenceKey,t),i=new Kp(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Gp.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Bp.aa(new nc(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return Kp.aa(r,e)},t.prototype.ba=function(t){return $p.aa(t)},t.prototype.Xa=function(t){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Da("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],u=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||u.push(t)}),this.fa.iu(s,u).then(function(){n.Ta=r})},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Ph();return t.forEach(function(t,n){e=e.ye(n.activeTargetIds)}),e},t}(),Yp=function(){function t(){this.ru=new Wp,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Fa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Wp,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.ja=function(){},t}(),Zp=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),Qp=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Da("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Da("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.Wn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Xp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},tg=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),eg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(ka.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise(function(i,o){var s=new ja;s.listenOnce(Ta.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Sa.NO_ERROR:var e=s.getResponseJson();Da("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Sa.TIMEOUT:Da("Connection",'RPC "'+t+'" timed out'),o(new Wa($a.DEADLINE_EXCEEDED,"Request time out"));break;case Sa.HTTP_ERROR:var n=s.getStatus();if(Da("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values($a).indexOf(e)>=0?e:$a.UNKNOWN}(r.status);o(new Wa(u,r.message))}else o(new Wa($a.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Wa($a.UNAVAILABLE,"Connection failed."));break;default:Ma()}}finally{Da("Connection",'RPC "'+t+'" completed.')}});var u=JSON.stringify(r);s.send(e,"POST",u,n,15)})},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new _a,i=Is(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(xi.l)()||Object(xi.n)()||Object(xi.j)()||Object(xi.k)()||Object(xi.o)()||Object(xi.i)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Da("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),a=!1,c=!1,l=new tg({du:function(t){c?Da("Connection","Not sending because WebChannel is closed:",t):(a||(Da("Connection","Opening WebChannel transport."),u.open(),a=!0),Da("Connection","WebChannel sending:",t),u.send(t))},wu:function(){return u.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(u,Aa.EventType.OPEN,function(){c||Da("Connection","WebChannel transport opened.")}),h(u,Aa.EventType.CLOSE,function(){c||(c=!0,Da("Connection","WebChannel transport closed"),l.Pu())}),h(u,Aa.EventType.ERROR,function(t){c||(c=!0,La("Connection","WebChannel transport errored:",t),l.Pu(new Wa($a.UNAVAILABLE,"The operation could not be completed")))}),h(u,Aa.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];Ua(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Da("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=hh[t];if(void 0!==e)return yh(e)}(i),s=r.message;void 0===o&&(o=$a.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new Wa(o,s)),u.close()}else Da("Connection","WebChannel received:",n),l.yu(n)}}),h(i,xa.STAT_EVENT,function(t){10===t.stat?Da("Connection","Detected buffering proxy"):11===t.stat&&Da("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Ru()},0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);Da("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then(function(t){return Da("RestConnection","Received: ",t),t},function(e){throw La("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.5",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+Xp[t]},t}());function ng(){return"undefined"!=typeof window?window:null}function rg(){return"undefined"!=typeof document?document:null}function ig(t){return new Wh(t,!0)}var og=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Fu=r,this.Ou=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Ou},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&Da("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,function(){return e.Lu=Date.now(),t()}),this.ku*=this.Fu,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Ou&&(this.ku=this.Ou)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),sg=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.Wu=i,this.listener=o,this.state=0,this.ju=0,this.Gu=null,this.stream=null,this.zu=new og(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,function(){return t.th()}))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(t){return this.Ju()?[2,this.close(0)]:[2]})})},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.ju++,3!==t?this.zu.reset():e&&e.code===$a.RESOURCE_EXHAUSTED?(Ra(e.toString()),Ra("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===$a.UNAUTHENTICATED&&this.Wu.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}})})},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.ju),n=this.ju;this.Wu.getToken().then(function(e){t.ju===n&&t.rh(e)},function(n){e(function(){var e=new Wa($a.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)})})},t.prototype.rh=function(t){var e=this,n=this.ih(this.ju);this.stream=this.ah(t),this.stream.Eu(function(){n(function(){return e.state=2,e.listener.Eu()})}),this.stream.Iu(function(t){n(function(){return e.oh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu(function(){return Object(ka.b)(t,void 0,void 0,function(){return Object(ka.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.oh=function(t){return Da("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys(function(){return e.ju===t?n():(Da("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),ug=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(ka.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ma()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(Ua(void 0===e||"string"==typeof e),Ga.fromBase64String(e||"")):(Ua(void 0===e||e instanceof Uint8Array),Ga.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?$a.UNKNOWN:yh(t.code);return new Wa(e,t.message||"")}(u);n=new qh(r,i,o,s||null)}else if("documentChange"in e){i=nf(t,(r=e.documentChange).document.name),o=Qh(r.document.updateTime);var u=new zc({mapValue:{fields:r.document.fields}}),a=(s=new $c(i,o,u,{}),r.targetIds||[]);n=new Uh(a,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=nf(t,(r=e.documentDelete).document),o=r.readTime?Qh(r.readTime):lc.min(),u=new Wc(i,o),n=new Uh([],s=r.removedTargetIds||[],u.key,u);else if("documentRemove"in e)i=nf(t,(r=e.documentRemove).document),n=new Uh([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return Ma();var c=e.filter;i=new gh(r=c.count||0),n=new Fh(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return lc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?lc.min():e.readTime?Qh(e.readTime):lc.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=sf(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=tl(r)?{documents:ff(t,r)}:{query:df(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=Yh(t,e.resumeToken):e.Mt.u(lc.min())>0&&(n.readTime=Jh(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ma()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=sf(this.Kt),e.removeTarget=t,this.eh(e)},e}(sg),ag=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(ka.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Ua(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Ua(void 0!==e),t.map(function(t){return function(t,e){var n=Qh(t.updateTime?t.updateTime:e);n.isEqual(lc.min())&&(n=Qh(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Yl(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Qh(t.commitTime);return this.listener.wh(n,e)}return Ua(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=sf(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return lf(e.Kt,t)})};this.eh(n)},e}(sg),cg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(ka.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new Wa($a.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.bu(t,e,n,i)}).catch(function(t){throw t.code===$a.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then(function(i){return r.Ku.Cu(t,e,n,i)}).catch(function(t){throw t.code===$a.UNAUTHENTICATED&&r.credentials.v(),t})},e.prototype.terminate=function(){this.Ih=!1},e}(function(){}),lg=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()}))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(Ra(e),this.Ph=!1):Da("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),hg=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Fh=new Set,this.Oh=[],this.kh=i,this.kh.cu(function(t){n.ys(function(){return Object(ka.b)(o,void 0,void 0,function(){return Object(ka.d)(this,function(t){switch(t.label){case 0:return wg(this)?(Da("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(ka.b)(this,void 0,void 0,function(){var e;return Object(ka.d)(this,function(n){switch(n.label){case 0:return(e=Fa(t)).Fh.add(4),[4,dg(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Fh.delete(4),[4,fg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Mh=new lg(n,r)};function fg(t){return Object(ka.b)(this,void 0,void 0,function(){var e,n;return Object(ka.d)(this,function(r){switch(r.label){case 0:if(!wg(t))return[3,4];e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function dg(t){return Object(ka.b)(this,void 0,void 0,function(){var e,n;return Object(ka.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Oh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function pg(t,e){var n=Fa(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),bg(n)?mg(n):Rg(n).Ju()&&vg(n,e))}function gg(t,e){var n=Fa(t),r=Rg(n);n.Nh.delete(e),r.Ju()&&yg(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():wg(n)&&n.Mh.set("Unknown"))}function vg(t,e){t.Lh.cn(e.targetId),Rg(t).hh(e)}function yg(t,e){t.Lh.cn(e),Rg(t).lh(e)}function mg(t){t.Lh=new zh({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Rg(t).start(),t.Mh.yh()}function bg(t){return wg(t)&&!Rg(t).Hu()&&t.Nh.size>0}function wg(t){return 0===Fa(t).Fh.size}function _g(t){t.Lh=void 0}function Og(t){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(e){return t.Nh.forEach(function(e,n){vg(t,e)}),[2]})})}function Eg(t,e){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(n){return _g(t),bg(t)?(t.Mh.ph(e),mg(t)):t.Mh.set("Unknown"),[2]})})}function Ig(t,e,n){return Object(ka.b)(this,void 0,void 0,function(){var r,i,o;return Object(ka.d)(this,function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof qh&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(ka.d)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Da("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Cg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Uh?t.Lh.wn(e):e instanceof Fh?t.Lh.yn(e):t.Lh.In(e),n.isEqual(lc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,bp(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Oe.forEach(function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}}),n.ke.forEach(function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Ga.h,n.Mt)),yg(t,e);var r=new Pl(n.target,e,1,n.sequenceNumber);vg(t,r)}}),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Da("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Cg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function Cg(t,e,n){return Object(ka.b)(this,void 0,void 0,function(){var r=this;return Object(ka.d)(this,function(i){switch(i.label){case 0:if(!Nf(e))throw e;return t.Fh.add(1),[4,dg(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return bp(t.Sh)}),t.fs.bo(function(){return Object(ka.b)(r,void 0,void 0,function(){return Object(ka.d)(this,function(e){switch(e.label){case 0:return Da("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Fh.delete(1),[4,fg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Sg(t,e){return e().catch(function(n){return Cg(t,n,e)})}function Tg(t){return Object(ka.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(ka.d)(this,function(s){switch(s.label){case 0:e=Fa(t),n=Lg(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return wg(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Op(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=Lg(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,Cg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return xg(e)&&Ag(e),[2]}})})}function xg(t){return wg(t)&&!Lg(t).Hu()&&t.xh.length>0}function Ag(t){Lg(t).start()}function jg(t){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(e){return Lg(t).Th(),[2]})})}function kg(t){return Object(ka.b)(this,void 0,void 0,function(){var e,n,r;return Object(ka.d)(this,function(i){for(e=Lg(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]})})}function Ng(t,e,n){return Object(ka.b)(this,void 0,void 0,function(){var r,i;return Object(ka.d)(this,function(o){switch(o.label){case 0:return r=t.xh.shift(),i=hd.from(r,e,n),[4,Sg(t,function(){return t.Ch.qh(i)})];case 1:return o.sent(),[4,Tg(t)];case 2:return o.sent(),[2]}})})}function Pg(t,e){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(n){switch(n.label){case 0:return e&&Lg(t).fh?[4,function(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r;return Object(ka.d)(this,function(i){switch(i.label){case 0:return vh(r=e.code)&&r!==$a.ABORTED?(n=t.xh.shift(),Lg(t).Xu(),[4,Sg(t,function(){return t.Ch.Uh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Tg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return xg(t)&&Ag(t),[2]}})})}function Dg(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n;return Object(ka.d)(this,function(r){switch(r.label){case 0:return n=Fa(t),e?(n.Fh.delete(2),[4,fg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Fh.add(2),[4,dg(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function Rg(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Fa(t);return r.mh(),new ug(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:Og.bind(null,t),Iu:Eg.bind(null,t),uh:Ig.bind(null,t)}),t.Oh.push(function(n){return Object(ka.b)(e,void 0,void 0,function(){return Object(ka.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),bg(t)?mg(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),_g(t),e.label=3;case 3:return[2]}})})})),t.Qh}function Lg(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=Fa(t);return r.mh(),new ag(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:jg.bind(null,t),Iu:Pg.bind(null,t),Eh:kg.bind(null,t),wh:Ng.bind(null,t)}),t.Oh.push(function(n){return Object(ka.b)(e,void 0,void 0,function(){return Object(ka.d)(this,function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,Tg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Da("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}})})})),t.Kh}var Vg=function(){this.Wh=void 0,this.listeners=[]},Mg=function(){this.queries=new Pd(function(t){return xl(t)},Tl),this.onlineState="Unknown",this.jh=new Set};function Ug(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(ka.d)(this,function(c){switch(c.label){case 0:if(n=Fa(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Vg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.Wh=c.sent(),[3,4];case 3:return u=c.sent(),a=Mf(u,"Initialization of query '"+Al(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.Wh&&e.Hh(o.Wh)&&zg(n),[2]}})})}function Fg(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(ka.d)(this,function(u){return n=Fa(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]})})}function qg(t,e){for(var n=Fa(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].Hh(s)&&(r=!0);u.Wh=s}}r&&zg(n)}function Hg(t,e,n){var r=Fa(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function zg(t){t.jh.forEach(function(t){t.next()})}var Bg=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Lh(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Lh.Fe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Kg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Gg=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return nf(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?cf(this.Kt,t.document,!1):new Wc(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return Qh(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Gg(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],l=(e.get(c)||kh()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(ka.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(ka.d)(this,function(o){switch(o.label){case 0:return[4,Ap(this.Sh,new Gg(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,jp(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new hp(Object.assign({},this.progress),t))]}})})}}();var $g=function(t){this.key=t},Wg=function(t){this.key=t},Jg=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=kh(),this.Ce=kh(),this.ll=kl(t),this._l=new Dh(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Rh,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,u=!1,a=bl(this.query)&&i.size===this.query.limit?i.last():null,c=wl(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt(function(t,e){var l=i.get(t),h=e instanceof $c?e:null;h&&(h=jl(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(a&&n.ll(h,a)>0||c&&n.ll(h,c)<0)&&(u=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),bl(this.query)||wl(this.query))for(;s.size>this.query.limit;){var l=bl(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:u,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ma()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)}),this.Tl(n);var s=e?this.Il():[],u=0===this.hl.size&&this.qe?1:0,a=u!==this.ul;return this.ul=u,0!==o.length||a?{snapshot:new Lh(this.query,t._l,i,o,t.Ce,0===u,a,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new Rh,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach(function(t){return e.al=e.al.add(t)}),t.Qe.forEach(function(t){}),t.Ke.forEach(function(t){return e.al=e.al.delete(t)}),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=kh(),this._l.forEach(function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))});var n=[];return e.forEach(function(e){t.hl.has(e)||n.push(new Wg(e))}),this.hl.forEach(function(t){e.has(t)||n.push(new $g(t))}),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=kh();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return Lh.Fe(this.query,this._l,this.Ce,0===this.ul)},t}(),Yg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Zg=function(t){this.key=t,this.yl=!1},Qg=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new Pd(function(t){return xl(t)},Tl),this.Dl=new Map,this.Cl=[],this.xl=new mh(gc.J),this.Nl=new Map,this.Fl=new Np,this.Ol={},this.kl=new Map,this.Ml=Hd.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function Xg(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(ka.d)(this,function(u){switch(u.label){case 0:return n=xv(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,Ep(n.Sh,Cl(e))];case 2:return o=u.sent(),s=n.pl.ka(o.targetId),[4,tv(n,e,o.targetId,"current"===s)];case 3:r=u.sent(),n.$l&&pg(n.gl,o),u.label=4;case 4:return[2,r]}})})}function tv(t,e,n,r){return Object(ka.b)(this,void 0,void 0,function(){var i,o,s,u,a,c;return Object(ka.d)(this,function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(ka.b)(this,void 0,void 0,function(){var i,o,s;return Object(ka.d)(this,function(u){switch(u.label){case 0:return(i=e.view.dl(n))._c?[4,Cp(t.Sh,e.query,!1).then(function(t){return e.view.dl(t.documents,i)})]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.Oe.get(e.targetId),s=e.view.Ei(i,t.$l,o),[2,(dv(t,e.targetId,s.ml),s.snapshot)]}})})}(t,e,n,r)},[4,Cp(t.Sh,e,!0)];case 1:return i=l.sent(),o=new Jg(e,i.Pc),s=o.dl(i.documents),u=Mh.Be(n,r&&"Offline"!==t.onlineState),a=o.Ei(s,t.$l,u),dv(t,n,a.ml),c=new Yg(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),a.snapshot)]}})})}function ev(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r,i;return Object(ka.d)(this,function(o){switch(o.label){case 0:return n=Fa(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter(function(t){return!Tl(t,e)})),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,Ip(n.Sh,r.targetId,!1).then(function(){n.pl.Ba(r.targetId),gg(n.gl,r.targetId),hv(n,r.targetId)}).catch(Nd)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return hv(n,r.targetId),[4,Ip(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function nv(t,e,n){return Object(ka.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(ka.d)(this,function(u){switch(u.label){case 0:r=Av(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=Fa(t),i=cc.now(),o=e.reduce(function(t,e){return t.add(e.key)},kh());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Ic.Zo(t,o).next(function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=nh(c,n.get(c.key));null!=l&&s.push(new sh(c.key,l,Kc(l.proto.mapValue),Zl.exists(!0)))}return r.Ho.Pi(t,i,s,e)})}).then(function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}})}(r.Sh,e)];case 2:return i=u.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Ol[t.currentUser.R()];r||(r=new mh(za)),r=r.Ht(e,n),t.Ol[t.currentUser.R()]=r}(r,i.batchId,n),[4,vv(r,i.oi)];case 3:return u.sent(),[4,Tg(r.gl)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=Mf(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function rv(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r;return Object(ka.d)(this,function(i){switch(i.label){case 0:n=Fa(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,wp(n.Sh,e)];case 2:return r=i.sent(),e.Oe.forEach(function(t,e){var r=n.Nl.get(e);r&&(Ua(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?Ua(r.yl):t.Ke.size>0&&(Ua(r.yl),r.yl=!1))}),[4,vv(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Nd(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function iv(t,e,n){var r=Fa(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach(function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Fa(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)}),r&&zg(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function ov(t,e,n){return Object(ka.b)(this,void 0,void 0,function(){var r,i,o,s,u,a;return Object(ka.d)(this,function(c){switch(c.label){case 0:return(r=Fa(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new mh(gc.J)).Ht(o,new Wc(o,lc.min())),u=kh().add(o),a=new Vh(lc.min(),new Map,new _h(za),s,u),[4,rv(r,a)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),gv(r),[3,4];case 2:return[4,Ip(r.Sh,e,!1).then(function(){return hv(r,e,n)}).catch(Nd)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function sv(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r,i;return Object(ka.d)(this,function(o){switch(o.label){case 0:n=Fa(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,mp(n.Sh,e)];case 2:return i=o.sent(),lv(n,r,null),cv(n,r),n.pl.Fa(r,"acknowledged"),[4,vv(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Nd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function uv(t,e,n){return Object(ka.b)(this,void 0,void 0,function(){var r,i;return Object(ka.d)(this,function(o){switch(o.label){case 0:r=Fa(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Fa(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.Ho.yi(t,e).next(function(e){return Ua(null!==e),r=e.keys(),n.Ho.xi(t,e)}).next(function(){return n.Ho.Oi(t)}).next(function(){return n.Ic.Zo(t,r)})})}(r.Sh,e)];case 2:return i=o.sent(),lv(r,e,n),cv(r,e),r.pl.Fa(e,"rejected",n),[4,vv(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Nd(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function av(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r,i,o,s;return Object(ka.d)(this,function(u){switch(u.label){case 0:wg((n=Fa(t)).gl)||Da("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=Fa(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.Ho.pi(t)})}(n.Sh)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=u.sent(),s=Mf(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function cv(t,e){(t.kl.get(e)||[]).forEach(function(t){t.resolve()}),t.kl.delete(e)}function lv(t,e,n){var r=Fa(t),i=r.Ol[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ol[r.currentUser.R()]=i}}function hv(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Fl.kc(e).forEach(function(e){t.Fl.ki(e)||fv(t,e)})}function fv(t,e){var n=t.xl.get(e);null!==n&&(gg(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),gv(t))}function dv(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof $g?(t.Fl.sr(o.key,e),pv(t,o)):o instanceof Wg?(Da("SyncEngine","Document no longer in limbo: "+o.key),t.Fl.rr(o.key,e),t.Fl.ki(o.key)||fv(t,o.key)):Ma()}}function pv(t,e){var n=e.key;t.xl.get(n)||(Da("SyncEngine","New document in limbo: "+n),t.Cl.push(n),gv(t))}function gv(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new Zg(e)),t.xl=t.xl.Ht(e,n),pg(t.gl,new Pl(Cl(ml(e.path)),n,2,ac.U))}}function vv(t,e,n){return Object(ka.b)(this,void 0,void 0,function(){var r,i,o,s;return Object(ka.d)(this,function(u){switch(u.label){case 0:return r=Fa(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach(function(t,u){s.push(r.Bl(u,e,n).then(function(t){if(t){r.$l&&r.pl.qa(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=dp.cc(u.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return u.sent(),r.vl.uh(i),[4,function(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c;return Object(ka.d)(this,function(l){switch(l.label){case 0:n=Fa(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Tf.forEach(e,function(e){return Tf.forEach(e.rc,function(r){return n.persistence.Ii.sr(t,e.targetId,r)}).next(function(){return Tf.forEach(e.oc,function(r){return n.persistence.Ii.rr(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Nf(r=l.sent()))throw r;return Da("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(s=o[i]).targetId,s.fromCache||(a=n.dc.get(u),c=a.Bt(a.Mt),n.dc=n.dc.Ht(u,c));return[2]}})})}(r.Sh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}})})}function yv(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r;return Object(ka.d)(this,function(i){switch(i.label){case 0:return(n=Fa(t)).currentUser.isEqual(e)?[3,3]:(Da("SyncEngine","User change. New user:",e.R()),[4,yp(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach(function(t){t.forEach(function(t){t.reject(new Wa($a.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,vv(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function mv(t,e){var n=Fa(t),r=n.Nl.get(e);if(r&&r.yl)return kh().add(r.key);var i=kh(),o=n.Dl.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.Sl.get(u[s]);i=i.ye(a.view.fl)}return i}function bv(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r,i;return Object(ka.d)(this,function(o){switch(o.label){case 0:return[4,Cp((n=Fa(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&dv(n,e.targetId,i.ml),i)]}})})}function wv(t){return Object(ka.b)(this,void 0,void 0,function(){var e;return Object(ka.d)(this,function(n){return[2,Tp((e=Fa(t)).Sh).then(function(t){return vv(e,t)})]})})}function _v(t,e,n,r){return Object(ka.b)(this,void 0,void 0,function(){var i,o;return Object(ka.d)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Fa(t),r=Fa(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.gi(t,e).next(function(e){return e?n.Ic.Zo(t,e):Tf.resolve(null)})})}((i=Fa(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,Tg(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(lv(i,e,r||null),cv(i,e),function(t,e){Fa(Fa(t).Ho).Ni(e)}(i.Sh,e)):Ma(),s.label=4;case 4:return[4,vv(i,o)];case 5:return s.sent(),[3,7];case 6:Da("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function Ov(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a;return Object(ka.d)(this,function(c){switch(c.label){case 0:return xv(n=Fa(t)),Av(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,Ev(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,Dg(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)pg(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(u=[],a=Promise.resolve(),n.Dl.forEach(function(t,e){n.pl.$a(e)?u.push(e):a=a.then(function(){return hv(n,e),Ip(n.Sh,e,!0)}),gg(n.gl,e)}),[4,a]);case 4:return c.sent(),[4,Ev(n,u)];case 5:return c.sent(),function(t){var e=Fa(t);e.Nl.forEach(function(t,n){gg(e.gl,n)}),e.Fl.Mc(),e.Nl=new Map,e.xl=new mh(gc.J)}(n),n.Ll=!1,[4,Dg(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Ev(t,e,n){return Object(ka.b)(this,void 0,void 0,function(){var n,r,i,o,s,u,a,c,l,h,f,d,p;return Object(ka.d)(this,function(g){switch(g.label){case 0:n=Fa(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=void 0,(c=n.Dl.get(u=s[o]))&&0!==c.length?[4,Ep(n.Sh,Cl(c[0]))]:[3,7]):[3,13];case 2:a=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,bv(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Sp(n.Sh,u)];case 8:return p=g.sent(),[4,Ep(n.Sh,p)];case 9:return a=g.sent(),[4,tv(n,Iv(p),u,!1)];case 10:g.sent(),g.label=11;case 11:r.push(a),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}})})}function Iv(t){return yl(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Cv(t){var e=Fa(t);return Fa(Fa(e.Sh).persistence).Qo()}function Sv(t,e,n,r){return Object(ka.b)(this,void 0,void 0,function(){var i,o,s;return Object(ka.d)(this,function(u){switch(u.label){case 0:return(i=Fa(t)).Ll?(Da("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Tp(i.Sh)];case 3:return o=u.sent(),s=Vh.$e(e,"current"===n),[4,vv(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,Ip(i.Sh,e,!0)];case 6:return u.sent(),hv(i,e,r),[3,8];case 7:Ma(),u.label=8;case 8:return[2]}})})}function Tv(t,e,n){return Object(ka.b)(this,void 0,void 0,function(){var r,i,o,s,u,a,c,l,h;return Object(ka.d)(this,function(f){switch(f.label){case 0:if(!(r=xv(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(Da("SyncEngine","Adding an already active target "+s),[3,5]):[4,Sp(r.Sh,s)]:[3,6];case 2:return u=f.sent(),[4,Ep(r.Sh,u)];case 3:return a=f.sent(),[4,tv(r,Iv(u),a.targetId,!1)];case 4:f.sent(),pg(r.gl,a),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(ka.d)(this,function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,Ip(r.Sh,t,!1).then(function(){gg(r.gl,t),hv(r,t)}).catch(Nd)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function xv(t){var e=Fa(t);return e.gl.Ch.Bh=rv.bind(null,e),e.gl.Ch.Sn=mv.bind(null,e),e.gl.Ch.$h=ov.bind(null,e),e.vl.uh=qg.bind(null,e.Vl),e.vl.ql=Hg.bind(null,e.Vl),e}function Av(t){var e=Fa(t);return e.gl.Ch.qh=sv.bind(null,e),e.gl.Ch.Uh=uv.bind(null,e),e}var jv=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(e){switch(e.label){case 0:return this.Kt=ig(t.gu.T),this.pl=this.jl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}})})},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return vp(this.persistence,new pp,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new Mp(Fp.ra,this.Kt)},t.prototype.jl=function(t){return new Yp},t.prototype.terminate=function(){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}})})},t}(),kv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(ka.c)(e,t),e.prototype.initialize=function(e){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,xp(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,Av(this.Xl.fa)];case 4:return n.sent(),[4,Tg(this.Xl.gl)];case 5:return n.sent(),[2]}})})},e.prototype.Jl=function(t){return vp(this.persistence,new pp,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Jd(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=lp(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?kd.Xs(this.cacheSizeBytes):kd.ei;return new up(this.synchronizeTabs,e,t.clientId,n,t.fs,ng(),rg(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.jl=function(t){return new Yp},e}(jv),Nv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(ka.c)(e,t),e.prototype.initialize=function(e){return Object(ka.b)(this,void 0,void 0,function(){var n,r=this;return Object(ka.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Jp?(this.pl.fa={nu:_v.bind(null,n),su:Sv.bind(null,n),iu:Tv.bind(null,n),Qo:Cv.bind(null,n),eu:wv.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po(function(t){return Object(ka.b)(r,void 0,void 0,function(){return Object(ka.d)(this,function(e){switch(e.label){case 0:return[4,Ov(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.jl=function(t){var e=ng();if(!Jp.Wn(e))throw new Wa($a.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=lp(t.gu.T,t.gu.persistenceKey);return new Jp(e,t.fs,n,t.clientId,t.Yl)},e}(kv),Pv=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n=this;return Object(ka.d)(this,function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return iv(n.fa,t,1)},this.gl.Ch.s_=yv.bind(null,this.fa),[4,Dg(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.e_=function(t){return new Mg},t.prototype.Zl=function(t){var e=ig(t.gu.T),n=new eg(t.gu);return function(t,e,n){return new cg(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return iv(s.fa,t,0)},o=Qp.Wn()?new Qp:new Zp,new hg(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var u=new Qg(t,e,n,r,i,o);return s&&(u.Ll=!0),u}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(ka.b)(this,void 0,void 0,function(){var e;return Object(ka.d)(this,function(n){switch(n.label){case 0:return e=Fa(t),Da("RemoteStore","RemoteStore shutting down."),e.Fh.add(5),[4,dg(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}})})}(this.gl)},t}(),Dv=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Rv=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new Sf,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then(function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Kl=function(){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}})})},t.prototype.a_=function(){return Object(ka.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(ka.d)(this,function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new Kg(JSON.parse(r),t.length+n)]}})})},t.prototype.__=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.u_=function(){return Object(ka.b)(this,void 0,void 0,function(){var t,e;return Object(ka.d)(this,function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.l_=function(t){return Object(ka.b)(this,void 0,void 0,function(){var e;return Object(ka.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(ka.b)(this,void 0,void 0,function(){var t,e;return Object(ka.d)(this,function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Wa($a.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new pc(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),Lv=function(t){this._methodName=t};function Vv(t,e,n){if(!n)throw new Wa($a.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Mv(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Wa($a.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Uv(t,e,n,r){if(!0===e&&!0===r)throw new Wa($a.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Fv(t){if(!gc.Et(t))throw new Wa($a.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function qv(t){if(gc.Et(t))throw new Wa($a.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Hv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ma()}function zv(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new Wa($a.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Hv(t);throw new Wa($a.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Bv(t,e){if(e<=0)throw new Wa($a.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Kv=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Wa($a.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Wa($a.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,Uv("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Gv=new Map,$v=function(){function t(t,e){this.w_="(lite)",this.E_=new Kv({}),this.T_=!1,t instanceof ec?(this.I_=t,this.m_=new ic):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Wa($a.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ec(t.options.projectId)}(t),this.m_=new oc(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Wa($a.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Wa($a.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Kv(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new ic;switch(t.type){case"gapi":var e=t.client;return Ua(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new uc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Wa($a.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,T:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=Gv.get(this))&&(Da("ComponentProvider","Removing Datastore"),Gv.delete(this),t.terminate()),Promise.resolve();var t},t}(),Wv=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Yv(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Jv=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Yv=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ml(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(ka.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new Wv(this.firestore,null,new gc(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Jv);function Zv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ya&&(t=t._),Vv("collection","path",e),t instanceof $v)return qv(n=fc.ct.apply(fc,Object(ka.g)([e],r))),new Yv(t,null,n);if(!(t instanceof Wv||t instanceof Yv))throw new Wa($a.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return qv(n=fc.ct.apply(fc,Object(ka.g)([t.path],r)).child(fc.ct(e))),new Yv(t.firestore,null,n)}function Qv(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof Ya&&(t=t._),1===arguments.length&&(e=Ha.t()),Vv("doc","path",e),t instanceof $v)return Fv(n=fc.ct.apply(fc,Object(ka.g)([e],r))),new Wv(t,null,new gc(n));if(!(t instanceof Wv||t instanceof Yv))throw new Wa($a.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Fv(n=t.D_.child(fc.ct.apply(fc,Object(ka.g)([e],r)))),new Wv(t.firestore,t instanceof Yv?t.v_:null,new gc(n))}function Xv(t,e){return t instanceof Ya&&(t=t._),e instanceof Ya&&(e=e._),(t instanceof Wv||t instanceof Yv)&&(e instanceof Wv||e instanceof Yv)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function ty(t,e){return t instanceof Ya&&(t=t._),e instanceof Ya&&(e=e._),t instanceof Jv&&e instanceof Jv&&t.firestore===e.firestore&&Tl(t.C_,e.C_)&&t.v_===e.v_}var ey=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Wa($a.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Wa($a.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return za(this.x_,t.x_)||za(this.N_,t.N_)},t}(),ny=/^__.*__$/,ry=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.zt?new sh(t,this.data,this.zt,e,this.fieldTransforms):new oh(t,this.data,e,this.fieldTransforms)},t}(),iy=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new sh(t,this.data,this.zt,e,this.fieldTransforms)},t}();function oy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ma()}}var sy=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Sy(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.zt.find(function(e){return t.st(e)})||void 0!==this.fieldTransforms.find(function(e){return t.st(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(oy(this.k_)&&ny.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),uy=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||ig(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new sy({k_:t,methodName:e,j_:n,path:pc.at(),B_:!1,W_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function ay(t){var e=t.p_(),n=ig(t.I_);return new uy(t.I_,!!e.ignoreUndefinedProperties,n)}function cy(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);Oy("Data must be an object, but it was:",s,r);var u,a,c=wy(r,s);if(o.merge)u=new bc(s.zt),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Ey(e,f[h],n);if(!s.contains(d))throw new Wa($a.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Ty(l,d)||l.push(d)}u=new bc(l),a=s.fieldTransforms.filter(function(t){return u.It(t.field)})}else u=null,a=s.fieldTransforms;return new ry(new zc(c),u,a)}var ly=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ka.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Lv);function hy(t,e,n){return new sy({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var fy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ka.c)(e,t),e.prototype.z_=function(t){return new Jl(t.path,new ql)},e.prototype.isEqual=function(t){return t instanceof e},e}(Lv),dy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(ka.c)(e,t),e.prototype.z_=function(t){var e=hy(this,t,!0),n=this.H_.map(function(t){return by(t,e)}),r=new Hl(n);return new Jl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Lv),py=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(ka.c)(e,t),e.prototype.z_=function(t){var e=hy(this,t,!0),n=this.H_.map(function(t){return by(t,e)}),r=new Bl(n);return new Jl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Lv),gy=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(ka.c)(e,t),e.prototype.z_=function(t){var e=new Gl(t.Kt,Ll(t.Kt,this.J_));return new Jl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Lv);function vy(t,e,n,r){var i=t.G_(1,e,n);Oy("Data must be an object, but it was:",i,r);var o=[],s=new Bc;yc(r,function(t,r){var u=Cy(e,t,n);r instanceof Ya&&(r=r._);var a=i.U_(u);if(r instanceof ly)o.push(u);else{var c=by(r,a);null!=c&&(o.push(u),s.set(u,c))}});var u=new bc(o);return new iy(s.yt(),u,i.fieldTransforms)}function yy(t,e,n,r,i,o){var s=t.G_(1,e,n),u=[Ey(e,r,n)],a=[i];if(o.length%2!=0)throw new Wa($a.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(Ey(e,o[c])),a.push(o[c+1]);for(var l=[],h=new Bc,f=u.length-1;f>=0;--f)if(!Ty(l,u[f])){var d=u[f],p=a[f];p instanceof Ya&&(p=p._);var g=s.U_(d);if(p instanceof ly)l.push(d);else{var v=by(p,g);null!=v&&(l.push(d),h.set(d,v))}}var y=new bc(l);return new iy(h.yt(),y,s.fieldTransforms)}function my(t,e,n,r){return void 0===r&&(r=!1),by(n,t.G_(r?4:3,e))}function by(t,e){if(t instanceof Ya&&(t=t._),_y(t))return Oy("Unsupported field value:",e,t),wy(t,e);if(t instanceof Lv)return function(t,e){if(!oy(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=by(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof Ya&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ll(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=cc.fromDate(t);return{timestampValue:Jh(e.Kt,n)}}if(t instanceof cc)return n=new cc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Jh(e.Kt,n)};if(t instanceof ey)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ja)return{bytesValue:Yh(e.Kt,t.l)};if(t instanceof Wv){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Xh(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Hv(t))}(t,e)}function wy(t,e){var n={};return mc(t)?e.path&&e.path.length>0&&e.zt.push(e.path):yc(t,function(t,r){var i=by(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function _y(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof cc||t instanceof ey||t instanceof Ja||t instanceof Wv||t instanceof Lv)}function Oy(t,e,n){if(!_y(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Hv(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Ey(t,e,n){if(e instanceof Ya&&(e=e._),e instanceof Rv)return e.d_;if("string"==typeof e)return Cy(t,e);throw Sy("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Iy=new RegExp("[~\\*/\\[\\]]");function Cy(t,e,n){if(e.search(Iy)>=0)throw Sy("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Rv.bind.apply(Rv,Object(ka.g)([void 0],e.split("."))))).d_}catch(r){throw Sy("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Sy(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new Wa($a.INVALID_ARGUMENT,(u+=". ")+t+a)}function Ty(t,e){return t.some(function(t){return t.isEqual(e)})}var xy=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(ka.b)(this,void 0,void 0,function(){var e,n=this;return Object(ka.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Wa($a.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r,i,o,s,u;return Object(ka.d)(this,function(a){switch(a.label){case 0:return n=Fa(t),r=sf(n.Kt)+"/documents",i={documents:e.map(function(t){return ef(n.Kt,t)})},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){Ua(!!e.found);var n=nf(t,e.found.name),r=Qh(e.found.updateTime),i=new zc({mapValue:{fields:e.found.fields}});return new $c(n,r,i,{})}(t,e):"missing"in e?function(t,e){Ua(!!e.missing),Ua(!!e.readTime);var n=nf(t,e.missing),r=Qh(e.readTime);return new Wc(n,r)}(t,e):Ma()}(n.Kt,t);s.set(e.key.toString(),e)}),u=[],[2,(e.forEach(function(t){var e=s.get(t.toString());Ua(!!e),u.push(e)}),u)]}})})}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof Wc||t instanceof $c?n.sf(t):Ma()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new dh(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(ka.b)(this,void 0,void 0,function(){var t,e=this;return Object(ka.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=gc.ft(n);e.mutations.push(new ph(r,e.Gt(r)))}),[4,function(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r,i;return Object(ka.d)(this,function(o){switch(o.label){case 0:return n=Fa(t),r=sf(n.Kt)+"/documents",i={writes:e.map(function(t){return lf(n.Kt,t)})},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof $c)e=t.version;else{if(!(t instanceof Wc))throw Ma();e=lc.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Wa($a.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Zl.updateTime(e):Zl.Wt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(lc.min()))throw new Wa($a.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Zl.updateTime(e)}return Zl.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),Ay=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new og(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu(function(){return Object(ka.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(ka.d)(this,function(r){return t=new xy(this.Dh),(e=this.uf(t))&&e.then(function(e){n.fs.ys(function(){return t.commit().then(function(){n.Ts.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Tc(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys(function(){return e.af(),Promise.resolve()})):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!vh(e)}return!1},t}(),jy=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=nc.UNAUTHENTICATED,this.clientId=Ha.t(),this._f=function(){},this.N=new Sf,this.credentials.S(function(t){Da("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()})}return t.prototype.getConfiguration=function(){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this.fs.wf)throw new Wa($a.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new Sf;return this.fs.Tf(function(){return Object(ka.b)(t,void 0,void 0,function(){var t,n;return Object(ka.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=Mf(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function ky(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(ka.d)(this,function(o){switch(o.label){case 0:return t.fs.Af(),Da("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff(function(n){r.isEqual(n)||(r=n,t.fs.bo(function(){return Object(ka.b)(i,void 0,void 0,function(){return Object(ka.d)(this,function(t){switch(t.label){case 0:return[4,yp(e.Sh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.yo(function(){return t.terminate()}),t.mf=e,[2]}})})}function Ny(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r;return Object(ka.d)(this,function(i){switch(i.label){case 0:return t.fs.Af(),[4,Py(t)];case 1:return n=i.sent(),Da("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t.fs.bo(function(){return function(t,e){return Object(ka.b)(this,void 0,void 0,function(){var n,r;return Object(ka.d)(this,function(i){switch(i.label){case 0:return(n=Fa(t)).fs.Af(),Da("RemoteStore","RemoteStore received new credentials"),r=wg(n),n.Fh.add(3),[4,dg(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Fh.delete(3),[4,fg(n)];case 3:return i.sent(),[2]}})})}(e.gl,n)})}),t.If=e,[2]}})})}function Py(t){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(Da("FirestoreClient","Using default OfflineComponentProvider"),[4,ky(t,new jv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function Dy(t){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(Da("FirestoreClient","Using default OnlineComponentProvider"),[4,Ny(t,new Pv)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function Ry(t){return Py(t).then(function(t){return t.persistence})}function Ly(t){return Py(t).then(function(t){return t.Sh})}function Vy(t){return Dy(t).then(function(t){return t.gl})}function My(t){return Dy(t).then(function(t){return t.fa})}function Uy(t){return Object(ka.b)(this,void 0,void 0,function(){var e,n;return Object(ka.d)(this,function(r){switch(r.label){case 0:return[4,Dy(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=Xg.bind(null,e.fa),n.Jh=ev.bind(null,e.fa),n)]}})})}function Fy(t,e,n){var r=this;void 0===n&&(n={});var i=new Sf;return t.fs.ys(function(){return Object(ka.b)(r,void 0,void 0,function(){var r;return Object(ka.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Dv({next:function(o){e.ys(function(){return Fg(t,s)});var u=o.docs.has(n);!u&&o.fromCache?i.reject(new Wa($a.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new Wa($a.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Bg(ml(n.path),o,{includeMetadataChanges:!0,sl:!0});return Ug(t,s)},[4,Uy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}function qy(t,e,n){var r=this;void 0===n&&(n={});var i=new Sf;return t.fs.ys(function(){return Object(ka.b)(r,void 0,void 0,function(){var r;return Object(ka.d)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Dv({next:function(n){e.ys(function(){return Fg(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Wa($a.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Bg(n,o,{includeMetadataChanges:!0,sl:!0});return Ug(t,s)},[4,Uy(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}})})}),i.promise}var Hy=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new og(this,"async_queue_retry"),this.vf=function(){var e=rg();e&&Da("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=rg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=rg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(ka.b)(this,void 0,void 0,function(){var t,e=this;return Object(ka.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Nf(t=n.sent()))throw t;return Da("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,Ra("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Vf.Is(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&Ma()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(ka.b)(this,void 0,void 0,function(){var t;return Object(ka.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ws-e.ws});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),zy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Hy,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(ka.c)(e,t),e.prototype.b_=function(){return this.Lf||Ky(this),this.Lf.terminate()},e}($v);function By(t){return t.Lf||Ky(t),t.Lf.df(),t.Lf}function Ky(t){var e=t.p_(),n=function(t,e,n){return new tc(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new jy(t.m_,t.Mf,n)}function Gy(t,e,n){var r=this,i=new Sf;return t.fs.enqueue(function(){return Object(ka.b)(r,void 0,void 0,function(){var r;return Object(ka.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ky(t,n)];case 1:return o.sent(),[4,Ny(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===$a.FAILED_PRECONDITION||t.code===$a.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function $y(t){if(t.R_||t.P_)throw new Wa($a.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Wy=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),jc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oc(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(Ec(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.Wf(t.arrayValue,e);case 10:return this.jf(t.mapValue,e);default:throw Ma()}},t.prototype.jf=function(t,e){var n=this,r={};return yc(t.fields||{},function(t,i){r[t]=n.$f(i,e)}),r},t.prototype.Kf=function(t){return new ey(Oc(t.latitude),Oc(t.longitude))},t.prototype.Wf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.$f(t,e)})},t.prototype.qf=function(t,e){switch(e){case"previous":var n=Cc(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(Sc(t));default:return null}},t.prototype.Bf=function(t){var e=_c(t);return new cc(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=fc.ct(t);Ua(Cf(n));var r=new ec(n.get(1),n.get(3)),i=new gc(n.X(5));return r.isEqual(e)||Ra("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Jy=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Wv(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Yy(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(Zy("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Yy=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ka.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Jy);function Zy(t,e){return"string"==typeof e?Cy(t,e):e instanceof Ya?e._.d_:e.d_}function Qy(t){if(wl(t)&&0===t.Nt.length)throw new Wa($a.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xy=function(){};function tm(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var em=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(ka.c)(e,t),e.prototype.Yf=function(t){var e=ay(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new Wa($a.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){am(s,o);for(var a=[],c=0,l=s;c<l.length;c++)a.push(um(r,t,l[c]));u={arrayValue:{values:a}}}else u=um(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||am(s,o),u=my(n,"where",s,"in"===o||"not-in"===o);var h=el.create(i,o,u);return function(t,e){if(e.xt()){var n=Ol(t);if(null!==n&&!n.isEqual(e.field))throw new Wa($a.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=_l(t);null!==r&&cm(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Wa($a.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Jv(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new vl(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Xy),nm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(ka.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Wa($a.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Wa($a.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new fl(e,n);return function(t,e){if(null===_l(t)){var n=Ol(t);null!==n&&cm(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Jv(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new vl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Xy),rm=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(ka.c)(e,t),e.prototype.Yf=function(t){return new Jv(t.firestore,t.v_,Sl(t.C_,this.nd,this.sd))},e}(Xy),im=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(ka.c)(e,t),e.prototype.Yf=function(t){var e=sm(t,this.type,this.rd,this.od);return new Jv(t.firestore,t.v_,function(t,e){return new vl(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Xy),om=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(ka.c)(e,t),e.prototype.Yf=function(t){var e=sm(t,this.type,this.rd,this.od);return new Jv(t.firestore,t.v_,function(t,e){return new vl(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Xy);function sm(t,e,n,r){if(n[0]instanceof Ya&&(n[0]=n[0]._),n[0]instanceof Jy)return function(t,e,n,r,i){if(!r)throw new Wa($a.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=Il(t);s<u.length;s++){var a=u[s];if(a.field.ht())o.push(Vc(e,r.key));else{var c=r.field(a.field);if(Ic(c))throw new Wa($a.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.ot();throw new Wa($a.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ll(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=ay(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new Wa($a.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.ht()){if("string"!=typeof c)throw new Wa($a.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!El(t)&&-1!==c.indexOf("/"))throw new Wa($a.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(fc.ct(c));if(!gc.Et(l))throw new Wa($a.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new gc(l);u.push(Vc(e,h))}else{var f=my(n,r,c);u.push(f)}}return new ll(u,o)}(t.C_,t.firestore.I_,i,e,n,r)}function um(t,e,n){if(n instanceof Ya&&(n=n._),"string"==typeof n){if(""===n)throw new Wa($a.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!El(e)&&-1!==n.indexOf("/"))throw new Wa($a.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(fc.ct(n));if(!gc.Et(r))throw new Wa($a.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Vc(t,new gc(r))}if(n instanceof Wv)return Vc(t,n.S_);throw new Wa($a.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Hv(n)+".")}function am(t,e){if(!Array.isArray(t)||0===t.length)throw new Wa($a.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Wa($a.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function cm(t,e,n){if(!n.isEqual(e))throw new Wa($a.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function lm(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function hm(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var fm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ka.c)(e,t),e.prototype.Uf=function(t){return new Ja(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Wv(this.firestore,null,e)},e}(Wy),dm=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),pm=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).zf=e,u.ad=e,u.metadata=o,u}return Object(ka.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new gm(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(Zy("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Jy),gm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ka.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(pm),vm=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new dm(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach(function(r){t.call(e,new gm(n.zf,n.Hf,r.key,r,new dm(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new Wa($a.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map(function(e){return{type:"added",doc:new gm(t.zf,t.Hf,e.doc.key,e.doc,new dm(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t.ud.De;return t.ud.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new gm(t.zf,t.Hf,e.doc.key,e.doc,new dm(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:ym(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this.ld=e),this.hd},t}();function ym(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ma()}}function mm(t,e){return t instanceof pm&&e instanceof pm?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof vm&&e instanceof vm&&t.zf===e.zf&&ty(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var bm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ka.c)(e,t),e.prototype.Uf=function(t){return new Ja(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new Wv(this.firestore,null,e)},e}(Wy);function wm(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=zv(t,Wv);var o=zv(t.firestore,zy),s=ay(o);return e instanceof Ya&&(e=e._),Om(o,[("string"==typeof e||e instanceof Rv?yy(s,"updateDoc",t.S_,e,n,r):vy(s,"updateDoc",t.S_,e)).F_(t.S_,Zl.exists(!0))])}function _m(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof Ya&&(t=t._);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||lm(i[u])||(s=i[u],u++);var a,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(lm(i[u])){var f=i[u];i[u]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[u+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[u+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof Wv)c=zv(t.firestore,zy),l=ml(t.S_.path),a={next:function(e){i[u]&&i[u](Em(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=zv(t,Jv);c=zv(d.firestore,zy),l=d.C_;var p=new bm(c);a={next:function(t){i[u]&&i[u](new vm(c,p,d,t))},error:i[u+1],complete:i[u+2]},Qy(t.C_)}return function(t,e,n,r){var i=this,o=new Dv(r),s=new Bg(e,o,n);return t.fs.ys(function(){return Object(ka.b)(i,void 0,void 0,function(){var e;return Object(ka.d)(this,function(n){switch(n.label){case 0:return e=Ug,[4,Uy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.r_(),t.fs.ys(function(){return Object(ka.b)(i,void 0,void 0,function(){var e;return Object(ka.d)(this,function(n){switch(n.label){case 0:return e=Fg,[4,Uy(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(By(c),l,h,a)}function Om(t,e){return function(t,e){var n=this,r=new Sf;return t.fs.ys(function(){return Object(ka.b)(n,void 0,void 0,function(){var n;return Object(ka.d)(this,function(i){switch(i.label){case 0:return n=nv,[4,My(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(By(t),e)}function Em(t,e,n){var r=n.docs.get(e.S_),i=new bm(t);return new pm(t,i,e.S_,r,new dm(n.hasPendingWrites,n.fromCache),e.v_)}var Im=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=ay(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=Cm(t,this.zf),i=hm(r.v_,e,n),o=cy(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.F_(r.S_,Zl.Wt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=Cm(t,this.zf);return e instanceof Ya&&(e=e._),o="string"==typeof e||e instanceof Rv?yy(this.wd,"WriteBatch.update",s.S_,e,n,r):vy(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.F_(s.S_,Zl.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=Cm(t,this.zf);return this.fd=this.fd.concat(new dh(e.S_,Zl.Wt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new Wa($a.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Cm(t,e){if(t instanceof Ya&&(t=t._),t.firestore!==e)throw new Wa($a.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Sm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(ka.c)(e,t),e.prototype.get=function(e){var n=this,r=Cm(e,this.zf),i=new bm(this.zf);return t.prototype.get.call(this,e).then(function(t){return new pm(n.zf,i,r.S_,t.Jf,new dm(!1,!1),r.v_)})},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=ay(t)}return t.prototype.get=function(t){var e=this,n=Cm(t,this.zf),r=new fm(this.zf);return this.Td.ef([n.S_]).then(function(t){if(!t||1!==t.length)return Ma();var i=t[0];if(i instanceof Wc)return new Jy(e.zf,r,n.S_,null,n.v_);if(i instanceof $c)return new Jy(e.zf,r,i.key,i,n.v_);throw Ma()})},t.prototype.set=function(t,e,n){var r=Cm(t,this.zf),i=hm(r.v_,e,n),o=cy(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=Cm(t,this.zf);return e instanceof Ya&&(e=e._),o="string"==typeof e||e instanceof Rv?yy(this.wd,"Transaction.update",s.S_,e,n,r):vy(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=Cm(t,this.zf);return this.Td.delete(e.S_),this},t}()),Tm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){$y(t=zv(t,zy));var n=By(t),r=t.p_(),i=new Pv;return Gy(n,i,new kv(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){$y(t=zv(t,zy));var e=By(t),n=t.p_(),r=new Pv;return Gy(e,r,new Nv(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Wa($a.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Sf;return t.Mf.Tf(function(){return Object(ka.b)(e,void 0,void 0,function(){var e;return Object(ka.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(ka.b)(this,void 0,void 0,function(){return Object(ka.d)(this,function(e){switch(e.label){case 0:return Af.Wn()?[4,Af.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(lp(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._)},t}(),xm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof ec||(i.md=e),i}return Object(ka.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=zv(t,$v)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&La("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(ka.b)(e,void 0,void 0,function(){var e,n;return Object(ka.d)(this,function(r){switch(r.label){case 0:return[4,Ry(t)];case 1:return e=r.sent(),[4,Vy(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=Fa(t);return e.Fh.delete(0),fg(e)}(n))]}})})})}(By(zv(this._,zy)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue(function(){return Object(ka.b)(e,void 0,void 0,function(){var e,n;return Object(ka.d)(this,function(r){switch(r.label){case 0:return[4,Ry(t)];case 1:return e=r.sent(),[4,Vy(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(ka.b)(this,void 0,void 0,function(){var e;return Object(ka.d)(this,function(n){switch(n.label){case 0:return(e=Fa(t)).Fh.add(0),[4,dg(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}})})}(n))]}})})})}(By(zv(this._,zy)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Uv("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.md&&(this.md._removeServiceInstance("firestore"),this.md._removeServiceInstance("firestore-exp")),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Sf;return t.fs.ys(function(){return Object(ka.b)(e,void 0,void 0,function(){var e;return Object(ka.d)(this,function(r){switch(r.label){case 0:return e=av,[4,My(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(By(zv(this._,zy)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Dv(e);return t.fs.ys(function(){return Object(ka.b)(n,void 0,void 0,function(){var e;return Object(ka.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Fa(t).jh.add(e),e.next()},[4,Uy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.r_(),t.fs.ys(function(){return Object(ka.b)(n,void 0,void 0,function(){var e;return Object(ka.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){Fa(t).jh.delete(e)},[4,Uy(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(By(t=zv(t,zy)),lm(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new Wa($a.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Hm(this,Zv(this._,t))}catch(t){throw Dm(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Pm(this,Qv(this._,t))}catch(t){throw Dm(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new Um(this,function(t,e){if(t=zv(t,$v),Vv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Wa($a.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Jv(t,null,function(t){return new vl(fc.at(),t)}(e))}(this._,t))}catch(t){throw Dm(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Sf;return t.fs.ys(function(){return Object(ka.b)(n,void 0,void 0,function(){var n;return Object(ka.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return Dy(t).then(function(t){return t.Dh})}(t)];case 1:return n=i.sent(),new Ay(t.fs,n,e,r).run(),[2]}})})}),r.promise}(By(t),function(n){return e(new Sm(t,n))})}(this._,function(n){return t(new jm(e,n))})},e.prototype.batch=function(){var t=this;return By(this._),new km(new Im(this._,function(e){return Om(t._,e)}))},e.prototype.loadBundle=function(t){throw new Wa($a.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Wa($a.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(Ya),Am=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ka.c)(e,t),e.prototype.Uf=function(t){return new Xa(new Ja(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Pm.Ad(e,this.firestore,null)},e}(Wy),jm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new Am(e),r}return Object(ka.c)(e,t),e.prototype.get=function(t){var e=this,n=zm(t);return this._.get(n).then(function(t){return new Vm(e.zf,new pm(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=zm(t);return n?(Mv("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=zm(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(ka.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=zm(t);return this._.delete(e),this},e}(Ya),km=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ka.c)(e,t),e.prototype.set=function(t,e,n){var r=zm(t);return n?(Mv("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=zm(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(ka.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=zm(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(Ya),Nm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).zf=e,i.Hf=n,i}return Object(ka.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new gm(this.zf._,this.Hf,t.S_,t.Jf,t.metadata,null);return this._.fromFirestore(new Mm(this.zf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this._.toFirestore(t,e):this._.toFirestore(t)},e.Rd=function(t,n){var r=e.Pd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Am(t),n),i.set(n,o)),o},e}(Ya);Nm.Pd=new WeakMap;var Pm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Am(e),r}return Object(ka.c)(e,t),e.yd=function(t,n,r){if(t.length%2!=0)throw new Wa($a.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new Wv(n._,r,new gc(t)))},e.Ad=function(t,n,r){return new e(n,new Wv(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Hm(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new Hm(this.firestore,Zv(this._,t))}catch(t){throw Dm(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof Ya&&(t=t._),t instanceof Wv&&Xv(this._,t)},e.prototype.set=function(t,e){e=Mv("DocumentReference.set",e);try{return function(t,e,n){t=zv(t,Wv);var r=zv(t.firestore,zy),i=hm(t.v_,e,n);return Om(r,[cy(ay(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Zl.Wt())])}(this._,t,e)}catch(t){throw Dm(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?wm(this._,t):wm.apply(void 0,Object(ka.g)([this._,t,e],n))}catch(t){throw Dm(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Om(zv((t=this._).firestore,zy),[new dh(t.S_,Zl.Wt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Rm(e),i=Lm(e,function(e){return new Vm(t.firestore,new pm(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))});return _m(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=zv(t,Wv);var e=zv(t.firestore,zy),n=By(e),r=new bm(e);return function(t,e){var n=this,r=new Sf;return t.fs.ys(function(){return Object(ka.b)(n,void 0,void 0,function(){var n;return Object(ka.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ka.b)(this,void 0,void 0,function(){var r,i;return Object(ka.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Fa(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Ic.Jo(t,e)})}(t,e)];case 1:return(i=o.sent())instanceof $c?n.resolve(i):i instanceof Wc?n.resolve(null):n.reject(new Wa($a.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=Mf(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Ly(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new pm(e,r,t.S_,n,new dm(n instanceof $c&&n.bt,!0),t.v_)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=zv(t,Wv);var e=zv(t.firestore,zy);return Fy(By(e),t.S_,{source:"server"}).then(function(n){return Em(e,t,n)})}(this._):function(t){t=zv(t,Wv);var e=zv(t.firestore,zy);return Fy(By(e),t.S_).then(function(n){return Em(e,t,n)})}(this._)).then(function(t){return new Vm(e.firestore,new pm(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(Nm.Rd(this.firestore,t)))},e}(Ya);function Dm(t,e,n){return t.message=t.message.replace(e,n),t}function Rm(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!lm(r))return r}return{}}function Lm(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=lm(t[0])?t[0]:lm(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Vm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(ka.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Pm(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return mm(this._,t._)},e}(Ya),Mm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ka.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Vm),Um=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new Am(e),r}return Object(ka.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,tm(this._,function(t,e,n){var r=e,i=Zy("where",t);return new em(i,r,n)}(t,n,r)))}catch(t){throw Dm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,tm(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=Zy("orderBy",t);return new nm(r,n)}(t,n)))}catch(t){throw Dm(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,tm(this._,function(t){return Bv("limit",t),new rm("limit",t,"F")}(t)))}catch(t){throw Dm(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,tm(this._,function(t){return Bv("limitToLast",t),new rm("limitToLast",t,"L")}(t)))}catch(t){throw Dm(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,tm(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new im("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Dm(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,tm(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new im("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Dm(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,tm(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new om("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Dm(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,tm(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new om("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Dm(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return ty(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=zv(t,Jv);var e=zv(t.firestore,zy),n=By(e),r=new bm(e);return function(t,e){var n=this,r=new Sf;return t.fs.ys(function(){return Object(ka.b)(n,void 0,void 0,function(){var n;return Object(ka.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ka.b)(this,void 0,void 0,function(){var r,i,o,s,u;return Object(ka.d)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Cp(t,e,!0)];case 1:return u=a.sent(),r=new Jg(e,u.Pc),i=r.dl(u.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=Mf(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}})})},[4,Ly(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new vm(e,r,t,n)})}(this._):"server"===(null==t?void 0:t.source)?function(t){t=zv(t,Jv);var e=zv(t.firestore,zy),n=By(e),r=new bm(e);return qy(n,t.C_,{source:"server"}).then(function(n){return new vm(e,r,t,n)})}(this._):function(t){t=zv(t,Jv);var e=zv(t.firestore,zy),n=By(e),r=new bm(e);return Qy(t.C_),qy(n,t.C_).then(function(n){return new vm(e,r,t,n)})}(this._)).then(function(t){return new qm(e.firestore,new vm(e.firestore._,e.Hf,e._,t.ud))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Rm(e),i=Lm(e,function(e){return new qm(t.firestore,new vm(t.firestore._,t.Hf,t._,e.ud))});return _m(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(Nm.Rd(this.firestore,t)))},e}(Ya),Fm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(ka.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Mm(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(Ya),qm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(ka.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new Um(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map(function(e){return new Mm(t.zf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map(function(t){return new Fm(e.zf,t)})},e.prototype.forEach=function(t,e){var n=this;this._.forEach(function(r){t.call(e,new Mm(n.zf,r))})},e.prototype.isEqual=function(t){return mm(this._,t._)},e}(Ya),Hm=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(ka.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Pm(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Pm(this.firestore,void 0===t?Qv(this._):Qv(this._,t))}catch(t){throw Dm(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=zv(t.firestore,zy),r=Qv(t),i=hm(t.v_,e);return Om(n,[cy(ay(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Zl.exists(!1))]).then(function(){return r})}(this._,t).then(function(t){return new Pm(e.firestore,t)})},e.prototype.isEqual=function(t){return Xv(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(Nm.Rd(this.firestore,t)))},e}(Um);function zm(t){return t instanceof Ya&&(t=t._),zv(t,Wv)}var Bm=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Rv.bind.apply(Rv,Object(ka.g)([void 0],e))))||this}return Object(ka.c)(e,t),e.documentId=function(){return new e(pc.lt().ot())},e.prototype.isEqual=function(t){return t instanceof Ya&&(t=t._),t instanceof Rv&&this._.d_.isEqual(t.d_)},e}(Ya),Km=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ka.c)(e,t),e.serverTimestamp=function(){var t=new fy("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new ly("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new dy("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new py("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new gy("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(Ya);!function(){function t(){this.gd={},this.Vd=new Sf,this.pd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.gd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Vd.promise.catch(t)},t.prototype.then=function(t,e){return this.Vd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.gd.complete&&this.gd.complete(),this.Vd.resolve(t)},t.prototype.Wl=function(t){this.pd.taskState="Error",this.gd.next&&this.gd.next(this.pd),this.gd.error&&this.gd.error(t),this.Vd.reject(t)},t.prototype.Ql=function(t){this.pd=t,this.gd.next&&this.gd.next(t)}}();var Gm,$m=n("/6Yf"),Wm={Firestore:xm,GeoPoint:ey,Timestamp:cc,Blob:Xa,Transaction:jm,WriteBatch:km,DocumentReference:Pm,DocumentSnapshot:Vm,Query:Um,QueryDocumentSnapshot:Mm,QuerySnapshot:qm,CollectionReference:Hm,FieldPath:Bm,FieldValue:Km,setLogLevel:function(t){Na.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new $m.a("firestore",function(t){return function(t,e){return new xm(t,new zy(t,e),new Tm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},Wm)))})(Gm=Si.a),Gm.registerVersion("@firebase/firestore","2.1.4");var Jm=n("VRyK"),Ym=n("qgXg"),Zm=n("Ylt2");class Qm extends yt.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Xm(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new mt.a;if(this.isStopped||this.hasError?o=ye.a.EMPTY:(this.observers.push(t),o=new Zm.a(this,t)),r&&t.add(t=new Ii.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Ym.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Xm{constructor(t,e){this.time=t,this.value=e}}function tb(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,u=!1,a=!1;return function(c){let l;s++,!i||u?(u=!1,i=new Qm(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){u=!0,i.error(t)},complete(){a=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!a&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function eb(t,e){return e?Ut(()=>t,e):Ut(()=>t)}var nb=n("tf+s");const rb=new r.q("angularfire2.auth.use-emulator"),ib=new r.q("angularfire2.auth.settings"),ob=new r.q("angularfire2.auth.tenant-id"),sb=new r.q("angularfire2.auth.langugage-code"),ub=new r.q("angularfire2.auth.use-device-language"),ab=new r.q("angularfire.auth.persistence");let cb=(()=>{class t{constructor(t,e,r,i,o,s,u,a,c,l){const h=new Ci.d(i),f=Object(Ci.h)(h),d=new yt.a,p=Object(vt.a)(void 0).pipe(Object(Ii.b)(h.outsideAngular),Ut(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Vt.a)(()=>Object(Ci.g)(t,i,e)),Object(Vt.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(Ci.f)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),u&&(r.tenantId=u),r.languageCode=a,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,u,a,c,n,l])})),tb({bufferSize:1,refCount:!1}));if(L(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(vt.a)(null);else{p.pipe(ge()).subscribe();const t=p.pipe(Ut(t=>t.getRedirectResult().then(t=>t,()=>null)),f,tb({bufferSize:1,refCount:!1})),e=t=>new St.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Ut(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Ut(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(eb(n),Object(nb.a)(h.outsideAngular),Object(Ii.b)(h.insideAngular)),this.user=t.pipe(eb(r),Object(nb.a)(h.outsideAngular),Object(Ii.b)(h.insideAngular)),this.idToken=this.user.pipe(Ut(t=>t?Object(gt.a)(t.getIdToken()):Object(vt.a)(null))),this.idTokenResult=this.user.pipe(Ut(t=>t?Object(gt.a)(t.getIdTokenResult()):Object(vt.a)(null))),this.credential=Object(Jm.a)(t,d,this.authState.pipe(Yt(t=>!t))).pipe(Object(Vt.a)(t=>(null==t?void 0:t.user)?t:null),Object(nb.a)(h.outsideAngular),Object(Ii.b)(h.insideAngular))}return Object(Ci.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Ci.c),r.Pb(Ci.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(rb,8),r.Pb(ib,8),r.Pb(ob,8),r.Pb(sb,8),r.Pb(ub,8),r.Pb(ab,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Ci.c),Object(r.Pb)(Ci.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(rb,8),Object(r.Pb)(ib,8),Object(r.Pb)(ob,8),Object(r.Pb)(sb,8),Object(r.Pb)(ub,8),Object(r.Pb)(ab,8))},token:t,providedIn:"any"}),t})();function lb(t,e){return function(t,e=mi.a){return new St.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function hb(t,e){return lb(t,e).pipe(Object(Vt.a)(t=>({payload:t,type:"query"})))}function fb(t,e){return hb(t,e).pipe(Gt(void 0),bi(),Object(Vt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function db(t,e,n){return fb(t,n).pipe($t((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return pb(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return pb(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return pb(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Oi(void 0,void 0)),Object(Vt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function pb(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function gb(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(Ci.e)(cb,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class vb{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=fb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Vt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Gt(void 0),bi(),Yt(([t,e])=>e.length>0||!t),Object(Vt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe($t((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=gb(t);return db(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return hb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Vt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(gt.a)(this.query.get(t)).pipe(Object(Ii.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new yb(this.ref.doc(t),this.afs)}}class yb{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Eb(n,e);return new vb(r,i,this.afs)}snapshotChanges(){return lb(this.ref,this.afs.schedulers.outsideAngular).pipe(Gt(void 0),bi(),Object(Vt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Vt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(gt.a)(this.ref.get(t)).pipe(Object(Ii.b)(this.afs.schedulers.insideAngular))}}class mb{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?fb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Vt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Yt(t=>t.length>0),this.afs.keepUnstableUntilFirst):fb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe($t((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=gb(t);return db(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return hb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Vt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(gt.a)(this.query.get(t)).pipe(Object(Ii.b)(this.afs.schedulers.insideAngular))}}const bb=new r.q("angularfire2.enableFirestorePersistence"),wb=new r.q("angularfire2.firestore.persistenceSettings"),_b=new r.q("angularfire2.firestore.settings"),Ob=new r.q("angularfire2.firestore.use-emulator");function Eb(t,e=(t=>t)){return{query:e(t),ref:t}}let Ib=(()=>{class t{constructor(t,e,n,r,i,o,s,u,a){this.schedulers=new Ci.d(o),this.keepUnstableUntilFirst=Object(Ci.h)(this.schedulers);const c=Object(Ci.g)(t,o,e);!yi.a.auth&&a&&Object(Ci.j)();const l=u;[this.firestore,this.persistenceEnabled$]=Object(Ci.f)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!L(i)){const e=()=>{try{return Object(gt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Gm){return"undefined"!=typeof console&&console.warn(Gm),Object(vt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(vt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Eb(n,e),o=this.schedulers.ngZone.run(()=>r);return new vb(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new mb(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new yb(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Ci.c),r.Pb(Ci.b,8),r.Pb(bb,8),r.Pb(_b,8),r.Pb(r.B),r.Pb(r.z),r.Pb(wb,8),r.Pb(Ob,8),r.Pb(rb,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Ci.c),Object(r.Pb)(Ci.b,8),Object(r.Pb)(bb,8),Object(r.Pb)(_b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(wb,8),Object(r.Pb)(Ob,8),Object(r.Pb)(rb,8))},token:t,providedIn:"any"}),t})(),Cb=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:bb,useValue:!0},{provide:wb,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Ib]}),t})(),Sb=(()=>{class t{constructor(t,e){this.db=t,this.afAuth=e,this.isAutenthicated=!1,this.afAuth.authState.subscribe(t=>{this.isAutenthicated=!!t})}cargarProductos(){return this.isAutenthicated?(this.itemsCollection=this.db.collection("productos"),this.itemsCollection.valueChanges()):Object(vt.a)([])}signInGoogle(){return this.afAuth.signInWithPopup(new yi.a.auth.GoogleAuthProvider)}signInUserAndPass(t){return this.afAuth.signInWithEmailAndPassword(t.email,t.password)}signUp(t){return this.afAuth.createUserWithEmailAndPassword(t.email,t.password)}logout(){this.afAuth.signOut()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Ib),r.Pb(cb))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Tb=n("XoHu");function xb(t,e){return new St.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let u=0;u<r;u++){const a=Object(gt.a)(t[u]);let c=!1;n.add(a.subscribe({next:t=>{c||(c=!0,s++),i[u]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Ab=new r.q("NgValueAccessor"),jb={provide:Ab,useExisting:Object(r.T)(()=>kb),multi:!0};let kb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.xb([jb])]}),t})();const Nb={provide:Ab,useExisting:Object(r.T)(()=>Db),multi:!0},Pb=new r.q("CompositionEventMode");let Db=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Pb,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.xb([Nb])]}),t})();function Rb(t){return null==t||0===t.length}function Lb(t){return null!=t&&"number"==typeof t.length}const Vb=new r.q("NgValidators"),Mb=new r.q("NgAsyncValidators"),Ub=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Fb{static min(t){return e=>{if(Rb(e.value)||Rb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(Rb(e.value)||Rb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return Rb(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Rb(t.value)||Ub.test(t.value)?null:{email:!0}}static minLength(t){return e=>Rb(e.value)||!Lb(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Lb(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Fb.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(Rb(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(qb);return 0==e.length?null:function(t){return zb(Bb(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(qb);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(_t.a)(e))return xb(e,null);if(Object(Tb.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return xb(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return xb(t=1===t.length&&Object(_t.a)(t[0])?t[0]:t,null).pipe(Object(Vt.a)(t=>e(...t)))}return xb(t,null)}(Bb(t,e).map(Hb)).pipe(Object(Vt.a)(zb))}}}function qb(t){return null!=t}function Hb(t){const e=Object(r.qb)(t)?Object(gt.a)(t):t;return Object(r.pb)(e),e}function zb(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Bb(t,e){return e.map(e=>e(t))}function Kb(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Gb(t){return null!=t?Fb.compose(Kb(t)):null}function $b(t){return null!=t?Fb.composeAsync(Kb(t)):null}function Wb(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}let Jb=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Gb(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=$b(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),Yb=(()=>{class t extends Jb{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Zb(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const Zb=r.Nb(Yb);class Qb extends Jb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xb{constructor(t){this._cd=t}get ngClassUntouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.untouched)&&void 0!==n&&n}get ngClassTouched(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.touched)&&void 0!==n&&n}get ngClassPristine(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pristine)&&void 0!==n&&n}get ngClassDirty(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.dirty)&&void 0!==n&&n}get ngClassValid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.valid)&&void 0!==n&&n}get ngClassInvalid(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.invalid)&&void 0!==n&&n}get ngClassPending(){var t,e,n;return null!==(n=null===(e=null===(t=this._cd)||void 0===t?void 0:t.control)||void 0===e?void 0:e.pending)&&void 0!==n&&n}}let tw=(()=>{class t extends Xb{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Qb,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})(),ew=(()=>{class t extends Xb{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Yb,10))},t.\u0275dir=r.Db({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();const nw={provide:Ab,useExisting:Object(r.T)(()=>rw),multi:!0};let rw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([nw])]}),t})();const iw={provide:Ab,useExisting:Object(r.T)(()=>sw),multi:!0};let ow=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),sw=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Qb),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(ow),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([iw])]}),t})();const uw={provide:Ab,useExisting:Object(r.T)(()=>aw),multi:!0};let aw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.xb([uw])]}),t})();const cw={provide:Ab,useExisting:Object(r.T)(()=>lw),multi:!0};let lw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([cw])]}),t})();const hw={provide:Ab,useExisting:Object(r.T)(()=>fw),multi:!0};let fw=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.xb([hw])]}),t})();function dw(t,e){gw(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&vw(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&vw(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function pw(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function gw(t,e,n){const r=function(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(Wb(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=function(t){return t._rawAsyncValidators}(t);if(null!==e.asyncValidator?t.setAsyncValidators(Wb(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();pw(e._rawValidators,n),pw(e._rawAsyncValidators,n)}}function vw(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const yw=[kb,aw,rw,lw,fw,sw];function mw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const bw="VALID",ww="INVALID",_w="PENDING",Ow="DISABLED";function Ew(t){return(Tw(t)?t.validators:t)||null}function Iw(t){return Array.isArray(t)?Gb(t):t||null}function Cw(t,e){return(Tw(e)?e.asyncValidators:t)||null}function Sw(t){return Array.isArray(t)?$b(t):t||null}function Tw(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class xw{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Iw(this._rawValidators),this._composedAsyncValidatorFn=Sw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===bw}get invalid(){return this.status===ww}get pending(){return this.status==_w}get disabled(){return this.status===Ow}get enabled(){return this.status!==Ow}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Iw(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Sw(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=_w,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ow,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=bw,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==bw&&this.status!==_w||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ow:bw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=_w,this._hasOwnPendingAsyncValidator=!0;const e=Hb(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof jw?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof kw&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Ow:this.errors?ww:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(_w)?_w:this._anyControlsHaveStatus(ww)?ww:bw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Tw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Aw extends xw{constructor(t=null,e,n){super(Ew(e),Cw(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){mw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){mw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class jw extends xw{constructor(t,e,n){super(Ew(e),Cw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Aw?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class kw extends xw{constructor(t,e,n){super(Ew(e),Cw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Aw?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Nw={provide:Yb,useExisting:Object(r.T)(()=>Dw)},Pw=(()=>Promise.resolve(null))();let Dw=(()=>{class t extends Yb{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new jw({},Gb(t),$b(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Pw.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),dw(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Pw.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),mw(this._directives,t)})}addFormGroup(t){Pw.then(()=>{const e=this._findContainer(t.path),n=new jw({});(function(t,e){gw(t,e,!1)})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Pw.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Pw.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Vb,10),r.Ib(Mb,10))},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Sb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.xb([Nw]),r.vb]}),t})();const Rw={provide:Qb,useExisting:Object(r.T)(()=>Vw)},Lw=(()=>Promise.resolve(null))();let Vw=(()=>{class t extends Qb{constructor(t,e,n,i){super(),this.control=new Aw,this._registered=!1,this.update=new r.n,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Db?n=t:(e=t,yw.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){dw(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Lw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Lw.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Yb,9),r.Ib(Vb,10),r.Ib(Mb,10),r.Ib(Ab,10))},t.\u0275dir=r.Db({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([Rw]),r.vb,r.wb]}),t})(),Mw=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Uw={provide:Vb,useExisting:Object(r.T)(()=>Fw),multi:!0};let Fw=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&""+t!="false",this._onChange&&this._onChange()}validate(t){return this.required?Fb.required(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("required",e.required?"":null)},inputs:{required:"required"},features:[r.xb([Uw])]}),t})();const qw={provide:Vb,useExisting:Object(r.T)(()=>Hw),multi:!0};let Hw=(()=>{class t{constructor(){this._validator=Fb.nullValidator}ngOnChanges(t){"minlength"in t&&(this._createValidator(),this._onChange&&this._onChange())}validate(t){return null==this.minlength?null:this._validator(t)}registerOnValidatorChange(t){this._onChange=t}_createValidator(){this._validator=Fb.minLength("number"==typeof this.minlength?this.minlength:parseInt(this.minlength,10))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(t,e){2&t&&r.zb("minlength",e.minlength?e.minlength:null)},inputs:{minlength:"minlength"},features:[r.xb([qw]),r.wb]}),t})(),zw=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),Bw=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[ow],imports:[zw]}),t})();function Kw(t,e){1&t&&(r.Lb(0,"small",14),r.dc(1," Ingrese usuario v\xe1lido "),r.Kb())}function Gw(t,e){1&t&&(r.Lb(0,"small",14),r.dc(1," Contrase\xf1a de 6 caracteres "),r.Kb())}let $w=(()=>{class t{constructor(t,e){this.fruitService=t,this.router=e}ngOnInit(){this.usuario=new vi}signInGoogle(){console.log("entr\xf3 por google"),this.fruitService.signInGoogle().then(t=>{console.log(t),this.router.navigateByUrl("/home")})}signInUserAndPass(t){t.invalid?Object.values(t.controls).forEach(t=>{t.markAsTouched()}):(console.log("submit disparado"),this.fruitService.signInUserAndPass(this.usuario).then(e=>{t.reset(),console.log("Usuario registrado entr\xf3"),this.router.navigateByUrl("/home")}).catch(t=>{console.log(t)}))}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Sb),r.Ib(Kr))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-login"]],decls:22,vars:8,consts:[[1,"container","text-center","mt-5"],[1,"row"],[1,"col"],["src","assets/fruits.png","width","100","height","100","alt",""],[3,"ngSubmit"],["Form","ngForm"],[1,"form-group"],["name","email","type","email","placeholder","example@example.com","required","",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["class","form-text text-danger",4,"ngIf"],["name","password","type","password","required","","minlength","6","placeholder","password",1,"form-control",3,"ngModel","ngModelChange"],["pass","ngModel"],["type","submit",1,"btn","btn-success","mb-3"],["type","button",1,"btn","btn-primary",3,"click"],[1,"form-text","text-danger"]],template:function(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Jb(3,"img",3),r.Lb(4,"h1"),r.dc(5,"Sign In"),r.Kb(),r.Lb(6,"form",4,5),r.Sb("ngSubmit",function(){r.Zb(t);const n=r.Yb(7);return e.signInUserAndPass(n)}),r.Lb(8,"div",6),r.Lb(9,"input",7,8),r.Sb("ngModelChange",function(t){return e.usuario.email=t}),r.Kb(),r.cc(11,Kw,2,0,"small",9),r.Kb(),r.Lb(12,"div",6),r.Lb(13,"input",10,11),r.Sb("ngModelChange",function(t){return e.usuario.password=t}),r.Kb(),r.cc(15,Gw,2,0,"small",9),r.Kb(),r.Lb(16,"div",1),r.Lb(17,"div",2),r.Lb(18,"button",12),r.dc(19,"Log In"),r.Kb(),r.Kb(),r.Kb(),r.Lb(20,"button",13),r.Sb("click",function(){return e.signInGoogle()}),r.dc(21,"Sign in with Google"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=r.Yb(10),n=r.Yb(14);r.yb(9),r.Ab("is-invalid",t.invalid&&t.touched),r.Vb("ngModel",e.usuario.email),r.yb(2),r.Vb("ngIf",t.invalid&&t.touched),r.yb(2),r.Ab("is-invalid",n.invalid&&n.touched),r.Vb("ngModel",e.usuario.password),r.yb(2),r.Vb("ngIf",n.invalid&&n.touched)}},directives:[Mw,ew,Dw,Db,Fw,tw,Vw,N,Hw],styles:["input[_ngcontent-%COMP%]{margin:auto;text-align:center}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{width:300px}"]}),t})();function Ww(t,e){if(1&t&&(r.Lb(0,"div",5),r.Jb(1,"img",6),r.Lb(2,"div",7),r.Lb(3,"h4",8),r.dc(4),r.Kb(),r.Lb(5,"p",9),r.dc(6),r.Kb(),r.Lb(7,"span",10),r.dc(8),r.Kb(),r.Lb(9,"button",11),r.dc(10,"Comprar"),r.Kb(),r.Kb(),r.Kb()),2&t){const t=e.$implicit;r.yb(1),r.Vb("src",t.image,r.ac)("alt",t.name),r.yb(3),r.ec(t.name),r.yb(2),r.ec(t.desc),r.yb(2),r.fc("s/.",t.price,"")}}let Jw=(()=>{class t{constructor(){this.products=[]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-products-grid"]],inputs:{products:"products"},decls:5,vars:1,consts:[[1,"container"],[1,"row"],[1,"col"],[1,"card-columns"],["class","card ",4,"ngFor","ngForOf"],[1,"card"],[1,"card-img-top",3,"src","alt"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"badge","badge-success"],[1,"btn","btn-primary","btn-block","mt-2"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Lb(3,"div",3),r.cc(4,Ww,11,5,"div",4),r.Kb(),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(4),r.Vb("ngForOf",e.products))},directives:[j],styles:[".card-columns[_ngcontent-%COMP%]{column-count:4}"]}),t})(),Yw=(()=>{class t{constructor(t){this.fruitService=t}ngOnInit(){this.fruitService.cargarProductos().subscribe(t=>{this.products=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Sb))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-products"]],decls:7,vars:1,consts:[[1,"container","mt-3"],[1,"row"],[1,"col"],[3,"products"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Lb(3,"h1"),r.dc(4,"Productos"),r.Kb(),r.Kb(),r.Kb(),r.Jb(5,"hr"),r.Jb(6,"app-products-grid",3),r.Kb()),2&t&&(r.yb(6),r.Vb("products",e.products))},directives:[Jw],styles:[""]}),t})();function Zw(t,e){1&t&&(r.Lb(0,"small",13),r.dc(1," We'll never share your email with anyone else. "),r.Kb())}function Qw(t,e){1&t&&(r.Lb(0,"small",13),r.dc(1," Ingresa contrase\xf1a de 6 caracteres "),r.Kb())}let Xw=(()=>{class t{constructor(t,e){this.fruitService=t,this.router=e}ngOnInit(){this.usuario=new vi}signUp(t){t.invalid?Object.values(t.controls).forEach(t=>{t.markAsTouched()}):this.fruitService.signUp(this.usuario).then(e=>{t.reset(),console.log("Usuario creado"),this.router.navigateByUrl("/home")})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Sb),r.Ib(Kr))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-signup"]],decls:20,vars:8,consts:[[1,"container","text-center","mt-5"],[1,"row"],[1,"col"],["src","assets/fruits.png","width","100","height","100","alt",""],[3,"ngSubmit"],["Form","ngForm"],[1,"form-group"],["name","email","type","email","placeholder","example@example.com","required","",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["class","form-text text-danger",4,"ngIf"],["name","password","type","password","required","","minlength","6","placeholder","password",1,"form-control",3,"ngModel","ngModelChange"],["pass","ngModel"],["type","submit",1,"btn","btn-success","mb-3"],[1,"form-text","text-danger"]],template:function(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"div",2),r.Jb(3,"img",3),r.Lb(4,"h1"),r.dc(5,"Sign up"),r.Kb(),r.Lb(6,"form",4,5),r.Sb("ngSubmit",function(){r.Zb(t);const n=r.Yb(7);return e.signUp(n)}),r.Lb(8,"div",6),r.Lb(9,"input",7,8),r.Sb("ngModelChange",function(t){return e.usuario.email=t}),r.Kb(),r.cc(11,Zw,2,0,"small",9),r.Kb(),r.Lb(12,"div",6),r.Lb(13,"input",10,11),r.Sb("ngModelChange",function(t){return e.usuario.password=t}),r.Kb(),r.cc(15,Qw,2,0,"small",9),r.Kb(),r.Lb(16,"div",1),r.Lb(17,"div",2),r.Lb(18,"button",12),r.dc(19,"Sign Up"),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb(),r.Kb()}if(2&t){const t=r.Yb(10),n=r.Yb(14);r.yb(9),r.Ab("is-invalid",t.invalid&&t.touched),r.Vb("ngModel",e.usuario.email),r.yb(2),r.Vb("ngIf",t.invalid&&t.touched),r.yb(2),r.Ab("is-invalid",n.invalid&&n.touched),r.Vb("ngModel",e.usuario.password),r.yb(2),r.Vb("ngIf",n.invalid&&n.touched)}},directives:[Mw,ew,Dw,Db,Fw,tw,Vw,N,Hw],styles:["input[_ngcontent-%COMP%]{margin:auto;text-align:center}button[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{width:300px}"]}),t})();var t_=n("mCNh");const e_=Object(Vt.a)(t=>!!t);let n_=(()=>{class t{constructor(t,e){this.router=t,this.auth=e,this.canActivate=(t,e)=>{const n=t.data.authGuardPipe||(()=>e_);return this.auth.user.pipe(zt(1),n(t,e),Object(Vt.a)(t=>"boolean"==typeof t?t:Array.isArray(t)?this.router.createUrlTree(t):this.router.parseUrl(t)))}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Kr),r.Pb(cb))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(Kr),Object(r.Pb)(cb))},token:t,providedIn:"any"}),t})();Object(Vt.a)(t=>!!t&&!t.isAnonymous);const r_=Ut(t=>t?t.getIdTokenResult():Object(vt.a)(null));Object(Vt.a)(t=>!!t&&t.emailVerified),Object(t_.a)(r_,Object(Vt.a)(t=>t?t.claims:[]));const i_=[{path:"home",component:gi,canActivate:[n_]},{path:"login",component:$w},{path:"signup",component:Xw},{path:"products",component:Yw,canActivate:[n_]},{path:"**",pathMatch:"full",redirectTo:"login"}];let o_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[si.forRoot(i_)],si]}),t})();const s_=function(){return["/products"]};function u_(t,e){1&t&&(r.Lb(0,"li",11),r.Lb(1,"a",8),r.dc(2,"Productos"),r.Kb(),r.Kb()),2&t&&(r.yb(1),r.Vb("routerLink",r.Wb(1,s_)))}const a_=function(){return["/login"]};function c_(t,e){1&t&&(r.Lb(0,"li",11),r.Lb(1,"a",12),r.dc(2,"Sign In"),r.Kb(),r.Kb()),2&t&&(r.yb(1),r.Vb("routerLink",r.Wb(1,a_)))}const l_=function(){return["/signup"]};function h_(t,e){1&t&&(r.Lb(0,"li",11),r.Lb(1,"a",12),r.dc(2,"Sign up"),r.Kb(),r.Kb()),2&t&&(r.yb(1),r.Vb("routerLink",r.Wb(1,l_)))}function f_(t,e){if(1&t){const t=r.Mb();r.Lb(0,"li",11),r.Lb(1,"a",13),r.Sb("click",function(){return r.Zb(t),r.Ub().logOut()}),r.dc(2,"Log Out"),r.Kb(),r.Kb()}}const d_=function(){return["/home"]};let p_=(()=>{class t{constructor(t,e){this.fruitService=t,this.router=e}ngOnInit(){}logOut(){this.fruitService.logout(),this.router.navigateByUrl("login")}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Sb),r.Ib(Kr))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-navbar"]],decls:14,vars:6,consts:[[1,"navbar","navbar-expand-sm","navbar-dark"],["href","#",1,"navbar-brand"],["src","assets/fruits.png","alt","","width","30","height","30"],["type","button","data-toggle","collapse","data-target","#collapsibleNavId","aria-controls","collapsibleNavId","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","d-lg-none"],[1,"navbar-toggler-icon"],["id","collapsibleNavId",1,"collapse","navbar-collapse"],[1,"navbar-nav","w-100"],["routerLinkActive","active",1,"nav-item","mr-auto"],[1,"nav-link",3,"routerLink"],["class","nav-item ","routerLinkActive"," active",4,"ngIf"],["class","nav-item","routerLinkActive"," active",4,"ngIf"],["routerLinkActive"," active",1,"nav-item"],[1,"nav-link","btn","btn-outline-success","mr-1",3,"routerLink"],[1,"nav-link","btn","btn-outline-danger","mr-1",3,"click"]],template:function(t,e){1&t&&(r.Lb(0,"nav",0),r.Lb(1,"a",1),r.Jb(2,"img",2),r.Kb(),r.Lb(3,"button",3),r.Jb(4,"span",4),r.Kb(),r.Lb(5,"div",5),r.Lb(6,"ul",6),r.Lb(7,"li",7),r.Lb(8,"a",8),r.dc(9,"Fruitylicious "),r.Kb(),r.Kb(),r.cc(10,u_,3,2,"li",9),r.cc(11,c_,3,2,"li",9),r.cc(12,h_,3,2,"li",10),r.cc(13,f_,3,0,"li",10),r.Kb(),r.Kb(),r.Kb()),2&t&&(r.yb(8),r.Vb("routerLink",r.Wb(5,d_)),r.yb(2),r.Vb("ngIf",e.fruitService.isAutenthicated),r.yb(1),r.Vb("ngIf",!e.fruitService.isAutenthicated),r.yb(1),r.Vb("ngIf",!e.fruitService.isAutenthicated),r.yb(1),r.Vb("ngIf",e.fruitService.isAutenthicated))},directives:[Jr,$r,N],styles:["nav[_ngcontent-%COMP%]{background-color:#000}"]}),t})(),g_=(()=>{class t{constructor(){this.title="fruitylicious"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Jb(0,"app-navbar"),r.Jb(1,"router-outlet"))},directives:[p_,Yr],styles:[""]}),t})(),v_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[R,si]]}),t})(),y_=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[g_]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Sb],imports:[[pt,o_,v_,Bw,Ci.a.initializeApp(i),Cb]]}),t})();Object(r.S)(),ft().bootstrapModule(y_).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u}),n.d(e,"c",function(){return a});var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class u extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function a(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);